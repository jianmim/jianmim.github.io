(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["componentsPage-image-upload-image-upload"],{"0032":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"tn-line-progress",props:{percent:{type:Number,default:0,validator:function(t){return t>=0&&t<=100}},height:{type:Number,default:0},round:{type:Boolean,default:!0},striped:{type:Boolean,default:!1},stripedAnimation:{type:Boolean,default:!0},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},showPercent:{type:Boolean,default:!1}},computed:{progressStyle:function(){var t={};return t.borderRadius=this.round?"100rpx":0,this.height&&(t.height=this.$t.string.getLengthUnitValue(this.height)),this.inactiveColor&&(t.backgroundColor=this.inactiveColor),t},progressActiveStyle:function(){var t={};return t.width=this.percent+"%",this.$t.color.getBackgroundColorStyle(this.activeColor)&&(t.backgroundColor=this.$t.color.getBackgroundColorStyle(this.activeColor)),t}},data:function(){return{}}};e.default=i},"0b81":function(t,e,n){"use strict";var i=n("64d4"),o=n.n(i);o.a},"20bd":function(t,e,n){"use strict";var i=n("6d45"),o=n.n(i);o.a},"34d7":function(t,e,n){"use strict";n.r(e);var i=n("9e1d"),o=n("5377");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("5e4c");var s,r=n("f0c5"),l=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"53137ed4",null,!1,i["a"],s);e["default"]=l.exports},"38de":function(t,e,n){"use strict";var i=n("4ea4");n("caad"),n("c975"),n("baa5"),n("fb6a"),n("a9e3"),n("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("1af1")),a={mixins:[o.default],name:"tn-button",behaviors:["wx://form-field-button"],props:{index:{type:[Number,String],default:0},shape:{type:String,default:"default"},shadow:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:""},size:{type:String,default:""},fontBold:{type:Boolean,default:!1},padding:{type:String,default:"0 30rpx"},margin:{type:String,default:""},plain:{type:Boolean,default:!1},border:{type:Boolean,default:!0},borderBold:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},formType:{type:String,default:""},openType:{type:String,default:""},blockRepeatClick:{type:Boolean,default:!1}},computed:{buttonClass:function(){var t="";switch(this.shape){case"icon":case"round":t+=" tn-round";break}if(this.shadow)if(""!==this.backgroundColorClass&&-1!=this.backgroundColorClass.indexOf("tn-bg")){var e=this.backgroundColor.slice(this.backgroundColor.lastIndexOf("-")+1);t+=" tn-shadow-".concat(e)}else t+=" tn-shadow-blur";if(this.fontBold&&(t+=" tn-text-bold"),this.plain&&(t+=" tn-btn--plain",this.border&&(t+=" tn-border-solid",this.borderBold&&(t+=" tn-bold-border"),""!==this.backgroundColor&&this.backgroundColor.includes("tn-bg")))){var n=this.backgroundColor.slice(this.backgroundColor.lastIndexOf("-")+1);t+=" tn-border-".concat(n)}return t},buttonStyle:function(){var t={};switch(this.size){case"sm":t.padding="0 20rpx",t.fontSize="22rpx",t.height=this.height||"48rpx";break;case"lg":t.padding="0 40rpx",t.fontSize="32rpx",t.height=this.height||"80rpx";break;default:t.padding="0 30rpx",t.fontSize="28rpx",t.height=this.height||"64rpx"}return this.padding&&(t.padding=this.padding),this.margin&&(t.margin=this.margin),this.fontSize&&(t.fontSize=this.fontSize+this.fontUnit),t.width="icon"===this.shape?t.height:this.width,t.padding="icon"===this.shape?"0":t.padding,this.fontColorStyle&&(t.color=this.fontColorStyle),this.backgroundColorClass||(this.plain?t.borderColor=this.backgroundColorStyle||"#080808":t.backgroundColor=this.backgroundColorStyle||"#FFFFFF"),this.shadow&&!this.backgroundColorClass&&(-1!=this.backgroundColorStyle.indexOf("#")?t.boxShadow="6rpx 6rpx 8rpx ".concat(this.backgroundColorStyle||"#000000","10"):-1==this.backgroundColorStyle.indexOf("rgb")&&-1==this.backgroundColorStyle.indexOf("rgba")&&this.backgroundColorStyle||(t.boxShadow="6rpx 6rpx 8rpx ".concat(this.backgroundColorStyle||"rgba(0, 0, 0, 0.1)"))),t}},data:function(){return{clickTime:0,clickIntervalTime:200}},methods:{handleClick:function(){var t=this;if(!this.disabled){if(this.blockRepeatClick){var e=(new Date).getTime();if(e-this.clickTime<=this.clickIntervalTime)return;this.clickTime=e,setTimeout((function(){t.clickTime=0}),this.clickIntervalTime)}this.$emit("click",{index:Number(this.index)}),this.$emit("tap",{index:Number(this.index)})}},handleGetUserInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.detail,n=void 0===e?{}:e;this.$emit("getuserinfo",n)},handleContact:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.detail,n=void 0===e?{}:e;this.$emit("contact",n)},handleGetPhoneNumber:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.detail,n=void 0===e?{}:e;this.$emit("getphonenumber",n)},handleError:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.detail,n=void 0===e?{}:e;this.$emit("error",n)}}};e.default=a},5263:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-button",{staticClass:"tn-btn-class tn-btn",class:[t.buttonClass,t.backgroundColorClass,t.fontColorClass],style:[t.buttonStyle],attrs:{"hover-class":"tn-hover",loading:t.loading,disabled:t.disabled,"form-type":t.formType,"open-type":t.openType},on:{getuserinfo:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGetUserInfo.apply(void 0,arguments)},getphonenumber:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGetPhoneNumber.apply(void 0,arguments)},contact:function(e){arguments[0]=e=t.$handleEvent(e),t.handleContact.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.handleError.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick.apply(void 0,arguments)}}},[t._t("default")],2)},a=[]},5377:function(t,e,n){"use strict";n.r(e);var i=n("f7ab"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},5748:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={tnNavBar:n("0e08").default,tnImageUpload:n("34d7").default,tnButton:n("fc68").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"components-image_upload"},[n("tn-nav-bar",{attrs:{fixed:!0}},[t._v("图片上传")]),n("v-uni-view",{style:{paddingTop:t.vuex_custom_bar_height+"px"}},[n("dynamic-demo-template",{ref:"demoTemplate",attrs:{tips:t.tips,sectionList:t.sectionList,full:!0,fullWindowsScroll:t.fullWindowsScroll},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}},[n("tn-image-upload",{ref:"imageUpload",attrs:{action:t.action,formData:t.formData,fileList:t.fileList,disabled:t.disabled,autoUpload:t.autoUpload,maxCount:t.maxCount,showUploadList:t.showUploadList,showProgress:t.showProgress,deleteable:t.deleteable,customBtn:t.customBtn,beforeUpload:t.beforeUpload},on:{"on-list-change":function(e){arguments[0]=e=t.$handleEvent(e),t.listChange.apply(void 0,arguments)},"on-oversize":function(e){arguments[0]=e=t.$handleEvent(e),t.oversize.apply(void 0,arguments)},"on-exceed":function(e){arguments[0]=e=t.$handleEvent(e),t.exceed.apply(void 0,arguments)},"on-choose-complete":function(e){arguments[0]=e=t.$handleEvent(e),t.chooseComplete.apply(void 0,arguments)},"on-choose-fail":function(e){arguments[0]=e=t.$handleEvent(e),t.chooseFail.apply(void 0,arguments)},"on-uploaded":function(e){arguments[0]=e=t.$handleEvent(e),t.uploaded.apply(void 0,arguments)},"on-success":function(e){arguments[0]=e=t.$handleEvent(e),t.uploadSuccess.apply(void 0,arguments)},"on-change":function(e){arguments[0]=e=t.$handleEvent(e),t.uploadChange.apply(void 0,arguments)},"on-progress":function(e){arguments[0]=e=t.$handleEvent(e),t.uploadProgress.apply(void 0,arguments)},"on-error":function(e){arguments[0]=e=t.$handleEvent(e),t.uploadError.apply(void 0,arguments)},"on-remove":function(e){arguments[0]=e=t.$handleEvent(e),t.fileRemove.apply(void 0,arguments)}}},[t.showUploadList?t._e():n("v-uni-view",{staticStyle:{width:"100%"},attrs:{slot:"file"},slot:"file"},t._l(t.lists,(function(t,e){return n("v-uni-view",{key:e,staticClass:"tn-image-upload__item"},[n("v-uni-image",{staticClass:"tn-image-upload__item__image",attrs:{src:t.url||t.path,mode:"aspectFill"}})],1)})),1),t.customBtn?n("v-uni-view",{staticClass:"tn-image-upload__custom-btn",attrs:{slot:"addBtn","hover-class":"tn-hover-class","hover-stay-time":"150"},slot:"addBtn"},[n("v-uni-view",[t._v("选择图片")])],1):t._e()],1),n("v-uni-view",{staticClass:"tn-flex tn-margin-top-xs tn-flex-row-center"},[n("tn-button",{attrs:{backgroundColor:"#01BEFF",fontColor:"tn-color-white"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.upload.apply(void 0,arguments)}}},[t._v("上传")]),n("tn-button",{attrs:{fontColor:"tn-color-white",backgroundColor:"tn-bg-red",margin:"0rpx 0rpx 0rpx 20rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._v("清空列表")])],1)],1)],1)],1)},a=[]},"5c02":function(t,e,n){var i=n("d306");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("b008674a",i,!0,{sourceMap:!1,shadowMode:!1})},"5e4c":function(t,e,n){"use strict";var i=n("f45b"),o=n.n(i);o.a},"64d4":function(t,e,n){var i=n("d204");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("62c89a4e",i,!0,{sourceMap:!1,shadowMode:!1})},6568:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \n */.tn-image-upload[data-v-53137ed4]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center}.tn-image-upload__item[data-v-53137ed4]{display:flex;align-items:center;justify-content:center;width:%?200?%;height:%?200?%;overflow:hidden;margin:%?12?%;margin-left:0;background-color:#e6e6e6;position:relative;border-radius:%?10?%}.tn-image-upload__item-preview[data-v-53137ed4]{border:%?1?% solid rgba(0,0,0,.1)}.tn-image-upload__item-preview__delete[data-v-53137ed4]{display:flex;align-items:center;justify-content:center;position:absolute;top:0;right:0;z-index:10;border-top:%?60?% solid;border-left:%?60?% solid transparent;border-top-color:#e83a30;width:%?0?%;height:%?0?%}.tn-image-upload__item-preview__delete--icon[data-v-53137ed4]{position:absolute;top:%?-50?%;right:%?6?%;color:#fff;font-size:%?24?%;line-height:1}.tn-image-upload__item-preview__progress[data-v-53137ed4]{position:absolute;width:auto;bottom:%?0?%;left:%?0?%;right:%?0?%;z-index:9}.tn-image-upload__item-preview__error-btn[data-v-53137ed4]{position:absolute;bottom:0;left:0;right:0;background-color:#e83a30;color:#fff;font-size:%?20?%;padding:%?8?% 0;text-align:center;z-index:9;line-height:1}.tn-image-upload__item-preview__image[data-v-53137ed4]{display:block;width:100%;height:100%;border-radius:%?10?%}.tn-image-upload__item-add[data-v-53137ed4]{flex-direction:column;color:#838383;font-size:%?26?%}.tn-image-upload__item-add--icon[data-v-53137ed4]{font-size:%?40?%}.tn-image-upload__item-add__tips[data-v-53137ed4]{margin-top:%?20?%;line-height:%?40?%}.tn-image-upload__add[data-v-53137ed4]{width:auto;display:inline-block}.tn-image-upload__add--custom[data-v-53137ed4]{width:100%}',""]),t.exports=e},"6d45":function(t,e,n){var i=n("fc31");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("24731190",i,!0,{sourceMap:!1,shadowMode:!1})},"7a3e":function(t,e,n){"use strict";var i=n("4ea4");n("a434"),n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("6273")),a={components:{dynamicDemoTemplate:o.default},data:function(){return{action:"https://www.hualigs.cn/api/upload",formData:{apiType:"this,ali",token:"dffc1e06e636cff0fdf7d877b6ae6a2e",image:null},fileList:[],showUploadList:!0,customBtn:!1,autoUpload:!0,showProgress:!0,deleteable:!0,customStyle:!1,maxCount:9,disabled:!1,lists:[],tips:["无需依赖额外的样式文件","使用tn-image-upload组件"],sectionList:[{name:"参数切换",section:[{title:"上传方式",optional:["自动上传","手动上传"],methods:"autoUploadChange"},{title:"进度显示",optional:["是","否"],methods:"showProgressChange"},{title:"删除按钮显示",optional:["是","否"],methods:"deleteableChange"},{title:"最大上传数",optional:["2","6","9"],methods:"maxCountChange",current:2},{title:"自定义列表和上传按钮样式",optional:["是","否"],methods:"customUploadListChange",current:1},{title:"是否禁用",optional:["是","否"],methods:"disabledChange",current:1}]}],fullWindowsScroll:!1}},methods:{click:function(t){this[t.methods]&&this[t.methods](t)},autoUploadChange:function(t){this.autoUpload=0===t.index},showProgressChange:function(t){this.showProgress=0===t.index},deleteableChange:function(t){this.deleteable=0===t.index},maxCountChange:function(t){this.maxCount=Number(t.name)},customUploadListChange:function(t){0===t.index?(this.customStyle=!0,this.showUploadList=!1,this.customBtn=!0):1===t.index&&(this.customStyle=!1,this.showUploadList=!0,this.customBtn=!1),this.$refs.demoTemplate.updateSectionScrollView()},disabledChange:function(t){this.disabled=0===t.index,this.$refs.demoTemplate.updateSectionScrollView()},upload:function(){this.$refs.imageUpload.upload()},clear:function(){this.$refs.imageUpload.clear()},beforeUpload:function(t,e){return console.log("文件上传前执行",e,t),console.log(this.formData),this.formData.image=e[t].file,!0},listChange:function(t,e){var n=this;console.log("上传文件列表发生改变",t,e),this.lists.splice(0,this.lists.length),this.$nextTick((function(){n.lists=n.$t.deepClone(t),n.customStyle&&t.length>4?n.fullWindowsScroll=!0:n.$refs.demoTemplate.updateSectionScrollView()}))},oversize:function(t,e,n){console.log("上传的文件超过大小",t,e,n)},exceed:function(t,e,n){console.log("上传的文件超过允许数量",t,e,n)},chooseComplete:function(t,e){console.log("文件选择成功",t,e)},chooseFail:function(t){console.log("文件选择失败",t)},uploaded:function(t,e){console.log("全部上传文件处理完成",t,e)},uploadSuccess:function(t,e,n,i){console.log("文件上传成功",t,e,n,i)},uploadChange:function(t,e,n,i){console.log("文件上传信息有变",t,e,n,i)},uploadProgress:function(t,e,n,i){console.log("文件上传进度",t,e,n,i)},uploadError:function(t,e,n,i){console.log("文件上传失败",t,e,n,i)},fileRemove:function(t,e,n){console.log("文件移除成功",t,e,n)}}};e.default=a},"7bab":function(t,e,n){"use strict";n.r(e);var i=n("0032"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},8581:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"tn-line-progress-class tn-line-progress",style:[t.progressStyle]},[n("v-uni-view",{staticClass:"tn-line-progress--active",class:[t.$t.color.getBackgroundColorInternalClass(t.activeColor),t.striped?t.stripedAnimation?"tn-line-progress__striped tn-line-progress__striped--active":"tn-line-progress__striped":""],style:[t.progressActiveStyle]},[t.$slots.default||t.$slots.$default?t._t("default"):t.showPercent?[t._v(t._s(t.percent+"%"))]:t._e()],2)],1)},a=[]},"91b2":function(t,e,n){"use strict";n.r(e);var i=n("7a3e"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"95e3":function(t,e,n){"use strict";n.r(e);var i=n("8581"),o=n("7bab");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("0b81");var s,r=n("f0c5"),l=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"0a614cb6",null,!1,i["a"],s);e["default"]=l.exports},"9e1d":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={tnLineProgress:n("95e3").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.disabled?t._e():n("v-uni-view",{staticClass:"tn-image-upload-class tn-image-upload"},[t.showUploadList?t._l(t.lists,(function(e,i){return n("v-uni-view",{key:i,staticClass:"tn-image-upload__item tn-image-upload__item-preview",style:{width:t.$t.string.getLengthUnitValue(t.width),height:t.$t.string.getLengthUnitValue(t.height)}},[t.deleteable?n("v-uni-view",{staticClass:"tn-image-upload__item-preview__delete",style:{borderTopColor:t.deleteBackgroundColor},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.deleteItem(i)}}},[n("v-uni-view",{staticClass:"tn-image-upload__item-preview__delete--icon",class:["tn-icon-"+t.deleteIcon],style:{color:t.deleteColor}})],1):t._e(),t.showProgress&&e.progress>0&&!e.error?n("tn-line-progress",{staticClass:"tn-image-upload__item-preview__progress",attrs:{percent:e.progress,showPercent:!1,round:!1,height:8}}):t._e(),e.error?n("v-uni-view",{staticClass:"tn-image-upload__item-preview__error-btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.retry(i)}}},[t._v("点击重试")]):t._e(),n("v-uni-image",{staticClass:"tn-image-upload__item-preview__image",attrs:{src:e.url||e.path,mode:t.imageMode},on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.doPreviewImage(e.url||e.path,i)}}})],1)})):t._e(),t._t("file",null,{file:t.lists}),t.maxCount>t.lists.length?n("v-uni-view",{staticClass:"tn-image-upload__add",class:{"tn-image-upload__add--custom":t.customBtn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectFile.apply(void 0,arguments)}}},[t.customBtn?t._e():n("v-uni-view",{staticClass:"tn-image-upload__item tn-image-upload__item-add",style:{width:t.$t.string.getLengthUnitValue(t.width),height:t.$t.string.getLengthUnitValue(t.height)},attrs:{"hover-class":"tn-hover-class","hover-stay-time":"150"}},[n("v-uni-view",{staticClass:"tn-image-upload__item-add--icon tn-icon-add"}),n("v-uni-view",{staticClass:"tn-image-upload__item-add__tips"},[t._v(t._s(t.uploadText))])],1),n("v-uni-view",[t._t("addBtn")],2)],1):t._e()],2)},a=[]},baa5:function(t,e,n){var i=n("23e7"),o=n("e58c");i({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},d204:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \n */.tn-line-progress[data-v-0a614cb6]{display:inline-flex;align-items:center;width:100%;height:%?28?%;overflow:hidden;border-radius:%?100?%;background-color:#f0f0f0}.tn-line-progress--active[data-v-0a614cb6]{display:flex;flex-direction:row;align-items:center;justify-items:flex-end;justify-content:space-around;width:0;height:100%;font-size:%?20?%;color:#fff;background-color:#01beff;transition:all .3s ease}.tn-line-progress__striped[data-v-0a614cb6]{background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-size:%?80?% %?80?%}.tn-line-progress__striped--active[data-v-0a614cb6]{-webkit-animation:progress-striped-data-v-0a614cb6 2s linear infinite;animation:progress-striped-data-v-0a614cb6 2s linear infinite}@-webkit-keyframes progress-striped-data-v-0a614cb6{0%{background-position:0 0}100%{background-position:%?80?% 0}}@keyframes progress-striped-data-v-0a614cb6{0%{background-position:0 0}100%{background-position:%?80?% 0}}',""]),t.exports=e},d306:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \n */.tn-image-upload__item[data-v-506fa826]{width:100%;height:%?180?%;border-radius:%?30?%;margin-bottom:%?20?%}.tn-image-upload__item__image[data-v-506fa826]{width:100%;height:%?180?%;border-radius:%?30?%}.tn-image-upload__custom-btn[data-v-506fa826]{background-color:#e6e6e6;width:100%;height:%?180?%;display:flex;align-items:center;justify-content:center;border-radius:%?30?%}',""]),t.exports=e},d721:function(t,e,n){"use strict";n.r(e);var i=n("38de"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},f408:function(t,e,n){"use strict";n.r(e);var i=n("5748"),o=n("91b2");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("ff0a");var s,r=n("f0c5"),l=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"506fa826",null,!1,i["a"],s);e["default"]=l.exports},f45b:function(t,e,n){var i=n("6568");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("8ab5fdc0",i,!0,{sourceMap:!1,shadowMode:!1})},f7ab:function(t,e,n){"use strict";var i=n("4ea4");n("caad"),n("d81d"),n("45fc"),n("a434"),n("a9e3"),n("d3b7"),n("ac1f"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var o=i(n("1da1")),a={name:"tn-image-upload",props:{fileList:{type:Array,default:function(){return[]}},action:{type:String,default:""},name:{type:String,default:"file"},header:{type:Object,default:function(){return{}}},formData:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},autoUpload:{type:Boolean,default:!0},maxCount:{type:Number,default:9},showUploadList:{type:Boolean,default:!0},imageMode:{type:String,default:"aspectFill"},previewFullImage:{type:Boolean,default:!0},showProgress:{type:Boolean,default:!0},deleteable:{type:Boolean,default:!0},deleteIcon:{type:String,default:"close"},deleteBackgroundColor:{type:String,default:""},deleteColor:{type:String,default:""},uploadText:{type:String,default:"选择图片"},showTips:{type:Boolean,default:!0},customBtn:{type:Boolean,default:!1},width:{type:Number,default:200},height:{type:Number,default:200},sizeType:{type:Array,default:function(){return["original","compressed"]}},sourceType:{type:Array,default:function(){return["album","camera"]}},multiple:{type:Boolean,default:!0},maxSize:{type:Number,default:10485760},limitType:{type:Array,default:function(){return["png","jpg","jpeg","webp","gif","image"]}},toJson:{type:Boolean,default:!0},beforeUpload:{type:Function,default:null},beforeRemove:{type:Function,default:null},index:{type:[Number,String],default:""}},computed:{},data:function(){return{lists:[],uploading:!1}},watch:{fileList:{handler:function(t){var e=this;t.map((function(t){var n=e.lists.some((function(e){return e.url===t.url}));!n&&e.lists.push({url:t.url,error:!1,progress:100})}))},immediate:!0},lists:function(t){this.$emit("on-list-change",t,this.index)}},methods:{clear:function(){this.lists=[]},reUpload:function(){this.uploadFile()},selectFile:function(){var t=this;if(!this.disabled){this.name;var e=this.maxCount,n=this.multiple,i=this.maxSize,o=this.sizeType,a=this.lists,s=(this.camera,this.compressed,this.sourceType),r=null,l=e-a.length;r=new Promise((function(t,e){uni.chooseImage({count:n?l>9?9:l:1,sourceType:s,sizeType:o,success:t,fail:e})})),r.then((function(o){var s=a.length;o.tempFiles.map((function(o,s){if(t.checkFileExt(o)&&(n||!(s>=1)))if(o.size>i)t.$emit("on-oversize",o,a,t.index),t.showToast("超出可允许文件大小");else{if(e<=a.length)return t.$emit("on-exceed",o,a,t.index),void t.showToast("超出最大允许的文件数");a.push({url:o.path,progress:0,error:!1,file:o})}})),t.$emit("on-choose-complete",t.lists,t.index),t.autoUpload&&t.uploadFile(s)})).catch((function(e){t.$emit("on-choose-fail",e)}))}},showToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.showTips||e)&&this.$t.message.toast(t)},upload:function(){this.uploadFile()},retry:function(t){this.lists[t].progress=0,this.lists[t].error=!1,this.lists[t].response=null,this.$t.message.loading("重新上传"),this.uploadFile(t)},uploadFile:function(){var t=arguments,e=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var i,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.length>0&&void 0!==t[0]?t[0]:0,!e.disabled){n.next=3;break}return n.abrupt("return");case 3:if(!e.uploading){n.next=5;break}return n.abrupt("return");case 5:if(!(i>=e.lists.length)){n.next=8;break}return e.$emit("on-uploaded",e.lists,e.index),n.abrupt("return");case 8:if(100!==e.lists[i].progress){n.next=12;break}return e.lists[i].uploadTask=null,e.autoUpload&&e.uploadFile(i+1),n.abrupt("return");case 12:if(!e.beforeUpload||"function"!==typeof e.beforeUpload){n.next=23;break}if(o=e.beforeUpload.bind(e.$t.$parent.call(e))(i,e.lists),!o||"function"!==typeof o.then){n.next=19;break}return n.next=17,o.then((function(t){})).catch((function(t){return e.uploadFile(i+1)}));case 17:n.next=23;break;case 19:if(!1!==o){n.next=23;break}return n.abrupt("return",e.uploadFile(i+1));case 23:if(e.action){n.next=26;break}return e.showToast("请配置上传地址",!0),n.abrupt("return");case 26:e.lists[i].error=!1,e.uploading=!0,a=uni.uploadFile({url:e.action,filePath:e.lists[i].url,name:e.name,formData:e.formData,header:e.header,success:function(t){var n=e.toJson&&e.$t.test.jsonString(t.data)?JSON.parse(t.data):t.data;[200,201,204].includes(t.statusCode)?(e.lists[i].response=n,e.lists[i].progress=100,e.lists[i].error=!1,e.$emit("on-success",n,i,e.lists,e.index)):e.uploadError(i,n)},fail:function(t){e.uploadError(i,t)},complete:function(t){e.$t.message.closeLoading(),e.uploading=!1,e.uploadFile(i+1),e.$emit("on-change",t,i,e.lists,e.index)}}),e.lists[i].uploadTask=a,a.onProgressUpdate((function(t){t.progress>0&&(e.lists[i].progress=t.progress,e.$emit("on-progress",t,i,e.lists,e.index))}));case 31:case"end":return n.stop()}}),n)})))()},uploadError:function(t,e){this.lists[t].progress=0,this.lists[t].error=!0,this.lists[t].response=null,this.showToast("上传失败，请重试"),this.$emit("on-error",e,t,this.lists,this.index)},deleteItem:function(t){var e=this;this.deleteable&&this.$t.message.modal("提示","您确定要删除吗？",(0,o.default)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.beforeRemove||"function"!==typeof e.beforeRemove){n.next=10;break}if(i=e.beforeRemove.bind(e.$t.$parent.call(e))(t,e.lists),!i||"function"!==typeof i.then){n.next=7;break}return n.next=5,i.then((function(n){e.handlerDeleteItem(t)})).catch((function(t){e.showToast("删除操作被中断")}));case 5:n.next=8;break;case 7:!1===i?e.showToast("删除操作被中断"):e.handlerDeleteItem(t);case 8:n.next=11;break;case 10:e.handlerDeleteItem(t);case 11:case"end":return n.stop()}}),n)}))),!0)},handlerDeleteItem:function(t){this.lists[t].progress<100&&this.lists[t].progress>0&&"undefined"!==typeof this.lists[t].uploadTask&&this.lists[t].uploadTask.abort(),this.lists.splice(t,1),this.$forceUpdate(),this.$emit("on-remove",t,this.lists,this.index),this.showToast("删除成功")},remove:function(t){this.deleteable&&t>=0&&t<this.lists.length&&this.lists.splice(t,1)},doPreviewImage:function(t,e){var n=this;if(this.previewFullImage){var i=this.lists.map((function(t){return t.url||t.path}));uni.previewImage({urls:i,current:t,success:function(){n.$emit("on-preview",t,n.lists,n.index)},fail:function(){n.showToast("预览图片失败")}})}},checkFileExt:function(t){var e=!1,n="",i=/.+\./;return n=t.name.replace(i,"").toLowerCase(),e=this.limitType.some((function(t){return t.toLowerCase()===n})),e||this.showToast("不支持".concat(n,"格式的文件")),e}}};e.default=a},fc31:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \n */.tn-btn[data-v-8b7a20a2]{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;line-height:1;text-align:center;text-decoration:none;overflow:visible;-webkit-transform:translate(%?0?%,%?0?%);transform:translate(%?0?%,%?0?%);border-radius:%?12?%;margin:0}.tn-btn--plain[data-v-8b7a20a2]{background-color:initial!important;background-image:none}.tn-btn--plain.tn-round[data-v-8b7a20a2]{border-radius:%?1000?%!important}',""]),t.exports=e},fc68:function(t,e,n){"use strict";n.r(e);var i=n("5263"),o=n("d721");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("20bd");var s,r=n("f0c5"),l=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"8b7a20a2",null,!1,i["a"],s);e["default"]=l.exports},ff0a:function(t,e,n){"use strict";var i=n("5c02"),o=n.n(i);o.a}}]);
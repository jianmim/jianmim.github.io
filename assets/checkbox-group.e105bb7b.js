import{b as e,aO as a,$ as l,a4 as s,x as o,c as t,H as c,y as u,w as n,V as d,W as r,a0 as i,a as v,o as b,e as m,f as h,g as p,K as k,u as x,a1 as f,h as y,a2 as g,C,n as S,k as _,_ as V,d as B,a3 as j,I as D,z as E,a5 as $}from"./index-80b03063.js";import{b as z,i as N}from"./index.b621671f.js";import{i as G}from"./is-number.acae358a.js";import{U as I,C as w}from"./event.5568c9d8.js";import{u as O,c as q,b as K}from"./index.f7e3486a.js";const A=Symbol("checkboxGroupKey"),H=e({size:a,checkedShape:{type:String,values:["square","circle"]},disabled:Boolean,labelDisabled:Boolean,border:Boolean,activeColor:{type:String,default:""}}),R=e({...H,modelValue:{type:[String,Number,Boolean],default:void 0},label:{type:[String,Number]},indeterminate:Boolean,activeValue:{type:[String,Number,Boolean],default:!0},inactiveValue:{type:[String,Number,Boolean],default:!1},customStyle:l,customClass:String,validateEvent:{type:Boolean,default:!0}}),T=e=>{const a=o(A,void 0),l=O(t((()=>N(null==e?void 0:e.size,null==a?void 0:a.size)))),s=t((()=>N(null==e?void 0:e.checkedShape,null==a?void 0:a.checkedShape,"square"))),c=q(t((()=>(null==e?void 0:e.disabled)||(null==a?void 0:a.disabled)||!1))),u=t((()=>(null==a?void 0:a.modelValue)&&(null==a?void 0:a.max)&&(null==a?void 0:a.modelValue.length)>=(null==a?void 0:a.max)&&!(null==a?void 0:a.modelValue.includes(e.label)))),n=t((()=>(null==e?void 0:e.labelDisabled)||(null==a?void 0:a.labelDisabled)||!1)),d=t((()=>(null==e?void 0:e.border)||(null==a?void 0:a.border)||!1)),r=t((()=>(null==e?void 0:e.activeColor)||(null==a?void 0:a.activeColor)));return{checkboxGroup:a,size:l,checkedShape:s,disabled:c,maxDisabled:u,labelDisabled:n,border:d,activeColor:r}},U=V(v({__name:"checkbox",props:R,emits:{[I]:e=>s(e)||G(e)||z(e),[w]:e=>s(e)||G(e)||z(e)},setup(e){const a=e,{isGroup:l,selected:s,handleCheckboxClick:o}=(e=>{const{emit:a}=u(),{checkboxGroup:l,disabled:s,maxDisabled:o,labelDisabled:n}=T(e),{formItem:d}=K(),r=t((()=>!!l)),i=t((()=>{return r.value?(a=l.modelValue,s=e.label,a.includes(s)):e.modelValue===e.activeValue;var a,s}));return{isGroup:r,selected:i,handleCheckboxClick:t=>{var u;if(!(s.value||o.value||"label"===t&&n.value))if(r.value)l.changeEvent(e.label);else{const l=i.value?e.inactiveValue:e.activeValue;a(I,l),c((()=>{a(w,l)})),e.validateEvent&&(null==(u=null==d?void 0:d.validate)||u.call(d,"change").catch((e=>{})))}}}})(a),{ns:n,checkboxClass:v,checkboxStyle:V,checkboxCheckedBoxClass:B,checkboxCheckedBoxStyle:j}=(e=>{const a=d("checkbox"),{activeColor:l,disabled:s,maxDisabled:o,size:c,border:u,checkedShape:n}=T(e),[v,b]=r(l,"bg"),[m,h]=r(l,"text"),[p,k]=r(l,"border"),x=t((()=>l=>{const t=[a.b()];return(s.value||o.value)&&t.push(a.m("disabled")),c.value&&t.push(a.m(c.value)),l&&(t.push(a.m("selected")),m.value&&t.push(m.value)),u.value?(t.push("tn-border"),l&&p.value?t.push(p.value):t.push("tn-gray-disabled_border")):t.push(a.m("no-border")),e.customClass&&t.push(e.customClass),t.join(" ")})),f=t((()=>a=>{const l={};return a&&(u.value&&!p.value&&(l.borderColor=k.value||"var(--tn-color-primary)"),m.value||(l.color=h.value||"var(--tn-color-primary)")),i(e.customStyle)||Object.assign(l,e.customStyle),l})),y=t((()=>l=>{const s=[a.e("checked-box")];return n.value&&s.push(a.em("checked-box",n.value)),l||e.indeterminate?(s.push(a.em("checked-box","selected")),v.value&&s.push(v.value)):s.push("tn-border tn-gray-disabled_border"),s.join(" ")})),g=t((()=>a=>{const l={};return!a&&!e.indeterminate||v.value||(l.backgroundColor=b.value||"var(--tn-color-primary)"),l}));return{ns:a,checkboxClass:x,checkboxStyle:f,checkboxCheckedBoxClass:y,checkboxCheckedBoxStyle:g}})(Object.assign(a));return(e,a)=>{const t=_;return b(),m(t,{class:k([x(v)(x(s)),{[x(n).m("group")]:x(l)}]),style:C(x(V)(x(s))),onClick:a[1]||(a[1]=S((e=>x(o)("label")),["stop"]))},{default:h((()=>[p(" 左边内容 "),e.$slots.left&&!e.$slots.default?(b(),m(t,{key:0,class:k([x(n).em("content","left")])},{default:h((()=>[f(e.$slots,"left",{},void 0,!0)])),_:3},8,["class"])):p("v-if",!0),p(" 选择框 "),y(t,{class:k([x(B)(x(s)),{[x(n).em("checked-box","indeterminate")]:!x(s)&&e.indeterminate}]),style:C(x(j)(x(s))),onClick:a[0]||(a[0]=S((e=>x(o)("checkbox")),["stop"]))},{default:h((()=>[x(s)?(b(),m(g,{key:0,name:"check"})):p("v-if",!0)])),_:1},8,["class","style"]),p(" 右边内容 "),e.$slots.default?(b(),m(t,{key:1,class:k([x(n).em("content","right")])},{default:h((()=>[f(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])):p("v-if",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-c0258710"]]),W=V(v({__name:"checkbox-group",props:e({...H,modelValue:{type:B(Array),default:()=>[]},min:Number,max:Number,wrap:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0}}),emits:{[I]:e=>j(e),[w]:e=>j(e)},setup(e,{emit:a}){const l=e,s=d("checkbox-group"),{changeEvent:o}=((e,a)=>{const{formItem:l}=K();return n((()=>e.modelValue),(()=>{var a;e.validateEvent&&(null==(a=null==l?void 0:l.validate)||a.call(l,"change").catch((e=>{})))})),{changeEvent:l=>{const{modelValue:s,max:o}=e,t=[...s];if(t.includes(l))t.splice(t.indexOf(l),1);else{if(o&&t.length>=o)return;t.push(l)}a(I,t),c((()=>{a(w,t)}))}}})(l,a);return D(A,E({...$(l),changeEvent:o})),(e,a)=>{const o=_;return b(),m(o,{class:k([x(s).b(),x(s).is("wrap",l.wrap)])},{default:h((()=>[f(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-9fb7a09a"]]);export{W as T,U as a};

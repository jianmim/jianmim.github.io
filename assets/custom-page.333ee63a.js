import{b as e,d as t,V as a,W as n,X as o,c as l,Z as s,a8 as i,y as r,a as c,L as d,H as h,o as u,i as p,h as g,f,g as v,K as b,u as m,C as y,e as x,a1 as k,n as I,a2 as B,m as _,t as S,F as w,k as z,_ as C}from"./index-80b03063.js";import{Z as H,u as $,e as W,b as P,f as F,t as O}from"./index.b621671f.js";const R=e({height:String,bgColor:String,textColor:String,frosted:Boolean,opacity:{type:Number,default:1},backIcon:{type:String,default:"left"},backText:String,homeIcon:{type:String,default:"home-capsule-fill"},bottomShadow:{type:Boolean,default:!0},safeAreaInsetRight:{type:Boolean,default:!0},center:{type:Boolean,default:!0},rightOperationWidth:String,beforeBack:{type:t(Function)},beforeHome:{type:t(Function)},indexUrl:{type:String,default:"/pages/index/index"},fixed:Boolean,placeholder:{type:Boolean,default:!0},zIndex:{type:Number,default:H.navbar}}),T=C(c({__name:"navbar",props:R,emits:{initFinish:e=>!0},setup(e,{emit:t}){const c=e,{navbackButtonType:C,hasRightOperation:H,clickBackEvent:R,clickHomeEvent:T}=(e=>{const{slots:t}=r();return{navbackButtonType:l((()=>(null==t?void 0:t.back)?"custom":(null==e?void 0:e.backText)?"text":(null==e?void 0:e.backIcon)&&(null==e?void 0:e.homeIcon)?"multi":(null==e?void 0:e.backIcon)||(null==e?void 0:e.homeIcon)?"single":"none")),hasRightOperation:l((()=>!!(null==t?void 0:t.right))),clickBackEvent:()=>{const{beforeBack:t}=e;if(!t)return void W(e.indexUrl);const a=t();[i(a),P(a)].includes(!0)||F("TnNavbar","beforeBack 返回值必须是 Promise 或者 Boolean 类型"),i(a)?a.then((t=>{t&&W(e.indexUrl)})).catch((e=>{})):a&&W(e.indexUrl)},clickHomeEvent:()=>{const{beforeHome:t}=e;if(!t)return void O(e.indexUrl,"reLaunch");const a=t();[i(a),P(a)].includes(!0)||F("TnNavbar","beforeHome 返回值必须是 Promise 或者 Boolean 类型"),i(a)?a.then((t=>{t&&O(e.indexUrl,"reLaunch")})).catch((e=>{})):a&&O(e.indexUrl,"reLaunch")}}})(c),{ns:U,backNs:N,navBarInfo:j,navbarClass:L,navbarStyle:D,navbarBgClass:E,navbarBgStyle:A,navbarPlaceholderStyle:M,navbarWrapperStyle:X,backStyle:Z,contentStyle:K,rightOperationStyle:V}=((e,t,i)=>{const r=a("navbar"),c=a("navbar-back"),{navBarInfo:d,navBarBoundingInfo:h}=$(),[u,p]=n(o(e,"bgColor"),"bg"),[g,f]=n(o(e,"textColor"),"text"),v=l((()=>e.height?s(e.height):`${d.height}px`)),b=l((()=>{const t=[r.b()];return e.fixed&&t.push(r.m("fixed")),e.bottomShadow&&t.push("tn-shadow"),g.value&&t.push(g.value),t.join(" ")})),m=l((()=>{const t={};return t.height=v.value,e.zIndex&&(t.zIndex=e.zIndex),void 0!==(null==e?void 0:e.opacity)&&(t.opacity=e.opacity),f.value?t.color=f.value:u.value||g.value||(t.color="var(--tn-text-color-primary)"),t})),y=l((()=>{const t=[r.e("bg")];return u.value&&!e.frosted&&t.push(u.value),e.frosted&&t.push(r.em("bg","frosted")),t.join(" ")})),x=l((()=>{const t={};return e.zIndex&&(t.zIndex=e.zIndex-2),u.value||(t.backgroundColor=p.value||"var(--tn-color-white)"),e.frosted&&(t.backgroundColor=p.value||"rgba(255, 255, 255, 0.5)"),t})),k=l((()=>{const t={};return e.zIndex&&(t.zIndex=e.zIndex-2),t.height=v.value,t})),I=l((()=>{const t={};return e.zIndex&&(t.zIndex=e.zIndex),e.height||(t.top=`${d.statusHeight}px`,t.height=d.height-d.statusHeight+"px"),t})),B=l((()=>{const t={};return e.zIndex&&(t.zIndex=e.zIndex),t.width=`${h.width}px`,t.height=`${h.height}px`,t.left=`${h.marginRight}px`,t})),_=l((()=>{const a={};return e.zIndex&&(a.zIndex=e.zIndex-1),a.height=d.height-d.statusHeight+"px",e.height&&(a.height=s(e.height)),"none"!==t.value&&(a.paddingLeft=`${h.width+h.marginRight}px`),i.value&&e.rightOperationWidth?a.paddingRight=s(e.rightOperationWidth):(e.safeAreaInsetRight||i.value)&&(a.paddingRight=`${h.width+h.marginRight}px`),a})),S=l((()=>{const t={};return t.maxWidth=`${h.width}px`,e.zIndex&&(t.zIndex=e.zIndex),t.height=d.height-d.statusHeight+"px",e.height&&(t.height=s(e.height)),e.rightOperationWidth&&(t.width=s(e.rightOperationWidth)),t}));return{ns:r,backNs:c,navBarInfo:d,navbarClass:b,navbarStyle:m,navbarBgClass:y,navbarBgStyle:x,navbarPlaceholderStyle:k,navbarWrapperStyle:I,backStyle:B,contentStyle:_,rightOperationStyle:S}})(c,C,H);return d((()=>{h((()=>{t("initFinish",j)}))})),(e,t)=>{const a=z;return u(),p(w,null,[g(a,{class:b([m(L)]),style:y(m(D))},{default:f((()=>[v(" 背景颜色 "),g(a,{class:b(m(E)),style:y(m(A))},null,8,["class","style"]),v(" 容器 "),g(a,{class:b([m(U).e("wrapper")]),style:y(m(X))},{default:f((()=>[v(" 返回按钮区域 "),"none"!==m(C)?(u(),x(a,{key:0,class:b([m(N).b()]),style:y(m(Z))},{default:f((()=>[k(e.$slots,"back",{},(()=>[v(" 双图标 "),"multi"===m(C)?(u(),x(a,{key:0,class:b([m(N).e("multi")])},{default:f((()=>[g(a,{class:b([m(N).e("multi__item")]),onClick:I(m(R),["stop"])},{default:f((()=>[g(B,{name:c.backIcon},null,8,["name"])])),_:1},8,["class","onClick"]),g(a,{class:b([m(N).e("multi__item")]),onClick:I(m(T),["stop"])},{default:f((()=>[g(B,{name:c.homeIcon},null,8,["name"])])),_:1},8,["class","onClick"])])),_:1},8,["class"])):v("v-if",!0),v(" 单图标 "),"single"===m(C)?(u(),x(a,{key:1,class:b([m(N).e("single")]),onClick:t[0]||(t[0]=I((e=>{"back"===(c.backIcon?"back":"home")?R():T()}),["stop"]))},{default:f((()=>[c.backIcon?(u(),x(B,{key:0,name:c.backIcon},null,8,["name"])):c.homeIcon?(u(),x(B,{key:1,name:c.homeIcon},null,8,["name"])):v("v-if",!0)])),_:1},8,["class"])):v("v-if",!0),v(" 文字返回 "),"text"===m(C)?(u(),x(a,{key:2,class:b([m(N).e("text")]),onClick:I(m(R),["stop"])},{default:f((()=>[g(a,{class:b([m(N).e("text__icon")])},{default:f((()=>[g(B,{name:e.backIcon||"left"},null,8,["name"])])),_:1},8,["class"]),g(a,{class:b(["tn-text-ellipsis-1",[m(N).e("text__value")]])},{default:f((()=>[_(S(e.backText||"返回"),1)])),_:1},8,["class"])])),_:1},8,["class","onClick"])):v("v-if",!0)]),!0)])),_:3},8,["class","style"])):v("v-if",!0),v(" 内容数据 "),e.$slots.default?(u(),x(a,{key:1,class:b([m(U).e("content"),{[m(U).em("content","center")]:c.center}]),style:y(m(K))},{default:f((()=>[k(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])):v("v-if",!0),v(" 右边操作区域 "),e.$slots.right?(u(),x(a,{key:2,class:b([m(U).e("right-operation")]),style:y(m(V))},{default:f((()=>[k(e.$slots,"right",{},void 0,!0)])),_:3},8,["class","style"])):v("v-if",!0)])),_:3},8,["class","style"])])),_:3},8,["class","style"]),v(" 固定之后会导致容器塌陷 "),e.fixed&&e.placeholder?(u(),x(a,{key:0,class:b([m(U).e("placeholder")]),style:y(m(M))},null,8,["class","style"])):v("v-if",!0)],64)}}}),[["__scopeId","data-v-adb4140f"]]),U=C(c({__name:"custom-page",props:e({title:{type:String,default:"图鸟UI"},padding:{type:String,default:"30"},pageBgColor:String,isH5DemoPage:{type:Boolean,default:!1},onlyBack:{type:Boolean,default:!1},navbarFrosted:{type:Boolean,default:!0},navbarBottomShadow:{type:Boolean,default:!0},navbarPlaceholder:{type:Boolean,default:!0},bottomMoreSpace:{type:Boolean,default:!0},contentFullWidth:{type:Boolean,default:!1}}),setup(e){const t=e,[a,i]=n(o(t,"pageBgColor"),"bg"),r=l((()=>{const e=["custom-page__container"];return a.value&&e.push(a.value),e.join(" ")})),c=l((()=>{const e={};return t.padding&&(e.padding=s(t.padding)),i.value&&(e.backgroundColor=i.value),t.contentFullWidth&&(e.width="100vw",e.overflowX="hidden"),t.bottomMoreSpace&&(e.paddingBottom="80rpx"),e})),d={back:{hide:"",show:"left",only:"left-arrow"},home:{hide:"",show:"home-capsule-fill"}},h=l((()=>d.back[t.isH5DemoPage?"hide":t.onlyBack?"only":"show"])),p=l((()=>d.home[t.isH5DemoPage||t.onlyBack?"hide":"show"]));return(e,t)=>{const a=z;return u(),x(a,{class:"custom-page"},{default:f((()=>[g(T,{fixed:"","back-icon":m(h),"home-icon":m(p),frosted:e.navbarFrosted,"bottom-shadow":e.navbarBottomShadow,placeholder:e.navbarPlaceholder,"safe-area-inset-right":!e.isH5DemoPage},{default:f((()=>[_(S(e.title),1)])),_:1},8,["back-icon","home-icon","frosted","bottom-shadow","placeholder","safe-area-inset-right"]),g(a,{class:b([m(r)]),style:y(m(c))},{default:f((()=>[k(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3})}}}),[["__scopeId","data-v-687496a0"]]);export{U as C,T};

import{b as e,d as a,a3 as t,a4 as b,V as c,W as f,X as l,c as n,r as d,L as r,H as o,y as s,N as i,a6 as u,z as m,w as h,a as g,o as v,e as y,f as p,g as _,h as w,u as C,K as x,n as D,a2 as k,m as S,t as $,i as M,j as V,F as I,C as j,k as T,S as Y,q as A,_ as B,D as U,E,v as F}from"./index-80b03063.js";import{U as N,C as z}from"./event.5568c9d8.js";import{i as H}from"./is-number.acae358a.js";import"./index.b621671f.js";import{d as L}from"./index.2f07eab2.js";import{u as O}from"./index.38361e72.js";import{T as W}from"./button.89b66e38.js";import{T as q}from"./popup.cb51da11.js";import{C as K}from"./custom-page.333ee63a.js";import{D as J}from"./demo-container.59d4003d.js";import{u as P}from"./index.e83e3f39.js";import"./loading.d4613e36.js";import"./debounce.73e35894.js";import"./overlay.66eb0f69.js";import"./install.171bae2e.js";import"./title.e0fd12f0.js";const X=e({modelValue:{type:a([String,Array]),default:""},activeBgColor:String,activeTextColor:String,rangeBgColor:String,rangeTextColor:String,mode:{type:String,values:["date","multi","range"],default:"date"},minDate:String,maxDate:String,allowChangeYear:{type:Boolean,default:!0},allowChangeMonth:{type:Boolean,default:!0},showLunar:Boolean,rangeStartDesc:{type:String,default:"开始"},rangeEndDesc:{type:String,default:"结束"}}),G=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,92821,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],Q=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],R=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Z=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"];let ee={"1-1":{title:"元旦节"},"2-14":{title:"情人节"},"5-1":{title:"劳动节"},"5-4":{title:"青年节"},"6-1":{title:"儿童节"},"9-10":{title:"教师节"},"10-1":{title:"国庆节"},"12-25":{title:"圣诞节"},"3-8":{title:"妇女节"},"3-12":{title:"植树节"},"4-1":{title:"愚人节"},"5-12":{title:"护士节"},"7-1":{title:"建党节"},"8-1":{title:"建军节"},"12-24":{title:"平安夜"}},ae={"12-30":{title:"除夕"},"1-1":{title:"春节"},"1-15":{title:"元宵节"},"2-2":{title:"龙抬头"},"5-5":{title:"端午节"},"7-7":{title:"七夕节"},"7-15":{title:"中元节"},"8-15":{title:"中秋节"},"9-9":{title:"重阳节"},"10-1":{title:"寒衣节"},"10-15":{title:"下元节"},"12-8":{title:"腊八节"},"12-23":{title:"北方小年"},"12-24":{title:"南方小年"}};const te=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],be=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],ce=["日","一","二","三","四","五","六","七","八","九","十"],fe=["初","十","廿","卅"],le=["正","二","三","四","五","六","七","八","九","十","冬","腊"],ne=e=>{let a,t=348;for(a=32768;a>8;a>>=1)t+=G[e-1900]&a?1:0;return t+re(e)},de=e=>15&G[e-1900],re=e=>de(e)?65536&G[e-1900]?30:29:0,oe=(e,a)=>a>12||a<1?-1:G[e-1900]&65536>>a?30:29,se=e=>Q[e%10]+R[e%12],ie=(e,a)=>{if(e<1900||e>2100||a<1||a>24)return-1;const t=be[e-1900],b=[];for(let c=0;c<t.length;c+=5){const e=Number.parseInt(`0x${t.slice(c,5)}`).toString();b.push(e[0],e.slice(1,2),e[3],e.slice(4,2))}return Number.parseInt(b[a-1])},ue=e=>{if(e>12||e<1)return-1;let a=le[e-1];return a+="月",a},me=e=>{let a;switch(e){case 10:a="初十";break;case 20:a="二十";break;case 30:a="三十";break;default:a=fe[Math.floor(e/10)],a+=ce[e%10]}return a},he=e=>Z[(e-4)%12],ge=(e,a,t)=>{let b,c="string"==typeof e?Number.parseInt(e):e,f="string"==typeof a?Number.parseInt(a):a,l="string"==typeof t?Number.parseInt(t):t;if(c<1900||c>2100)return-1;if(1900===c&&1===f&&l<31)return-1;b=c?new Date(c,f-1,l):new Date;let n,d=0,r=0;c=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();let o=(Date.UTC(b.getFullYear(),b.getMonth(),b.getDate())-Date.UTC(1900,0,31))/864e5;for(n=1900;n<2101&&o>0;n++)r=ne(n),o-=r;o<0&&(o+=r,n--);let s=new Date,i=!1;s.getFullYear()===c&&s.getMonth()+1===f&&s.getDate()===l&&(i=!0);let u=b.getDay(),m=ce[u];0===u&&(u=7);const h=n;d=de(n);let g=!1;for(n=1;n<13&&o>0;n++)d>0&&n===d+1&&!1===g?(--n,g=!0,r=re(h)):r=oe(h,n),!0===g&&n===d+1&&(g=!1),o-=r;0===o&&d>0&&n===d+1&&(g?g=!1:(g=!0,--n)),o<0&&(o+=r,--n);const v=n,y=o+1,p=f-1,_=(e=>{let a=(e-3)%10,t=(e-3)%12;return 0===a&&(a=10),0===t&&(t=12),Q[a-1]+R[t-1]})(h),w=ie(c,2*f-1),C=ie(c,2*f);let x=se(12*(c-1900)+f+11);l>=w&&(x=se(12*(c-1900)+f+12));let D=!1,k=null;w===l&&(D=!0,k=te[2*f-2]),C===l&&(D=!0,k=te[2*f-1]);const S=Date.UTC(c,p,1,0,0,0,0)/864e5+25567+10,$=se(S+l-1),M=`${"魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯".slice(2*(V=f)-(l<[20,19,21,21,21,22,23,23,23,23,22,22][V-1]?2:0),2)}座`;var V;const I=`${c}-${f}-${l}`,j=`${h}-${v}-${y}`,T=`${f}-${l}`;let Y=`${v}-${y}`;return 12===v&&29===y&&29===oe(h,v)&&(Y="12-30"),{date:I,lunarDate:j,festival:ee[T]?ee[T].title:null,lunarFestival:ae[Y]?ae[Y].title:null,lYear:h,lMonth:v,lDay:y,Animal:he(h),IMonthCn:(g?"闰":"")+ue(v),IDayCn:me(y),cYear:c,cMonth:f,cDay:l,gzYear:_,gzMonth:x,gzDay:$,isToday:i,isLeap:g,nWeek:u,ncWeek:`星期${m}`,isTerm:D,Term:k,astro:M}},ve="YYYY/MM/DD",ye=e=>e&&e.length?b(e)?e.replace(/-/g,"/"):e.map((e=>e.replace(/-/g,"/"))):e,pe=e=>String(e).padStart(2,"0"),_e=e=>`${e.year}/${pe(e.month)}/${pe(e.date)}`,we=(e,a)=>{const t=d(!1),b=d([]),c=d(["日","一","二","三","四","五","六"]),f=m({year:0,month:0,date:0}),l=m({year:0,month:0,date:0}),g=m({year:0,month:0,date:0}),v=m({year:0,month:0,date:0}),y=m({});let p=!1;const _=n((()=>b.value.findIndex((e=>e.month===v.month)))),w=n((()=>{var e,a;return(null==(a=null==(e=b.value[_.value])?void 0:e.data)?void 0:a.length)||0})),{calendarId:C,dateContainerHeight:x}=((e,a)=>{const t=s(),b=`tc-${i()}`,{getSelectorNodeInfo:c}=O(t),f=d(0),l=n((()=>Math.ceil(e.value/7)*f.value));let m=0;const h=async()=>{try{const e=await c(`#${b} .tn-calendar__data__date`);m=0,f.value=e.width||0,"date"!==a&&"multi"!==a||(f.value+=u(12))}catch(e){if(m>10)return void(m=0);m++,setTimeout((()=>{h()}),150)}};return r((()=>{o((()=>{setTimeout((()=>{h()}),50)}))})),{calendarId:b,dateContainerHeight:l}})(w,e.mode),D=new Map,k=()=>{const a=[],t=(a,t=0,b=0)=>{var c;const f={month:a,data:[]},l=null==(c=D.get(v.year))?void 0:c.get(a),n=new Date(v.year,a,0).getDate(),d=new Date(`${v.year}/${a}/1`).getDay();for(let e=0;e<d;e++)f.data.push({date:0,status:"disabled"});for(let r=1;r<=n;r++){let c=r<t||b&&r>b?"disabled":"normal";(null==l?void 0:l.includes(r))&&(c="active");let n="";if(e.showLunar){const e=ge(v.year,a,r);-1!==e&&(n="初一"===e.IDayCn?e.IMonthCn:e.IDayCn)}if("range"===e.mode){const{start:t,end:b}=y;if(t&&t.isSame(`${v.year}/${a}/${r}`)&&(c="active",n=e.rangeStartDesc),b&&b.isSame(`${v.year}/${a}/${r}`)&&(c="active",n=e.rangeEndDesc),t&&b){const e=L(`${v.year}/${a}/${r}`,ve);e.isAfter(t)&&e.isBefore(b)&&(c="range")}}f.data.push({date:r,status:c,desc:n})}return f};let c=1,n=12;if(v.year===f.year&&(c=f.month),v.year===l.year&&(n=l.month),0!==c&&0!==n){for(let e=c;e<=n;e++){let b=0,d=0;v.year===f.year&&e===c&&(b=f.date,d=0),v.year===l.year&&e===n&&(b=0,d=l.date),a.push(t(e,b,d))}b.value=a}};h((()=>e.modelValue),(a=>{if(a||a.length){const{mode:t}=e;let b=[];b="date"===t?[a]:a,D.clear(),b.forEach((e=>{var a,t;const b=L(ye(e),ve),c=b.year(),f=b.month()+1,l=b.date();if(0===v.year&&(v.year=c,v.month=f),D.has(c)){let e=null==(a=D.get(c))?void 0:a.get(f);e?e.push(l):e=[l],null==(t=D.get(c))||t.set(f,e)}else D.set(c,new Map([[f,[l]]]))})),"range"===t&&(y.start=void 0,y.end=void 0,(null==b?void 0:b[0])&&(y.start=L(b[0],ve)),(null==b?void 0:b[1])&&(y.end=L(b[1],ve))),p&&(p=!1,o((()=>{k()})))}}),{immediate:!0,deep:!0});const S=(e,a)=>{let t=0,c=0;"[object Object]"===e.toString()?(t=e.month,c=e.date):(t=e.month()+1,c=e.date());const f=b.value.findIndex((e=>e.month===t));if(-1===f)return;const l=b.value[f].data.findIndex((e=>e.date===c));-1!==l&&(b.value[f].data[l].status=a)},$=()=>{let{minDate:t,maxDate:c,modelValue:n,mode:d}=e;const r=L();g.year=r.year(),g.month=r.month()+1,g.date=r.date(),t=t?ye(t):r.format(ve);const s=L(t,ve);f.year=s.year(),f.month=s.month()+1,f.date=s.date(),c=c?ye(c):r.endOf("year").format(ve);const i=L(c,ve);l.year=i.year(),l.month=i.month()+1,l.date=i.date();let u=!1;if(n&&(null==n?void 0:n.length)){let e="";switch(d){case"date":e=ye(n),s.isAfter(e)&&(e=s.format(ve),a(N,e)),i.isBefore(e)&&(e=i.format(ve),a(N,e));break;case"multi":const t=n.filter((e=>{const a=L(e);return a.isAfter(s)&&a.isBefore(i)||a.isSame(s)||a.isSame(i)}));t.length!==n.length&&a(N,t),e=t[0];break;case"range":if(2!==n.length)return;const b=L(n[0]),c=L(n[1]);if(b.isAfter(i)||c.isBefore(s))return;const f=n;b.isBefore(s)&&(f[0]=s.format(ve),e=f[0]),c.isAfter(i)&&(f[1]=i.format(ve)),a(N,f),u=!0}if(e){const a=L(e,ve);v.year=a.year(),v.month=a.month()+1,v.date=a.date()}}else v.year=Math.max(g.year,f.year),v.month=g.year===f.year?Math.max(g.month,f.month):g.month,"date"===d&&v.year===g.year&&v.month===g.month&&(v.date=g.date,a(N,_e(v)));u&&0!==b.value.length||o((()=>{k()}))};$(),h((()=>[e.minDate,e.maxDate]),(()=>{$()}));let M=!0,V=null;return{reloadMonthSwiper:t,calendarId:C,weekText:c,calendarData:b,currentMonthIndex:_,dateContainerHeight:x,minDate:f,maxDate:l,currentSelectedDate:v,swiperSwitchMonthEvent:e=>{const{current:t}=e.detail;v.month=b.value[t].month,V=setTimeout((()=>{M=!0,V&&(clearTimeout(V),V=null)}),300),a("change-month",v.month)},swiperSwitchMonthAnimationFinishEvent:()=>{M=!0,V&&(clearTimeout(V),V=null)},dateItemClickEvent:t=>{"active"===t.status&&"date"===e.mode||"disabled"===t.status||0===t.date||(v.date=t.date,((t=!0)=>{const{modelValue:b,mode:c}=e,f=ye(b);let l="";switch(c){case"date":if(b){const e=L(f,ve);S(e,"normal")}S(v,"active"),l=_e(v);break;case"multi":const e=f.indexOf(_e(v));f.length&&-1!==e?(S(v,"normal"),f.splice(e,1),l=[...f]):(S(v,"active"),l=[...f,_e(v)]);break;case"range":if(f&&0!==f.length&&2!==f.length){const e=_e(v);y.start&&(l=y.start.isAfter(_e(v))?[e]:[...f,_e(v)])}else{if(2===f.length){const e=L(f[0],ve),a=L(f[1],ve);S(e,"normal"),S(a,"normal")}l=[_e(v)]}p=!0}a(N,l),t&&o((()=>{a(z,l)}))})())},switchMonth:a=>{if(e.allowChangeMonth&&M)if(M=!1,"prev"===a){if(v.year===f.year&&v.month===f.month||1===v.month)return;v.month--}else{if(v.year===l.year&&v.month===l.month||12===v.month)return;v.month++}},switchYear:b=>{if(e.allowChangeYear){if("prev"===b){if(v.year===f.year)return;v.year--,v.month=12,v.date=31}else{if(v.year===l.year)return;v.year++,v.month=1,v.date=1}a("change-year",v.year),t.value=!0,setTimeout((()=>{t.value=!1}),0),k()}}}},Ce=B(g({__name:"calendar",props:X,emits:{[N]:e=>t(e)||b(e),[z]:e=>t(e)||b(e),"change-year":e=>H(e),"change-month":e=>H(e)},setup(e,{emit:a}){const t=e,{reloadMonthSwiper:b,calendarId:d,dateContainerHeight:r,calendarData:o,weekText:s,currentMonthIndex:i,currentSelectedDate:u,minDate:m,maxDate:h,swiperSwitchMonthEvent:g,swiperSwitchMonthAnimationFinishEvent:B,dateItemClickEvent:U,switchMonth:E,switchYear:F}=we(t,a),{ns:N,itemClass:z,itemStyle:H}=(e=>{const a=c("calendar"),[t,b]=f(l(e,"activeBgColor"),"bg"),[d,r]=f(l(e,"activeTextColor"),"text"),[o,s]=f(l(e,"rangeBgColor"),"bg"),[i,u]=f(l(e,"rangeTextColor"),"text"),m=n((()=>e=>{const b=[a.is(e)];return"active"===e?(t.value&&b.push(t.value),d.value&&b.push(d.value)):"range"===e&&(o.value&&b.push(o.value),i.value&&b.push(i.value)),b.join(" ")})),h=n((()=>e=>{const a={};return"active"===e?(t.value||(a.backgroundColor=b.value||"var(--tn-color-primary)"),r.value?a.color=r.value:t.value||d.value||(a.color="var(--tn-color-white)")):"range"===e&&(o.value||(a.backgroundColor=s.value||"var(--tn-color-primary-light-7)"),u.value?a.color=u.value:o.value||i.value||(a.color="var(--tn-color-primary)")),a}));return{ns:a,itemClass:m,itemStyle:h}})(t);return(e,a)=>{const t=T,c=A,f=Y;return v(),y(t,{id:C(d),class:x([C(N).b(),C(N).m(e.mode)])},{default:p((()=>[_(" 操作区域 "),w(t,{class:x([C(N).e("operation")])},{default:p((()=>[_(" 年切换按钮 "),e.allowChangeYear&&C(u).year!==C(m).year?(v(),y(t,{key:0,class:x([C(N).e("operation__year-btn")]),onClick:a[0]||(a[0]=D((e=>C(F)("prev")),["stop"]))},{default:p((()=>[w(k,{name:"left-triangle"})])),_:1},8,["class"])):_("v-if",!0),_(" 年月显示 "),w(t,{class:x([C(N).e("operation__value")])},{default:p((()=>[S($(C(u).year)+"年 ",1)])),_:1},8,["class"]),_(" 年切换按钮 "),e.allowChangeYear&&C(u).year!==C(h).year?(v(),y(t,{key:1,class:x([C(N).e("operation__year-btn")]),onClick:a[1]||(a[1]=D((e=>C(F)("next")),["stop"]))},{default:p((()=>[w(k,{name:"right-triangle"})])),_:1},8,["class"])):_("v-if",!0)])),_:1},8,["class"]),_(" 星期文字提示 "),w(t,{class:x([C(N).e("week-text")])},{default:p((()=>[(v(!0),M(I,null,V(C(s),((e,a)=>(v(),y(t,{key:a,class:x([C(N).e("week-text__item")])},{default:p((()=>[S($(e),1)])),_:2},1032,["class"])))),128))])),_:1},8,["class"]),_(" 数据展示区域 "),w(t,{class:x([C(N).e("data")]),style:j({height:""+(C(r)?`${C(r)}px`:"auto")})},{default:p((()=>[_(" 月份背景 "),w(t,{class:x([C(N).e("data__month-bg")])},{default:p((()=>[S($(C(u).month),1)])),_:1},8,["class"]),_(" 月份切换按钮 "),!e.allowChangeMonth||C(u).year===C(m).year&&C(u).month===C(m).month||1===C(u).month?_("v-if",!0):(v(),y(t,{key:0,class:x(["left",[C(N).e("data__month-btn")]]),onClick:a[2]||(a[2]=D((e=>C(E)("prev")),["stop"]))},{default:p((()=>[w(k,{name:"left"})])),_:1},8,["class"])),!e.allowChangeMonth||C(u).year===C(h).year&&C(u).month===C(h).month||12===C(u).month?_("v-if",!0):(v(),y(t,{key:1,class:x(["right",[C(N).e("data__month-btn")]]),onClick:a[3]||(a[3]=D((e=>C(E)("next")),["stop"]))},{default:p((()=>[w(k,{name:"right"})])),_:1},8,["class"])),C(b)?_("v-if",!0):(v(),y(f,{key:2,class:x([C(N).e("data__swiper")]),current:C(i),"indicator-dots":!1,autoplay:!1,circular:!1,"adjust-height":"none",onChange:C(g),onAnimationfinish:C(B)},{default:p((()=>[(v(!0),M(I,null,V(C(o),((e,a)=>(v(),y(c,{key:a,class:x([C(N).e("data__swiper-item")])},{default:p((()=>[w(t,{class:x([C(N).e("data__dates")])},{default:p((()=>[(v(!0),M(I,null,V(e.data,((e,a)=>(v(),y(t,{key:a,class:x([C(N).e("data__date"),C(z)(e.status)]),style:j(C(H)(e.status))},{default:p((()=>[0!=e.date?(v(),y(t,{key:0,class:x([C(N).e("data__date__content")]),onClick:D((a=>C(U)(e)),["stop"])},{default:p((()=>[w(t,{class:"date"},{default:p((()=>[S($(e.date),1)])),_:2},1024),e.desc?(v(),y(t,{key:0,class:"desc"},{default:p((()=>[S($(e.desc),1)])),_:2},1024)):_("v-if",!0)])),_:2},1032,["class","onClick"])):_("v-if",!0)])),_:2},1032,["class","style"])))),128))])),_:2},1032,["class"])])),_:2},1032,["class"])))),128))])),_:1},8,["class","current","onChange","onAnimationfinish"]))])),_:1},8,["class","style"])])),_:1},8,["id","class"])}}}),[["__scopeId","data-v-c4a395d1"]]),xe=B(g({__name:"index",setup(e){U((()=>({}))),E((()=>({})));const{isDemoH5Page:a}=P(),t=d(""),b=d(""),c=d(["2023/06/20","2023/06/21"]),f=d(["2023/06/01","2023/07/30"]),l=d(""),n=d(["2023/06/01","2023/07/30"]),r=d(""),o=d(!1),s=()=>{o.value=!0},i=()=>{o.value=!1};return(e,d)=>{const u=F,m=T;return v(),M(I,null,[w(K,{title:"日历","is-h5-demo-page":C(a)},{default:p((()=>[w(J,{title:"基础使用"},{default:p((()=>[w(m,{class:"calendar-container"},{default:p((()=>[w(m,{class:"calendar-item"},{default:p((()=>[S(" 当前选中的日期: "),w(u,{class:"tn-gray_text"},{default:p((()=>[S($(t.value),1)])),_:1})])),_:1}),w(m,{class:"calendar-item"},{default:p((()=>[w(Ce,{modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=e=>t.value=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),w(J,{title:"显示农历"},{default:p((()=>[w(m,{class:"calendar-container"},{default:p((()=>[w(m,{class:"calendar-item"},{default:p((()=>[w(Ce,{modelValue:b.value,"onUpdate:modelValue":d[1]||(d[1]=e=>b.value=e),"show-lunar":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),w(J,{title:"多选日期"},{default:p((()=>[w(m,{class:"calendar-container"},{default:p((()=>[w(m,{class:"calendar-item"},{default:p((()=>[S(" 当前选中的日期: "),w(u,{class:"tn-gray_text item-value"},{default:p((()=>[S(" ["+$(c.value.join(","))+"] ",1)])),_:1})])),_:1}),w(m,{class:"calendar-item"},{default:p((()=>[w(Ce,{modelValue:c.value,"onUpdate:modelValue":d[2]||(d[2]=e=>c.value=e),mode:"multi","min-date":"2023/06/01","max-date":"2023/06/30"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),w(J,{title:"选择日期范围"},{default:p((()=>[w(m,{class:"calendar-container"},{default:p((()=>[w(m,{class:"calendar-item"},{default:p((()=>[S(" 当前选中的日期: "),w(u,{class:"tn-gray_text item-value"},{default:p((()=>[S(" ["+$(f.value.join(","))+"] ",1)])),_:1})])),_:1}),w(m,{class:"calendar-item"},{default:p((()=>[w(Ce,{modelValue:f.value,"onUpdate:modelValue":d[3]||(d[3]=e=>f.value=e),mode:"range","min-date":"2023/05/01","max-date":"2023/10/01"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),w(J,{title:"修改选中的颜色"},{default:p((()=>[w(m,{class:"calendar-container"},{default:p((()=>[w(m,{class:"calendar-item"},{default:p((()=>[w(Ce,{modelValue:l.value,"onUpdate:modelValue":d[4]||(d[4]=e=>l.value=e),"active-bg-color":"tn-orangered","active-text-color":"tn-gray-disabled"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),w(J,{title:"修改选中的颜色和文案"},{default:p((()=>[w(m,{class:"calendar-container"},{default:p((()=>[w(m,{class:"calendar-item"},{default:p((()=>[w(Ce,{modelValue:n.value,"onUpdate:modelValue":d[5]||(d[5]=e=>n.value=e),mode:"range","min-date":"2023/05/01","max-date":"2023/10/01","active-bg-color":"tn-orangered","active-text-color":"tn-gray-disabled","range-bg-color":"tn-orangered-light","range-start-desc":"入场","range-end-desc":"离场"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),w(J,{title:"配合popup使用"},{default:p((()=>[w(m,{class:"calendar-container"},{default:p((()=>[w(m,{class:"calendar-item"},{default:p((()=>[S(" 当前选中的日期: "),w(u,{class:"tn-gray_text"},{default:p((()=>[S($(r.value),1)])),_:1})])),_:1}),w(m,{class:"calendar-item"},{default:p((()=>[w(W,{size:"lg","bg-color":"gradient-bg__cool-6","text-color":"tn-white",onClick:s},{default:p((()=>[S(" 选择日期 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"]),w(q,{modelValue:o.value,"onUpdate:modelValue":d[7]||(d[7]=e=>o.value=e),"open-direction":"bottom"},{default:p((()=>[w(m,{class:"tn-pt"},{default:p((()=>[w(Ce,{modelValue:r.value,"onUpdate:modelValue":d[6]||(d[6]=e=>r.value=e)},null,8,["modelValue"])])),_:1}),w(m,{class:"tn-mt tn-w-full tn-pb"},{default:p((()=>[w(W,{"font-size":"36","custom-class":"popup-calendar-button",onClick:i},{default:p((()=>[S(" 选择所选日期 ")])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-db622bcc"]]);export{xe as default};

import{b as t,V as e,W as a,X as o,Y as s,c as l,Z as n,r,w as u,a as d,o as c,e as i,f,g as m,u as p,i as y,h as _,m as w,t as h,K as v,C as g,F as b,k as x,_ as C,D,E as S}from"./index-80b03063.js";import"./index.b621671f.js";import{T as M}from"./button.89b66e38.js";import{C as z}from"./custom-page.333ee63a.js";import{D as j}from"./demo-container.59d4003d.js";import{u as k}from"./index.e83e3f39.js";import"./loading.d4613e36.js";import"./debounce.73e35894.js";import"./title.e0fd12f0.js";const B=(t,e=2,a=!0)=>{let o=0;if("string"==typeof t){if(""===t)return t;o=Number(t)}else"number"==typeof t&&(o=t);if(Number.isNaN(o)||0===o)return a?"00":"0";const s=Math.pow(10,e)-1;return o>s?`${s}+`:(o=String(o),a?`00${o}`.slice(Math.max(0,o.length>2?2:o.length)):o)},H=t({time:{type:Number,required:!0,default:0},autoStart:{type:Boolean,default:!0},size:String,textColor:String,showDay:Boolean,showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0},autoHideDay:{type:Boolean,default:!0},separatorMode:{type:String,values:["cn","en"],default:"en"},separatorColor:String,border:Boolean,borderColor:String}),N=3600,I=C(d({__name:"count-down",props:H,emits:{start:()=>!0,end:()=>!0},setup(t,{expose:d,emit:C}){const D=t,{day:S,hour:M,minute:z,second:j,startCountDown:k,stopCountDown:H,resetCountDown:I}=((t,e)=>{let a=0;const o=r(""),s=r(""),l=r(""),n=r(""),d=()=>{const{showDay:e,showHour:r,showMinute:u,showSecond:d,autoHideDay:c}=t,i=Math.floor(a/86400),f=e?Math.floor(a%86400/N):Math.floor(a/N),m=Math.floor(a%N/60),p=Math.floor(a%60);o.value=!e||c&&0===i?"":B(i,4),s.value=r?B(f,4):"",l.value=u?B(m):"",n.value=d?B(p):""};let c=null;const i=()=>{a<=0?a=t.time:a--,f(),e("start"),c=setInterval((()=>{if(a<0)return f(),void e("end");d(),a--}),1e3)},f=()=>{c&&(clearInterval(c),c=null)},m=()=>{f(),a=t.time,d()};return u((()=>t.time),(e=>{m(),t.autoStart&&e>0&&i()}),{immediate:!0}),{day:o,hour:s,minute:l,second:n,startCountDown:i,stopCountDown:f,resetCountDown:m}})(D,C),{countDownClass:T,countDownStyle:$,textClass:q,textStyle:E,separatorClass:F,separatorStyle:K}=(t=>{const r=e("count-down"),[u,d]=a(o(t,"textColor"),"text"),[c,i]=a(o(t,"separatorColor"),"text"),[f,m]=a(o(t,"borderColor"),"border"),{sizeType:p}=s(t.size),y=l((()=>{const e=[r.b()];return t.size&&"inner"===p.value&&e.push(r.m(t.size)),e.join(" ")})),_=l((()=>{const e={};return t.size&&"custom"===p.value&&(e.fontSize=n(t.size)),e})),w=l((()=>{const e=[r.e("text")];return u.value&&e.push(u.value),t.border&&(e.push(r.is("border")),f.value&&e.push(f.value)),e.join(" ")})),h=l((()=>{const e={};return u.value||(e.color=d.value||"var(--tn-text-color-primary)"),t.border&&(f.value||(e.borderColor=m.value||"var(--tn-color-gray-disabled)")),e})),v=l((()=>{const e=[r.e("separator"),r.em("separator",t.separatorMode)];return c.value&&e.push(c.value),e.join(" ")})),g=l((()=>{const t={};return c.value||(t.color=i.value||"var(--tn-text-color-secondary)"),t}));return{ns:r,countDownClass:y,countDownStyle:_,textClass:w,textStyle:h,separatorClass:v,separatorStyle:g}})(D),{getSeparatorData:P}=(()=>{const t={cn:{day:"天",hour:"时",minute:"分",second:"秒"},en:{day:":",hour:":",minute:":",second:""}};return{getSeparatorData:(e,a)=>t[e][a]}})();return d({start:k,stop:H,reset:I}),(t,e)=>{const a=x;return c(),i(a,{class:v([p(T)]),style:g(p($))},{default:f((()=>[m(" 日 "),p(S)?(c(),y(b,{key:0},[_(a,{class:v(["day",[p(q)]]),style:g(p(E))},{default:f((()=>[w(h(p(S)),1)])),_:1},8,["class","style"]),_(a,{class:v(["day",[p(F)]]),style:g(p(K))},{default:f((()=>[w(h(p(P)(t.separatorMode,"day")),1)])),_:1},8,["class","style"])],64)):m("v-if",!0),m(" 时 "),p(M)?(c(),y(b,{key:1},[_(a,{class:v(["hour",[p(q)]]),style:g(p(E))},{default:f((()=>[w(h(p(M)),1)])),_:1},8,["class","style"]),_(a,{class:v(["hour",[p(F)]]),style:g(p(K))},{default:f((()=>[w(h(p(P)(t.separatorMode,"hour")),1)])),_:1},8,["class","style"])],64)):m("v-if",!0),m(" 分 "),p(z)?(c(),y(b,{key:2},[_(a,{class:v(["minute",[p(q)]]),style:g(p(E))},{default:f((()=>[w(h(p(z)),1)])),_:1},8,["class","style"]),_(a,{class:v(["minute",[p(F)]]),style:g(p(K))},{default:f((()=>[w(h(p(P)(t.separatorMode,"minute")),1)])),_:1},8,["class","style"])],64)):m("v-if",!0),m(" 秒 "),p(j)?(c(),y(b,{key:3},[_(a,{class:v(["second",[p(q)]]),style:g(p(E))},{default:f((()=>[w(h(p(j)),1)])),_:1},8,["class","style"]),p(P)(t.separatorMode,"second")?(c(),i(a,{key:0,class:v(["minute",[p(F)]]),style:g(p(K))},{default:f((()=>[w(h(p(P)(t.separatorMode,"second")),1)])),_:1},8,["class","style"])):m("v-if",!0)],64)):m("v-if",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-d7aeb25f"]]),T=C(d({__name:"index",setup(t){D((()=>({}))),S((()=>({})));const{isDemoH5Page:e}=k(),a=r(),o=()=>{var t;null==(t=a.value)||t.start()},s=()=>{var t;null==(t=a.value)||t.stop()},l=()=>{var t;null==(t=a.value)||t.reset()};return(t,n)=>{const r=x;return c(),i(z,{title:"倒计时","is-h5-demo-page":p(e)},{default:f((()=>[_(j,{title:"基础使用"},{default:f((()=>[_(r,{class:"count-down-container"},{default:f((()=>[_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300})])),_:1})])),_:1})])),_:1}),_(j,{title:"手动控制"},{default:f((()=>[_(r,{class:"count-down-container"},{default:f((()=>[_(r,{class:"count-down-item tn-flex-center"},{default:f((()=>[_(I,{ref_key:"countDownRef",ref:a,time:300,"auto-start":!1},null,512)])),_:1}),_(r,{class:"count-down-item tn-flex-center"},{default:f((()=>[_(r,{class:"operation-btn"},{default:f((()=>[_(M,{size:"lg",onClick:o},{default:f((()=>[w("开始")])),_:1})])),_:1}),_(r,{class:"operation-btn"},{default:f((()=>[_(M,{type:"warning",size:"lg",onClick:s},{default:f((()=>[w(" 停止 ")])),_:1})])),_:1}),_(r,{class:"operation-btn"},{default:f((()=>[_(M,{type:"danger",size:"lg",onClick:l},{default:f((()=>[w(" 重置 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),_(j,{title:"显示天、时、分、秒"},{default:f((()=>[_(r,{class:"count-down-container"},{default:f((()=>[_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:86410,"show-day":""})])),_:1})])),_:1})])),_:1}),_(j,{title:"显示天、时、分、秒(不自动隐藏天)"},{default:f((()=>[_(r,{class:"count-down-container"},{default:f((()=>[_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:86410,"show-day":"","auto-hide-day":!1})])),_:1})])),_:1})])),_:1}),_(j,{title:"显示分、秒"},{default:f((()=>[_(r,{class:"count-down-container"},{default:f((()=>[_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,"show-hour":!1})])),_:1})])),_:1})])),_:1}),_(j,{title:"中文分割符"},{default:f((()=>[_(r,{class:"count-down-container"},{default:f((()=>[_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:86410,"show-day":"","separator-mode":"cn"})])),_:1})])),_:1})])),_:1}),_(j,{title:"显示边框"},{default:f((()=>[_(r,{class:"count-down-container"},{default:f((()=>[_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,border:""})])),_:1}),_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,border:"","separator-mode":"cn"})])),_:1})])),_:1})])),_:1}),_(j,{title:"修改尺寸"},{default:f((()=>[_(r,{class:"count-down-container"},{default:f((()=>[_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,size:"sm"})])),_:1}),_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,size:"lg"})])),_:1}),_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,size:"xl"})])),_:1}),_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,size:"40"})])),_:1})])),_:1})])),_:1}),_(j,{title:"修改颜色"},{default:f((()=>[_(r,{class:"count-down-container"},{default:f((()=>[_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,"text-color":"tn-type-warning","separator-color":"tn-type-warning"})])),_:1}),_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,"text-color":"tn-indigo","separator-color":"tn-blue"})])),_:1}),_(r,{class:"count-down-item"},{default:f((()=>[_(I,{time:300,border:"","separator-mode":"cn","text-color":"tn-gray","separator-color":"tn-grey-disabled","border-color":"tn-gray"})])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-ad0bc0ce"]]);export{T as default};

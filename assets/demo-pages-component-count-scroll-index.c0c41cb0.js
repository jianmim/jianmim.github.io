import{b as t,V as e,W as a,X as l,c as s,Z as o,r as n,w as u,H as r,a as c,o as i,e as d,f as m,h as f,i as p,j as v,u as _,F as S,K as y,C as x,k as g,m as h,t as b,_ as j,D as C,E as z}from"./index-80b03063.js";import{a as I}from"./index.b621671f.js";import{C as k}from"./custom-page.333ee63a.js";import{D}from"./demo-container.59d4003d.js";import{u as w}from"./index.e83e3f39.js";import"./title.e0fd12f0.js";const N=t({value:{type:[String,Number],default:""},textColor:String,fontSize:String,decimalSeparator:{type:String,default:"."},thousandsSeparator:{type:String,default:","},duration:{type:Number,default:1500}}),F=Array.from({length:10},((t,e)=>String(e))),H=j(c({__name:"count-scroll",props:N,setup(t){const c=t,{ns:j,countScrollClass:C,countScrollStyle:z,countScrollColumnStyle:k}=(t=>{const n=e("count-scroll"),[u,r]=a(l(t,"textColor"),"text"),c=s((()=>I(null==t?void 0:t.duration,1500))),i=s((()=>{const t=[n.b()];return u.value&&t.push(u.value),t.join(" ")})),d=s((()=>{const e={};return t.fontSize&&(e.fontSize=o(t.fontSize)),u.value||(e.color=r.value||"var(--tn-text-color-primary)"),e})),m=s((()=>t=>{const e={};return c.value&&(e.transitionDuration=c.value/1e3+"s"),e.transform=`translateY(-${10*t}%)`,e}));return{ns:n,countScrollClass:i,countScrollStyle:d,countScrollColumnStyle:m}})(c),{columns:D,activeIndex:w}=(t=>{const e=n([]),a=n([]),l=s((()=>{const{decimalSeparator:e,thousandsSeparator:a}=t;return[e,I(a,"")].filter((t=>t))}));return u((()=>t.value),(()=>{const{value:s}=t,o=String(s).split("");e.value=o.map((t=>l.value.includes(t)?[t]:F)),r((()=>{setTimeout((()=>{a.value=o.map((t=>l.value.includes(t)?0:Number(t)))}),50)}))}),{immediate:!0}),{columns:e,activeIndex:a}})(c);return(t,e)=>{const a=g;return i(),d(a,{class:y([_(C)]),style:x(_(z))},{default:m((()=>[f(a,{class:y([_(j).e("wrapper")])},{default:m((()=>[(i(!0),p(S,null,v(_(D),((t,e)=>(i(),d(a,{key:e,class:y([_(j).e("column")]),style:x(_(k)(_(w)[e]))},{default:m((()=>[(i(!0),p(S,null,v(t,((t,e)=>(i(),d(a,{key:e,class:y([_(j).em("column","item")])},{default:m((()=>[h(b(t),1)])),_:2},1032,["class"])))),128))])),_:2},1032,["class","style"])))),128))])),_:1},8,["class"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-48baa9cc"]]),A=j(c({__name:"index",setup(t){C((()=>({}))),z((()=>({})));const{isDemoH5Page:e}=w(),a=n(""),l=()=>(1e6*Math.random()).toFixed(2);return a.value=l(),setInterval((()=>{a.value=l()}),5e3),(t,l)=>{const s=g;return i(),d(k,{title:"数字滚动","is-h5-demo-page":_(e)},{default:m((()=>[f(D,{title:"基础使用"},{default:m((()=>[f(s,{class:"count-scroll-container"},{default:m((()=>[f(s,{class:"count-scroll-item"},{default:m((()=>[f(H,{value:"7548"})])),_:1})])),_:1})])),_:1}),f(D,{title:"带小数和千分位"},{default:m((()=>[f(s,{class:"count-scroll-container"},{default:m((()=>[f(s,{class:"count-scroll-item"},{default:m((()=>[f(H,{value:"123,765,7548.90"})])),_:1})])),_:1})])),_:1}),f(D,{title:"修改样式"},{default:m((()=>[f(s,{class:"count-scroll-container"},{default:m((()=>[f(s,{class:"count-scroll-item"},{default:m((()=>[f(H,{value:"123,765,7548.90","text-color":"tn-blue","font-size":"50"})])),_:1})])),_:1})])),_:1}),f(D,{title:"动态修改数值"},{default:m((()=>[f(s,{class:"count-scroll-container"},{default:m((()=>[f(s,{class:"count-scroll-item"},{default:m((()=>[f(H,{value:a.value,"text-color":"tn-blue","font-size":"50"},null,8,["value"])])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-710e8d84"]]);export{A as default};

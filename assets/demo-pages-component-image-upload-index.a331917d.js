import{a as e,D as a,E as l,r as o,o as s,e as t,f as d,h as u,m as i,t as n,u as r,n as m,aS as c,k as p,v as f,p as g,T as v,_}from"./index-80b03063.js";import{T as h,i as j}from"./image-upload.78ec70f7.js";import{C as V}from"./custom-page.333ee63a.js";import{D as x}from"./demo-container.59d4003d.js";import{U as C}from"./index.5ab7a248.js";import{u as k}from"./index.e83e3f39.js";import{u as U}from"./upload-headers.4d942798.js";import"./index.b621671f.js";import"./event.5568c9d8.js";import"./index.f7e3486a.js";import"./install.171bae2e.js";import"./index.38361e72.js";import"./debounce.73e35894.js";import"./clone-deep.2124c060.js";import"./title.e0fd12f0.js";const b=_(e({__name:"index",setup(e){a((()=>({}))),l((()=>({})));const{isDemoH5Page:_}=k(),b=C,y=U,D=o([]),I=o(["https://resource.tuniaokj.com/images/advertise/10.jpg"]),M=o(),P=o([]),S=()=>{var e;null==(e=M.value)||e.chooseFile()},w=()=>{v({title:"提示",content:"是否清空已上传图片",success:e=>{var a;e.confirm&&(null==(a=M.value)||a.clear())}})},F=o([]),J=e=>{const{statusCode:a,data:l}=e;if([200,201,204].includes(a)){const e=j(l)?JSON.parse(l):l;if(200===e.code&&0===e.data.errCode)return e.data.url;console.error(void 0===(null==e?void 0:e.message)?(null==e?void 0:e.msg)||"上传文件发生错误":e.message)}else console.error((null==e?void 0:e.errMsg)||"上传文件发生错误");return""},N=o([]),O=e=>new Promise(((a,l)=>{const o=e.path;c({url:b,header:y,filePath:o,name:"file",success:e=>{const{statusCode:o,data:s}=e;if([200,201,204].includes(o)){const e=j(s)?JSON.parse(s):s;200===e.code&&0===e.data.errCode?a(e.data.url):(console.error(void 0===(null==e?void 0:e.message)?(null==e?void 0:e.msg)||"上传文件发生错误":e.message),l(void 0===(null==e?void 0:e.message)?(null==e?void 0:e.msg)||"上传文件发生错误":e.message))}else console.error((null==e?void 0:e.errMsg)||"上传文件发生错误"),l((null==e?void 0:e.errMsg)||"上传文件发生错误")},fail:e=>{l(e)}})}));return(e,a)=>{const l=p,o=f,c=g;return s(),t(V,{title:"图片上传","is-h5-demo-page":r(_)},{default:d((()=>[u(l,{class:"tn-pt tn-mb tn-type-danger_text"},{default:d((()=>[u(l,{class:"tn-text-xl"},{default:d((()=>[i("警告:")])),_:1}),u(l,{class:"tn-mt-sm"},{default:d((()=>[i(" 请勿将演示接口用于自己的项目中，演示接口会每天清理数据，如果您的项目中需要使用图片上传，请使用自己的图片上传接口。 ")])),_:1})])),_:1}),u(x,{title:"基础使用"},{default:d((()=>[u(l,{class:"image-upload-container"},{default:d((()=>[u(l,{class:"image-upload-item"},{default:d((()=>[i(" 图片列表: "),u(o,{class:"tn-gray_text upload-value"},{default:d((()=>[i(" ["+n(D.value.join(","))+"] ",1)])),_:1})])),_:1}),u(l,{class:"image-upload-item"},{default:d((()=>[u(h,{modelValue:D.value,"onUpdate:modelValue":a[0]||(a[0]=e=>D.value=e),action:r(b),header:r(y)},null,8,["modelValue","action","header"])])),_:1})])),_:1})])),_:1}),u(x,{title:"设置已上传图片列表"},{default:d((()=>[u(l,{class:"image-upload-container"},{default:d((()=>[u(l,{class:"image-upload-item"},{default:d((()=>[u(h,{modelValue:I.value,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e),action:r(b),header:r(y)},null,8,["modelValue","action","header"])])),_:1})])),_:1})])),_:1}),u(x,{title:"自定义处理接口返回的内容"},{default:d((()=>[u(l,{class:"image-upload-container"},{default:d((()=>[u(l,{class:"image-upload-item"},{default:d((()=>[u(h,{modelValue:F.value,"onUpdate:modelValue":a[2]||(a[2]=e=>F.value=e),action:r(b),header:r(y),"custom-upload-callback":J},null,8,["modelValue","action","header"])])),_:1})])),_:1})])),_:1}),u(x,{title:"自定义处理上传函数"},{default:d((()=>[u(l,{class:"image-upload-container"},{default:d((()=>[u(l,{class:"image-upload-item"},{default:d((()=>[u(h,{modelValue:N.value,"onUpdate:modelValue":a[3]||(a[3]=e=>N.value=e),"custom-upload-handler":O},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(x,{title:"自定义上传框"},{default:d((()=>[u(l,{class:"image-upload-container"},{default:d((()=>[u(l,{class:"image-upload-item"},{default:d((()=>[u(h,{ref_key:"customUploadContainerImageUploadRef",ref:M,modelValue:P.value,"onUpdate:modelValue":a[4]||(a[4]=e=>P.value=e),action:r(b),header:r(y),limit:1},{uploadBtn:d((()=>[u(l,{class:"custom-upload-item btn",onClick:m(S,["stop"])},{default:d((()=>[i(" 请上传身份证正面 ")])),_:1},8,["onClick"])])),uploadImage:d((({data:e})=>[u(c,{class:"custom-upload-item image",src:e.url,mode:"aspectFill",onClick:m(w,["stop"])},null,8,["src","onClick"])])),_:1},8,["modelValue","action","header"])])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-d9aeaa45"]]);export{b as default};

import{b as e,V as l,W as o,X as a,w as t,c as n,r as c,a8 as s,a as r,o as i,e as u,f as d,h as m,u as v,K as f,m as p,t as _,g as b,a1 as x,C as g,n as h,U as C,k as y,_ as k,D as w,E as T,i as j,F as M,s as S}from"./index-80b03063.js";import{T as z}from"./popup.cb51da11.js";import{Z as B,a as I,b as V}from"./index.b621671f.js";import{T as D}from"./button.89b66e38.js";import{C as F}from"./custom-page.333ee63a.js";import{D as $}from"./demo-container.59d4003d.js";import{u as K}from"./index.e83e3f39.js";import"./overlay.66eb0f69.js";import"./event.5568c9d8.js";import"./install.171bae2e.js";import"./loading.d4613e36.js";import"./debounce.73e35894.js";import"./title.e0fd12f0.js";const P=e({zIndex:{type:Number,default:B.modal}}),U=k(r({__name:"modal",props:P,setup(e,{expose:r}){const{openModal:k,showModal:w,title:T,content:j,showCancel:M,cancelText:S,confirmText:B,mask:D,maskClosable:F,cancelStyle:$,confirmStyle:K,clickCancel:P,clickConfirm:U}=(()=>{const e=c(!1),l=c(""),o=c(""),a=c(!1),t=c(""),n=c({}),r=c(""),i=c({}),u=c(!0),d=c(!1),m=c(void 0),v=c(void 0),f=()=>{e.value=!1};return{openModal:e,showModal:c=>{e.value=!0,l.value=I(c.title,""),o.value=c.content,a.value=I(null==c?void 0:c.showCancel,!1),t.value=I(null==c?void 0:c.cancelText,"取 消"),n.value=I(null==c?void 0:c.cancelStyle,{}),r.value=I(null==c?void 0:c.confirmText,"确 认"),i.value=I(null==c?void 0:c.confirmStyle,{}),u.value=I(null==c?void 0:c.mask,!0),d.value=I(null==c?void 0:c.maskClosable,!1),m.value=null==c?void 0:c.cancel,v.value=null==c?void 0:c.confirm},title:l,content:o,showCancel:a,cancelText:t,cancelStyle:n,confirmText:r,confirmStyle:i,mask:u,maskClosable:d,cancelFunc:m,confirmFunc:v,clickCancel:()=>{if(!m.value)return void f();const e=m.value();[s(e),V(e)].includes(!0)?s(e)?e.then((e=>{e&&f()})).catch((e=>{console.warn(`[TnModal] some error occured: ${e}`)})):e&&f():f()},clickConfirm:()=>{if(!v.value)return void f();const e=v.value();[s(e),V(e)].includes(!0)?s(e)?e.then((e=>{e&&f()})).catch((e=>{console.warn(`[TnModal] some error occured: ${e}`)})):e&&f():f()}}})(),{ns:E,operationBtnClass:H,operationBtnStyle:J}=((e,c)=>{const s=l("modal"),[r,i,u]=o(a(e.value,"bgColor"),"bg"),[d,m,v]=o(a(e.value,"color"),"text"),[f,p,_]=o(a(c.value,"bgColor"),"bg"),[b,x,g]=o(a(c.value,"color"),"text");t((()=>c),(e=>{_(e.value.bgColor),g(e.value.color)}),{deep:!0}),t((()=>e),(e=>{u(e.value.bgColor),v(e.value.color)}),{deep:!0});const h=n((()=>e=>{const l=[s.e("operation-btn"),s.em("operation-btn",e)];return"cancel"===e&&(r.value&&l.push(r.value),d.value&&l.push(d.value)),"confirm"===e&&(f.value&&l.push(f.value),b.value&&l.push(b.value)),l.join(" ")})),C=n((()=>e=>{const l={};return"cancel"===e&&(i.value&&(l.backgroundColor=i.value),m.value?l.color=m.value:r.value||d.value||(l.color="var(--tn-color-danger)")),"confirm"===e&&(p.value&&(l.backgroundColor=p.value),x.value?l.color=x.value:f.value||b.value||(l.color="var(--tn-color-primary)")),l}));return{ns:s,operationBtnClass:h,operationBtnStyle:C}})($,K);return r({showModal:w}),(e,l)=>{const o=y;return i(),u(z,{modelValue:v(k),"onUpdate:modelValue":l[0]||(l[0]=e=>C(k)?k.value=e:null),"open-direction":"center","bg-color":"transparent",radius:"0",width:"80%",overlay:v(D),"overlay-closeable":v(F),"z-index":e.zIndex},{default:d((()=>[m(o,{class:f([v(E).b()])},{default:d((()=>[v(T)?(i(),u(o,{key:0,class:f(["tn-text-ellipsis-1",[v(E).e("title")]])},{default:d((()=>[p(_(v(T)),1)])),_:1},8,["class"])):b("v-if",!0),m(o,{class:f([v(E).e("content")])},{default:d((()=>[x(e.$slots,"default",{},(()=>[m(o,{class:f(["tn-gray_text",[v(E).em("content","text")]])},{default:d((()=>[p(_(v(j)),1)])),_:1},8,["class"])]),!0)])),_:3},8,["class"]),m(o,{class:f([v(E).e("operation")])},{default:d((()=>[v(M)?(i(),u(o,{key:0,class:f([v(H)("cancel")]),style:g(v(J)("cancel")),"hover-class":"tn-u-btn-hover","hover-stay-time":300,onClick:h(v(P),["stop"])},{default:d((()=>[p(_(v(S)),1)])),_:1},8,["class","style","onClick"])):b("v-if",!0),m(o,{class:f([v(H)("confirm")]),style:g(v(J)("confirm")),"hover-class":"tn-u-btn-hover","hover-stay-time":300,onClick:h(v(U),["stop"])},{default:d((()=>[p(_(v(B)),1)])),_:1},8,["class","style","onClick"])])),_:1},8,["class"])])),_:3},8,["class"])])),_:3},8,["modelValue","overlay","overlay-closeable","z-index"])}}}),[["__scopeId","data-v-7cdba108"]]),E=k(r({__name:"index",setup(e){w((()=>({}))),T((()=>({})));const{isDemoH5Page:l}=K(),o=c(),a=()=>{var e;null==(e=o.value)||e.showModal({title:"删除数据",content:"是否删除数据，删除后将无法恢复，请谨慎操作",confirm:()=>{S({title:"删除成功",icon:"none"})}})},t=()=>{var e;null==(e=o.value)||e.showModal({title:"加入会员",content:"是否加入会员，加入会员后，可享受更多模板",showCancel:!0,cancelText:"暂不加入",confirmText:"立即加入",confirm:()=>{S({title:"加入成功",icon:"none"})},cancel:()=>{S({title:"已取消",icon:"none"})}})},n=()=>{var e;null==(e=o.value)||e.showModal({title:"加入会员",content:"是否加入会员，加入会员后，可享受更多模板",showCancel:!0,cancelText:"暂不加入",confirmText:"立即加入",confirmStyle:{bgColor:"tn-type-success"},cancelStyle:{bgColor:"tn-gray-disabled",color:"tn-white"},confirm:()=>{S({title:"加入成功",icon:"none"})},cancel:()=>{S({title:"已取消",icon:"none"})}})},s=()=>{var e;null==(e=o.value)||e.showModal({title:"加入会员",content:"是否加入会员，加入会员后，可享受更多模板",confirmText:"立即加入",maskClosable:!0,confirm:()=>new Promise(((e,l)=>{S({title:"加入失败，请联系管理员",icon:"none"}),l()}))})};return(e,c)=>{const r=y;return i(),j(M,null,[m(F,{title:"模态框","is-h5-demo-page":v(l)},{default:d((()=>[m($,{title:"基础使用"},{default:d((()=>[m(r,{class:"modal-container tn-flex tn-flex-wrap"},{default:d((()=>[m(r,{class:"modal-item line"},{default:d((()=>[m(D,{size:"lg","bg-color":"gradient-bg__cool-6","text-color":"tn-white",onClick:a},{default:d((()=>[p(" 默认模态框 ")])),_:1})])),_:1}),m(r,{class:"modal-item line"},{default:d((()=>[m(D,{size:"lg","bg-color":"gradient-bg__cool-1","text-color":"tn-white",onClick:t},{default:d((()=>[p(" 显示取消选项 ")])),_:1})])),_:1})])),_:1})])),_:1}),m($,{title:"修改按钮样式"},{default:d((()=>[m(r,{class:"modal-container tn-flex tn-flex-wrap"},{default:d((()=>[m(r,{class:"modal-item line"},{default:d((()=>[m(D,{size:"lg","bg-color":"gradient-bg__cool-6","text-color":"tn-white",onClick:n},{default:d((()=>[p(" 打开模态框 ")])),_:1})])),_:1})])),_:1})])),_:1}),m($,{title:"确认拦截"},{default:d((()=>[m(r,{class:"modal-container tn-flex tn-flex-wrap"},{default:d((()=>[m(r,{class:"modal-item line"},{default:d((()=>[m(D,{size:"lg","bg-color":"gradient-bg__cool-6","text-color":"tn-white",onClick:s},{default:d((()=>[p(" 打开模态框 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"]),m(U,{ref_key:"modalRef",ref:o},null,512)],64)}}}),[["__scopeId","data-v-ac5b09cb"]]);export{E as default};

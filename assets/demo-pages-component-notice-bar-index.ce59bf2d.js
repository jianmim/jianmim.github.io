import{W as t,X as e,c as a,Z as o,I as l,z as n,a5 as i,x as c,r,w as s,L as u,H as d,y as f,N as m,a9 as p,a as v,V as g,o as _,e as h,f as I,h as y,i as b,j as k,u as S,F as C,K as z,S as x,k as w,n as j,m as B,t as N,q as D,_ as E,b as $,d as H,g as T,C as P,a2 as U,D as X,E as q}from"./index-80b03063.js";import{a as F}from"./index.b621671f.js";import{u as A}from"./index.38361e72.js";import{i as K}from"./is-number.acae358a.js";import{C as L}from"./custom-page.333ee63a.js";import{D as M}from"./demo-container.59d4003d.js";import{u as V}from"./index.e83e3f39.js";import"./title.e0fd12f0.js";const W=Symbol("noticeBar"),Z=E(v({__name:"column-notice-bar",setup(t){const e=g("column-notice-bar"),{data:o,interval:l,play:n,vertical:i,noticeClickEvent:r}=(()=>{const t=c(W,null);return{data:a((()=>F(null==t?void 0:t.data,[]))),interval:a((()=>F(null==t?void 0:t.speed,3e3))),play:a((()=>F(null==t?void 0:t.play,!0))),vertical:a((()=>"vertical"===(null==t?void 0:t.direction))),noticeClickEvent:e=>{null==t||t.click(e)}}})();return(t,a)=>{const c=D,s=x,u=w;return _(),h(u,{class:z([S(e).b()])},{default:I((()=>[y(s,{class:z([S(e).e("swiper")]),autoplay:S(n),interval:S(l),vertical:S(i),circular:""},{default:I((()=>[(_(!0),b(C,null,k(S(o),((t,a)=>(_(),h(c,{key:a,class:z(["tn-text-ellipsis-1",[S(e).e("swiper-item")]]),onClick:j((t=>S(r)(a)),["stop"])},{default:I((()=>[B(N(t),1)])),_:2},1032,["class","onClick"])))),128))])),_:1},8,["class","autoplay","interval","vertical"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-d3e9e55e"]]),G=E(v({__name:"row-notice-bar",setup(t){const e=g("row-notice-bar"),{componentId:o,componentTextId:l,data:n,animationData:i,noticeClickEvent:v}=(()=>{const t=f(),e=c(W,null),{getSelectorNodeInfo:o}=A(t),l=`trnb-${m()}`,n=`${l}-text`,i=a((()=>{var t;return(null==(t=null==e?void 0:e.data)?void 0:t.length)?e.data.join(" "):""})),v=a((()=>F(null==e?void 0:e.speed,80)));let g=0,_=null;const h=r(null);let I=null;const y=()=>{_=p({duration:g,timingFunction:"linear"}),_.translateX(-(C+z)+Number(10*Math.random())).step({duration:g}),_.translateX(0).step({duration:0}),h.value=_.export()},b=()=>{y(),I=setInterval((()=>{y()}),g+80)},k=()=>{_=null,h.value=null,I&&(clearInterval(I),I=null)};s((()=>null==e?void 0:e.play),(t=>{t?b():k()}));let S=0,C=0,z=0;const x=async()=>{try{const t=await o(`#${l}`),a=await o(`#${n}`);S=0,C=t.width||0,z=a.width||0,g=(C+z)/v.value*1e3,(null==e?void 0:e.play)&&(null==e?void 0:e.autoPlay)&&setTimeout((()=>{b()}),50)}catch(t){if(S>10)return void(S=0);S++,setTimeout((()=>{x()}),150)}};return s((()=>null==e?void 0:e.speed),(()=>{k(),x()})),u((()=>{d((()=>{x()}))})),{componentId:l,componentTextId:n,data:i,animationData:h,noticeClickEvent:()=>{null==e||e.click(0)}}})();return(t,a)=>{const c=w;return _(),h(c,{id:S(o),class:z([S(e).b()]),animation:S(i),onClick:j(S(v),["stop"])},{default:I((()=>[y(c,{id:S(l),class:z([S(e).e("value")])},{default:I((()=>[B(N(S(n)),1)])),_:1},8,["id","class"])])),_:1},8,["id","class","animation","onClick"])}}}),[["__scopeId","data-v-76c7e3f9"]]),J=E(v({__name:"notice-bar",props:$({show:{type:Boolean,default:!0},data:{type:H(Array),default:()=>[]},bgColor:String,textColor:String,fontSize:String,leftIcon:String,leftIconColor:String,leftIconSize:String,rightIcon:String,rightIconColor:String,rightIconSize:String,pause:Boolean,autoPlay:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},loop:{type:Boolean,default:!0},speed:Number,autoHide:{type:Boolean,default:!0}}),emits:{click:t=>K(t),"left-icon-click":()=>!0,"right-icon-click":()=>!0},setup(c,{emit:r}){const s=c,u=g("notice-bar"),{showNoticeBar:d,leftIconClick:f,rightIconClick:m}=((t,e)=>{const o=a((()=>t.show&&!(t.autoHide&&0===t.data.length))),c=a((()=>!t.pause));return l(W,n({...i(t),play:c,click:t=>{e("click",t)}})),{showNoticeBar:o,leftIconClick:()=>{e("left-icon-click")},rightIconClick:()=>{e("right-icon-click")}}})(s,r),{commonClass:p,commonStyle:v}=(l=>{const[n,i]=t(e(l,"bgColor"),"bg"),[c,r]=t(e(l,"textColor"),"text"),[s,u]=t(e(l,"leftIconColor"),"text"),[d,f]=t(e(l,"rightIconColor"),"text");return{commonClass:a((()=>(t="normal")=>{const e=[];return"normal"===t?(n.value&&e.push(n.value),c.value&&e.push(c.value)):"leftIcon"===t?s.value&&e.push(s.value):"rightIcon"===t&&d.value&&e.push(d.value),e.join(" ")})),commonStyle:a((()=>(t="normal")=>{const e={};return"normal"===t?(n.value||(e.backgroundColor=i.value||"var(--tn-color-white)"),r.value?e.color=r.value:n.value||c.value||(e.color="var(--tn-text-color-primary)"),l.fontSize&&(e.fontSize=o(l.fontSize))):"leftIcon"===t?(s.value||(e.color=u.value||"var(--tn-text-color-primary)"),l.fontSize&&(e.fontSize=o(l.fontSize)),l.leftIconSize&&(e.fontSize=o(l.leftIconSize))):"rightIcon"===t&&(d.value||(e.color=f.value||"var(--tn-text-color-secondary)"),l.fontSize&&(e.fontSize=`calc(${o(l.fontSize)} * 1.2)`),l.rightIconSize&&(e.fontSize=o(l.rightIconSize))),e}))}})(s);return(t,e)=>{const a=w;return S(d)?(_(),h(a,{key:0,class:z([S(u).b(),S(p)("normal")]),style:P(S(v)("normal"))},{default:I((()=>[T(" 左图标 "),t.leftIcon?(_(),h(a,{key:0,class:z([S(u).e("left-icon"),S(p)("leftIcon")]),style:P(S(v)("leftIcon")),onClick:j(S(f),["stop"])},{default:I((()=>[y(U,{name:t.leftIcon},null,8,["name"])])),_:1},8,["class","style","onClick"])):T("v-if",!0),T(" 内容 "),y(a,{class:z([S(u).e("content")])},{default:I((()=>["vertical"===t.direction||"horizontal"===t.direction&&!t.loop?(_(),h(Z,{key:0})):(_(),h(G,{key:1}))])),_:1},8,["class"]),T(" 右图标 "),t.rightIcon?(_(),h(a,{key:1,class:z([S(u).e("right-icon"),S(p)("rightIcon")]),style:P(S(v)("rightIcon")),onClick:j(S(m),["stop"])},{default:I((()=>[y(U,{name:t.rightIcon},null,8,["name"])])),_:1},8,["class","style","onClick"])):T("v-if",!0)])),_:1},8,["class","style"])):T("v-if",!0)}}}),[["__scopeId","data-v-6da3a1a2"]]),O=E(v({__name:"index",setup(t){X((()=>({}))),q((()=>({})));const{isDemoH5Page:e}=V(),a=["tuniaoUI vue3 uniapp 版本现已上线，欢迎大家使用","新版本提供了cli的方式进行初始化项目","图鸟UI专注于酷炫模板的开发","图鸟科技专注于酷炫UI设计到开发一条龙服务，高产似母猪"];return(t,o)=>{const l=w;return _(),h(L,{title:"通知栏","is-h5-demo-page":S(e)},{default:I((()=>[y(M,{title:"基础使用"},{default:I((()=>[y(l,{class:"notice-bar-container"},{default:I((()=>[y(l,{class:"notice-bar-item"},{default:I((()=>[y(J,{data:a})])),_:1})])),_:1})])),_:1}),y(M,{title:"横向通知 - 不连续"},{default:I((()=>[y(l,{class:"notice-bar-container"},{default:I((()=>[y(l,{class:"notice-bar-item"},{default:I((()=>[y(J,{data:a,loop:!1})])),_:1})])),_:1})])),_:1}),y(M,{title:"垂直通知"},{default:I((()=>[y(l,{class:"notice-bar-container"},{default:I((()=>[y(l,{class:"notice-bar-item"},{default:I((()=>[y(J,{data:a,direction:"vertical"})])),_:1})])),_:1})])),_:1}),y(M,{title:"修改通知速度"},{default:I((()=>[y(l,{class:"notice-bar-container"},{default:I((()=>[y(l,{class:"notice-bar-item"},{default:I((()=>[y(J,{data:a,speed:10})])),_:1}),y(l,{class:"notice-bar-item"},{default:I((()=>[y(J,{data:a,direction:"vertical",speed:1e4})])),_:1})])),_:1})])),_:1}),y(M,{title:"设置左右图标"},{default:I((()=>[y(l,{class:"notice-bar-container"},{default:I((()=>[y(l,{class:"notice-bar-item"},{default:I((()=>[y(J,{data:a,"left-icon":"sound","right-icon":"right"})])),_:1}),y(l,{class:"notice-bar-item"},{default:I((()=>[y(J,{data:a,direction:"vertical","left-icon":"sound","right-icon":"close"})])),_:1})])),_:1})])),_:1}),y(M,{title:"设置通知尺寸"},{default:I((()=>[y(l,{class:"notice-bar-container"},{default:I((()=>[y(l,{class:"notice-bar-item"},{default:I((()=>[y(J,{data:a,"left-icon":"sound","right-icon":"right","font-size":"36"})])),_:1})])),_:1})])),_:1}),y(M,{title:"自定义样式"},{default:I((()=>[y(l,{class:"notice-bar-container"},{default:I((()=>[y(l,{class:"notice-bar-item"},{default:I((()=>[y(J,{data:a,"left-icon":"sound","right-icon":"right","bg-color":"tn-orangeyellow","left-icon-color":"tn-red","right-icon-color":"tn-gray"})])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-6dff042c"]]);export{O as default};

import{b as e,W as t,X as s,r as a,w as r,V as l,c as o,Z as n,a as i,o as c,e as u,f as d,g as p,h as v,K as f,u as g,a1 as m,m as h,t as _,C,k as y,_ as b,N as S,H as w,ax as x,y as P,ay as I,D as k,E as j,M as D}from"./index-80b03063.js";import{a as N}from"./index.b621671f.js";import{C as $}from"./custom-page.333ee63a.js";import{D as M}from"./demo-container.59d4003d.js";import{u as W}from"./index.e83e3f39.js";import"./title.e0fd12f0.js";const B=e({percent:{type:Number,default:0},activeColor:String,inactiveColor:String,showPercent:Boolean,duration:{type:Number,default:1500}}),L=e({...B,height:{type:[String,Number],default:20},stripe:Boolean,stripeAnimated:{type:Boolean,default:!0}}),A=e=>{const i=l("line-progress"),{percent:c,activeColorClass:u,activeColorStyle:d,inactiveColorClass:p,inactiveColorStyle:v}=(e=>{const[l,o]=t(s(e,"activeColor"),"bg"),[n,i]=t(s(e,"inactiveColor"),"bg"),c=a(0);let u=!0;return r((()=>e.percent),(e=>{u?setTimeout((()=>{c.value=e,u=!1}),50):c.value=e}),{immediate:!0}),{percent:c,activeColorClass:l,activeColorStyle:o,inactiveColorClass:n,inactiveColorStyle:i}})(e),f=o((()=>{const e=[i.b()];return p.value&&e.push(p.value),e.join(" ")})),g=o((()=>{const t={};return p.value||(t.backgroundColor=v.value||"var(--tn-color-gray-disabled)"),e.height&&(t.height=n(e.height),t.fontSize=t.height),t})),m=o((()=>{const t=[i.e("active")];return u.value&&t.push(u.value),e.stripe&&(t.push(i.em("active","stripe")),e.stripeAnimated&&t.push(i.em("active","stripe--animation"))),t.join(" ")})),h=o((()=>{const t={};return c.value&&(t.width=`${c.value}%`),e.duration&&(t.transitionDuration=`${e.duration}ms`),u.value||(t.backgroundColor=d.value||"var(--tn-color-primary)"),t}));return{ns:i,progressClass:f,progressStyle:g,activeProgressClass:m,activeProgressStyle:h}},H=b(i({__name:"line-progress",props:L,setup(e){const t=e,{ns:s,progressClass:a,progressStyle:r,activeProgressClass:l,activeProgressStyle:o}=A(t);return(e,t)=>{const n=y;return c(),u(n,{class:f([g(a)]),style:C(g(r))},{default:d((()=>[p(" 进度 "),v(n,{class:f([g(l)]),style:C(g(o))},{default:d((()=>[e.showPercent||e.$slots.default?(c(),u(n,{key:0,class:f(["tn-text-ellipsis-1",[g(s).e("percent-value")]])},{default:d((()=>[m(e.$slots,"default",{},(()=>[h(_(e.percent)+"% ",1)]),!0)])),_:3},8,["class"])):p("v-if",!0)])),_:3},8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-fd09bbdb"]]),T=e({...B,radius:{type:Number,default:50},ringWidth:{type:Number,default:7}}),z=e=>{const t=P(),s=l("circle-progress"),a=o((()=>N(null==e?void 0:e.radius,50))),n=o((()=>N(null==e?void 0:e.ringWidth,14))),i=o((()=>N(null==e?void 0:e.inactiveColor,"#e6e6e6"))),c=o((()=>N(null==e?void 0:e.activeColor,"#01beff"))),u=o((()=>N(null==e?void 0:e.duration,1500)));let d=0,p=0;const v=String(S());let f=null;const g=Math.PI/180*-90;let m=null;const h=()=>{m||(m=Date.now());const e=Date.now()-m;let s=(r=e,l=p,o=d-p,_=u.value,o*((r=r/_-1)*r*r+1)+l);var r,l,o,_;s<0&&(s=0),(e=>{if(f||(f=x(v,t)),f.clearRect(0,0,2*a.value,2*a.value),f.beginPath(),f.setLineWidth(n.value),f.setStrokeStyle(i.value),f.arc(a.value,a.value,a.value-n.value/2,g,1.5*Math.PI,!1),f.stroke(),0===e)return void f.draw();f.beginPath(),f.setLineCap("round"),f.setLineWidth(n.value),f.setStrokeStyle(c.value);const s=2*Math.PI*e/100-Math.PI/2;f.arc(a.value,a.value,a.value-n.value/2,g,s,!1),f.stroke(),f.draw()})(s),e<u.value&&setTimeout(h,16)};return r((()=>e.percent),((e,t)=>{d=e>100?100:e,p=!t||t<0?0:t,w((()=>{m=null,h()}))}),{immediate:!0}),{ns:s,canvasId:v,radius:a,activeCircleColor:c}},E=b(i({__name:"circle-progress",props:T,setup(e){const t=e,{ns:s,canvasId:a,radius:r,activeCircleColor:l}=z(t);return(e,t)=>{const o=I,n=y;return c(),u(n,{class:f([g(s).b()]),style:C({width:2*g(r)+"px",height:2*g(r)+"px",color:g(l)})},{default:d((()=>[p(" 默认圆环 "),v(o,{id:g(a),class:f([g(s).e("canvas")]),"canvas-id":g(a)},null,8,["id","class","canvas-id"]),p(" 数值 "),e.showPercent||e.$slots.default?(c(),u(n,{key:0,class:f([g(s).e("precent-value")])},{default:d((()=>[m(e.$slots,"default",{},(()=>[h(_(e.percent)+"% ",1)]),!0)])),_:3},8,["class"])):p("v-if",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-f625840d"]]),K=b(i({__name:"index",setup(e){k((()=>({}))),j((()=>({})));const{isDemoH5Page:t}=W(),s=a(0),r=setInterval((()=>{s.value+=10,s.value>100&&(s.value=0)}),3e3);return D((()=>{clearInterval(r)})),(e,a)=>{const r=y;return c(),u($,{title:"进度条","is-h5-demo-page":g(t)},{default:d((()=>[v(M,{title:"基础使用"},{default:d((()=>[v(r,{class:"progress-container"},{default:d((()=>[v(r,{class:"progress-item"},{default:d((()=>[v(H,{percent:s.value},null,8,["percent"])])),_:1}),v(r,{class:"progress-item tn-flex-center"},{default:d((()=>[v(E,{percent:s.value},null,8,["percent"])])),_:1})])),_:1})])),_:1}),v(M,{title:"显示进度"},{default:d((()=>[v(r,{class:"progress-container"},{default:d((()=>[v(r,{class:"progress-item"},{default:d((()=>[v(H,{percent:50,"show-percent":""})])),_:1}),v(r,{class:"progress-item tn-flex-center"},{default:d((()=>[v(E,{percent:50,"show-percent":""})])),_:1})])),_:1})])),_:1}),v(M,{title:"横向进度条显示条纹"},{default:d((()=>[v(r,{class:"progress-container"},{default:d((()=>[v(r,{class:"progress-item"},{default:d((()=>[v(H,{percent:50,stripe:""})])),_:1})])),_:1})])),_:1}),v(M,{title:"修改尺寸"},{default:d((()=>[v(r,{class:"progress-container"},{default:d((()=>[v(r,{class:"progress-item"},{default:d((()=>[v(H,{percent:50,height:"30"})])),_:1}),v(r,{class:"progress-item tn-flex-center"},{default:d((()=>[v(E,{percent:50,radius:80,"ring-width":12})])),_:1})])),_:1})])),_:1}),v(M,{title:"修改颜色"},{default:d((()=>[v(r,{class:"progress-container"},{default:d((()=>[v(r,{class:"progress-item"},{default:d((()=>[v(H,{percent:50,"inactive-color":"tn-grey-disabled","active-color":"tn-green"})])),_:1}),v(r,{class:"progress-item tn-flex-center"},{default:d((()=>[v(E,{percent:50,"inactive-color":"#f8f7f8","active-color":"#fbbd12"})])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-fd6e668f"]]);export{K as default};

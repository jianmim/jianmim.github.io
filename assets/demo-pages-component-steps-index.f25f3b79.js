import{b as e,V as l,x as t,c as a,W as o,r as s,w as i,I as u,z as c,a5 as n,y as d,L as r,H as v,M as m,a as p,o as f,e as _,f as y,a1 as g,K as V,u as C,k as h,_ as k,g as I,h as b,n as j,C as x,a2 as S,m as U,t as A,D as $,E as q,i as w,j as z,F as D,v as E}from"./index-80b03063.js";import{U as L,C as M}from"./event.5568c9d8.js";import{i as B}from"./is-number.acae358a.js";import{u as H}from"./index.b621671f.js";import{u as K}from"./index.ec111f4e.js";import{T as F}from"./button.89b66e38.js";import{C as N}from"./custom-page.333ee63a.js";import{D as P}from"./demo-container.59d4003d.js";import{u as T}from"./index.e83e3f39.js";import"./loading.d4613e36.js";import"./debounce.73e35894.js";import"./title.e0fd12f0.js";const W=Symbol("stepsContextKey"),G=e({color:String,activeColor:String,disabled:Boolean}),J=e({...G,modelValue:Number,mode:{type:String,values:["dot","number","dotIcon","icon"],default:"dot"}}),O=k(p({__name:"steps",props:J,emits:{[L]:e=>B(e),[M]:e=>B(e)},setup(e){(e=>{const l=d(),{emit:t}=l,{children:a,addChild:o,removeChild:r}=K(),v=s([]);let m=!1;const p=(e,l=!1)=>{if(void 0===e)return void(v.value=[]);const o=a.value.findIndex((l=>l.uid===e));-1!==o&&(v.value=a.value.slice(0,o+1).map((e=>e.uid)),t(L,o),l&&t(M,o))};i((()=>e.modelValue),(e=>{var l,t;if(m)m=!1;else if(void 0!==e){const o=null==(t=null==(l=a.value)?void 0:l[e])?void 0:t.uid;p(o)}})),u(W,c({...n(e),items:a,activeUidList:v,addItem:l=>{var t,s;o(l),!v.value.length&&void 0!==e.modelValue&&e.modelValue>=0&&p(null==(s=null==(t=a.value)?void 0:t[e.modelValue])?void 0:s.uid)},removeItem:r,setActiveItem:l=>{e.disabled||(m=!0,p(l,!0))}}))})(e);const{ns:t}={ns:l("steps")};return(e,l)=>{const a=h;return f(),_(a,{class:V([C(t).b()])},{default:y((()=>[g(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-e1e85af0"]]),Q=k(p({__name:"steps-item",props:e({...G,title:String,icon:String,activeIcon:String}),emits:{click:()=>!0},setup(e){const s=e,{isActive:i,stepMode:u,itemClickEvent:c}=(e=>{const l=d(),{emit:o,uid:s}=l,i=t(W),u=a((()=>(null==i?void 0:i.activeUidList.includes(s))||!1)),c=a((()=>(null==i?void 0:i.mode)||"dot"));return r((()=>{v((()=>{null==i||i.addItem({uid:s})}))})),m((()=>{null==i||i.removeItem(s)})),{isActive:u,stepMode:c,itemClickEvent:()=>{e.disabled||(null==i?void 0:i.disabled)||(null==i||i.setActiveItem(s),o("click"))}}})(s),{ns:n,stepClass:p,stepStyle:k,modeClass:$,modeStyle:q,lineClass:w,lineStyle:z}=((e,s,i)=>{const u=l("step"),c=t(W),n=a((()=>e.color||(null==c?void 0:c.color))),d=a((()=>e.activeColor||(null==c?void 0:c.activeColor))),[r,v]=o(n,"text"),[m,p]=o(d,"text"),[f,_]=o(n,"bg"),[y,g]=o(d,"bg"),V=a((()=>{const e=[u.b()];return s.value&&e.push(u.is("active")),s.value?m.value&&e.push(m.value):r.value&&e.push(r.value),e.join(" ")})),C=a((()=>{const e={};return s.value?m.value||(e.color=p.value||"var(--tn-color-primary)"):r.value||(e.color=v.value||"var(--tn-color-gray)"),e})),h=a((()=>e=>{const l=[];return e||l.push(u.e(`mode-${i.value}`)),"dot"===i.value&&(s.value?y.value&&l.push(y.value):f.value&&l.push(f.value)),"number"===i.value&&s.value&&y.value&&l.push(y.value),"dotIcon"===i.value&&(s.value&&"icon"===e&&m.value&&l.push(m.value),s.value||"dot"!==e||f.value&&l.push(f.value)),l.join(" ")})),k=a((()=>e=>{const l={};return"dot"===i.value&&(s.value?y.value||(l.backgroundColor=g.value||"var(--tn-color-primary)"):f.value||(l.backgroundColor=_.value||"var(--tn-color-gray)")),"number"===i.value&&s.value&&(y.value||(l.backgroundColor=g.value||"var(--tn-color-primary)",l.color="var(--tn-color-white)")),"dotIcon"===i.value&&(s.value&&"icon"===e&&(m.value||(l.color=p.value||"var(--tn-color-primary)")),s.value||"dot"!==e||f.value||(l.backgroundColor=_.value||"var(--tn-color-gray)")),l})),I=a((()=>{const l=[u.e("line"),u.is("no-title",!e.title)];return s.value?y.value&&l.push(y.value):f.value&&l.push(f.value),l.join(" ")})),b=a((()=>{const e={};return s.value?y.value||(e.backgroundColor=g.value||"var(--tn-color-primary)"):f.value||(e.backgroundColor=_.value||"var(--tn-color-gray)"),e}));return{ns:u,stepClass:V,stepStyle:C,modeClass:h,modeStyle:k,lineClass:I,lineStyle:b}})(s,i,u);return(e,l)=>{const t=h;return f(),_(t,{class:V([C(p)]),style:x(C(k))},{default:y((()=>[I(" 步骤内容容器 "),b(t,{class:V([C(n).e("container")]),onClick:j(C(c),["stop"])},{default:y((()=>[I(" 模式 "),b(t,{class:V([C(n).e("mode-item")])},{default:y((()=>[g(e.$slots,"default",{},(()=>[I(" 点模式 "),"dot"===C(u)?(f(),_(t,{key:0,class:V([C($)()]),style:x(C(q)())},null,8,["class","style"])):I("v-if",!0),I(" 数字模式 "),"number"===C(u)?(f(),_(t,{key:1,class:V([C($)()]),style:x(C(q)())},{default:y((()=>[b(t,{class:"icon"},{default:y((()=>[b(S,{name:"check"})])),_:1})])),_:1},8,["class","style"])):I("v-if",!0),I(" 点图标模式 "),"dotIcon"===C(u)?(f(),_(t,{key:2,class:V([C($)()]),style:x(C(q)())},{default:y((()=>[b(t,{class:V(["dot",[C($)("dot")]]),style:x(C(q)("dot"))},null,8,["class","style"]),b(t,{class:V(["icon",[C($)("icon")]]),style:x(C(q)("icon"))},{default:y((()=>[b(S,{name:e.activeIcon},null,8,["name"])])),_:1},8,["class","style"])])),_:1},8,["class","style"])):I("v-if",!0),I(" 图标模式 "),"icon"===C(u)?(f(),_(t,{key:3,class:V([C($)()]),style:x(C(q)())},{default:y((()=>[b(t,{class:"icon"},{default:y((()=>[b(S,{name:C(i)?e.activeIcon:e.icon},null,8,["name"])])),_:1})])),_:1},8,["class","style"])):I("v-if",!0)]),!0)])),_:3},8,["class"]),I(" 标题 "),e.title?(f(),_(t,{key:0,class:V([C(n).e("mode-title")])},{default:y((()=>[U(A(e.title),1)])),_:1},8,["class"])):I("v-if",!0)])),_:3},8,["class","onClick"]),I(" 横线 "),b(t,{class:V([C(w)]),style:x(C(z))},null,8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-d5f2c03c"]]),R=k(p({__name:"index",setup(e){$((()=>({}))),q((()=>({})));const{isDemoH5Page:l}=T(),{navBarInfo:t}=H(),a=s(0),o=[{title:"步骤一",icon:"circle",activeIcon:"circle-fill"},{title:"步骤二",icon:"square",activeIcon:"square-fill",color:"tn-bluepurple-light",activeColor:"tn-bluepurple"},{title:"步骤三",icon:"trusty",activeIcon:"trusty-fill",color:"tn-indigo-light",activeColor:"tn-indigo"},{title:"步骤四",icon:"safe",activeIcon:"safe-fill",color:"tn-orange-light",activeColor:"tn-orange"}],i=()=>{a.value<0?a.value=3:a.value--},u=()=>{a.value++,a.value>3&&(a.value=-1)};return(e,s)=>{const c=h,n=E;return f(),_(N,{title:"步骤条","is-h5-demo-page":C(l)},{default:y((()=>[b(c,{class:"steps-operation",style:x({top:`${C(t).height+20}px`})},{default:y((()=>[b(c,{class:"prev"},{default:y((()=>[b(F,{size:"lg",onClick:i},{default:y((()=>[U("上一步")])),_:1})])),_:1}),b(c,{class:"prev"},{default:y((()=>[b(F,{size:"lg",onClick:u},{default:y((()=>[U("下一步")])),_:1})])),_:1})])),_:1},8,["style"]),b(c,{class:"placeholder-top"}),b(P,{title:"基础使用"},{default:y((()=>[b(c,{class:"steps-container"},{default:y((()=>[b(c,{class:"steps-item"},{default:y((()=>[U(" 当前所在步骤: "),b(n,{class:"tn-gray_text"},{default:y((()=>[U(A(a.value),1)])),_:1})])),_:1}),b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e)},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,title:e.title},null,8,["title"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),b(P,{title:"禁止点击选中步骤"},{default:y((()=>[b(c,{class:"steps-container"},{default:y((()=>[b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=e=>a.value=e),disabled:""},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,title:e.title},null,8,["title"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),b(P,{title:"修改颜色"},{default:y((()=>[b(c,{class:"steps-container"},{default:y((()=>[b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[2]||(s[2]=e=>a.value=e),color:"tn-teal-light","active-color":"tn-teal"},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,title:e.title,color:(null==e?void 0:e.color)||"","active-color":(null==e?void 0:e.activeColor)||""},null,8,["title","color","active-color"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),b(P,{title:"数值模式"},{default:y((()=>[b(c,{class:"steps-container"},{default:y((()=>[b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[3]||(s[3]=e=>a.value=e),mode:"number"},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,title:e.title},null,8,["title"]))),64))])),_:1},8,["modelValue"])])),_:1}),b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[4]||(s[4]=e=>a.value=e),mode:"number",color:"tn-teal-light","active-color":"tn-teal"},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,title:e.title,color:(null==e?void 0:e.color)||"","active-color":(null==e?void 0:e.activeColor)||""},null,8,["title","color","active-color"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),b(P,{title:"点图标模式"},{default:y((()=>[b(c,{class:"steps-container"},{default:y((()=>[b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[5]||(s[5]=e=>a.value=e),mode:"dotIcon"},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,title:e.title,icon:e.icon,"active-icon":e.activeIcon},null,8,["title","icon","active-icon"]))),64))])),_:1},8,["modelValue"])])),_:1}),b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[6]||(s[6]=e=>a.value=e),mode:"dotIcon",color:"tn-teal-light","active-color":"tn-teal"},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,title:e.title,color:(null==e?void 0:e.color)||"","active-color":(null==e?void 0:e.activeColor)||"",icon:e.icon,"active-icon":e.activeIcon},null,8,["title","color","active-color","icon","active-icon"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),b(P,{title:"图标模式"},{default:y((()=>[b(c,{class:"steps-container"},{default:y((()=>[b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[7]||(s[7]=e=>a.value=e),mode:"icon"},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,title:e.title,icon:e.icon,"active-icon":e.activeIcon},null,8,["title","icon","active-icon"]))),64))])),_:1},8,["modelValue"])])),_:1}),b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[8]||(s[8]=e=>a.value=e),mode:"icon",color:"tn-teal-light","active-color":"tn-teal"},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,title:e.title,color:(null==e?void 0:e.color)||"","active-color":(null==e?void 0:e.activeColor)||"",icon:e.icon,"active-icon":e.activeIcon},null,8,["title","color","active-color","icon","active-icon"]))),64))])),_:1},8,["modelValue"])])),_:1}),b(c,{class:"steps-item"},{default:y((()=>[b(O,{modelValue:a.value,"onUpdate:modelValue":s[9]||(s[9]=e=>a.value=e),mode:"icon",color:"tn-teal-light","active-color":"tn-teal"},{default:y((()=>[(f(),w(D,null,z(o,((e,l)=>b(Q,{key:l,color:(null==e?void 0:e.color)||"","active-color":(null==e?void 0:e.activeColor)||"",icon:e.icon,"active-icon":e.activeIcon},null,8,["color","active-color","icon","active-icon"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-592a2c31"]]);export{R as default};

import{b as e,V as t,W as l,X as a,w as s,Y as i,c as o,Z as u,x as n,r as d,L as c,H as r,I as m,z as v,a5 as f,y as b,N as _,M as p,a as h,o as y,e as C,f as g,g as I,h as w,K as S,u as x,C as z,a1 as j,k,_ as V,a4 as $,m as N,t as T,n as U,D,E,v as R,l as A}from"./index-80b03063.js";import{U as H,C as K}from"./event.5568c9d8.js";import{i as q}from"./is-number.acae358a.js";import{i as B,a as L}from"./index.b621671f.js";import{u as M}from"./index.38361e72.js";import{u as P}from"./index.ec111f4e.js";import{C as W}from"./custom-page.333ee63a.js";import{D as X}from"./demo-container.59d4003d.js";import{u as Y}from"./index.e83e3f39.js";import"./title.e0fd12f0.js";const Z=Symbol("subsectionContextKey"),F=e({color:String,activeColor:String,disabled:Boolean}),G=e({...F,modelValue:{type:Number,default:0},mode:{type:String,values:["default","button"],default:"default"},size:String,radius:{type:String,default:"8"}}),J=(e,t)=>{const l=b(),{children:a,addChild:i,removeChild:o}=P(),u=`ts-${_()}`,{getSelectorNodeInfo:n}=M(l),p=d(0),h=d(0);let y=!1;s((()=>e.modelValue),(e=>{y?y=!1:(void 0===e||e>a.value.length-1?h.value=0:h.value=e,r((()=>{const e=a.value[h.value];e&&(p.value=e.uid,x(e))})))}));let C=0,g=0;const I=async()=>{try{const e=await n(`#${u}`);g=0,C=e.left||0}catch(e){if(g>10)return void(g=0);g++,setTimeout((()=>{I()}),150)}},w=d(""),S=d({left:0,width:0}),x=t=>{t&&(S.value.left=t.element.left-C,S.value.width=t.element.width,"default"===e.mode&&(S.value.left-=1,e.modelValue===a.value.length-1&&(S.value.width+=2)),w.value=B(t.activeColor,e.activeColor,""))};return c((()=>{r((()=>{I()}))})),m(Z,v({...f(e),items:a,addItem:t=>{void 0!==e.modelValue&&e.modelValue===a.value.length&&(h.value=e.modelValue,p.value=t.uid,r((()=>{x(t)}))),i(t)},removeItem:o,activeUid:p,setActiveItem:e=>{const l=a.value.findIndex((t=>t.uid===e));-1!==l&&(y=!0,p.value=e,h.value=l,x(a.value[l]),t("update:modelValue",l),r((()=>{t("change",l)})))}})),{componentId:u,activeColor:w,sliderRectInfo:S}},O=V(h({__name:"subsection",props:G,emits:{[H]:e=>q(e),[K]:e=>q(e)},setup(e,{emit:n}){const d=e,{componentId:c,activeColor:r,sliderRectInfo:m}=J(d,n),{ns:v,subsectionClass:f,subsectionStyle:b,subsectionSliderClass:_,subsectionSliderStyle:p}=((e,n,d)=>{const c=t("subsection"),[r,m,v]=l(n,"bg"),[f,b]=l(a(e,"activeColor"),"border");s((()=>n.value),(e=>{v(e)}));const{sizeType:_}=i(e.size),p=o((()=>{const t=[c.b(),c.m(e.mode)];return e.size&&"inner"===_.value&&t.push(c.m(e.size)),"default"===e.mode&&f.value&&t.push(f.value),t.join(" ")})),h=o((()=>{const t={};return"button"===e.mode&&(t.backgroundColor="var(--tn-color-gray-light)"),"default"===e.mode&&(f.value||(t.borderColor=b.value||"var(--tn-color-primary)")),e.size&&"custom"===_.value&&(t.fontSize=u(e.size)),e.radius&&(t.borderRadius=u(e.radius)),t})),y=o((()=>{const t=[c.e("slider"),e.mode];return"default"===e.mode&&r.value&&t.push(r.value),t.join(" ")})),C=o((()=>{const t={};return"default"===e.mode?r.value||(t.backgroundColor=m.value||"var(--tn-color-primary)"):t.backgroundColor="var(--tn-color-white)",d.value&&(t.left=`${d.value.left}px`,t.width=`${d.value.width}px`),t}));return{ns:c,subsectionClass:p,subsectionStyle:h,subsectionSliderClass:y,subsectionSliderStyle:C}})(d,r,m);return(e,t)=>{const l=k;return y(),C(l,{id:x(c),class:S([x(f)]),style:z(x(b))},{default:g((()=>[I(" 滑块 "),w(l,{class:S([x(_)]),style:z(x(p))},null,8,["class","style"]),I(" 内容区域 "),w(l,{class:S([x(v).e("content")])},{default:g((()=>[j(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])])),_:3},8,["id","class","style"])}}}),[["__scopeId","data-v-7ade3c23"]]),Q=V(h({__name:"subsection-item",props:e({...F,title:String}),emits:{click:e=>$(e)},setup(e,{emit:s}){const i=e,{componentId:u,active:d,itemClickEvent:m}=((e,t)=>{const l=b(),{uid:a}=l,s=n(Z),i=`tsi-${_()}`,{getSelectorNodeInfo:u}=M(l),d=o((()=>(null==s?void 0:s.activeUid)===a)),m={left:0,width:0};let v=0;const f=async()=>{try{const t=await u(`#${i}`);v=0,m.left=t.left||0,m.width=t.width||0,null==s||s.addItem({...e,uid:a,element:m})}catch(t){if(v>10)return void(v=0);v++,setTimeout((()=>{f()}),150)}};return c((()=>{r((()=>{f()}))})),p((()=>{null==s||s.removeItem(a)})),{componentId:i,active:d,itemClickEvent:()=>{(null==s?void 0:s.disabled)||e.disabled||(null==s||s.setActiveItem(a),t("click",e.title))}}})(i,s),{subsectionItemClass:v,subsectionItemStyle:f}=((e,s)=>{const i=n(Z),u=t("subsection-item"),d=o((()=>B(e.activeColor,null==i?void 0:i.activeColor,""))),c=o((()=>L(null==i?void 0:i.mode,"default"))),r=o((()=>(null==i?void 0:i.disabled)||e.disabled||!1)),[m,v]=l(d,"text"),[f,b]=l(a(i,"activeColor"),"border"),_=o((()=>{const e=[u.b(),u.m(c.value),u.is("active",s.value),u.is("disabled",r.value)];return"default"===c.value&&f.value&&e.push(f.value),"button"===c.value&&s.value&&m.value&&e.push(m.value),e.join(" ")})),p=o((()=>{const e={};return"default"===c.value&&(f.value||(e.borderColor=b.value||"var(--tn-color-primary)"),s.value&&(e.color="var(--tn-color-white)")),"button"===c.value&&s.value&&(m.value||(e.color=v.value||"var(--tn-color-primary)")),e}));return{ns:u,subsectionItemClass:_,subsectionItemStyle:p}})(i,d);return(e,t)=>{const l=k;return y(),C(l,{id:x(u),class:S([x(v)]),style:z(x(f)),onClick:U(x(m),["stop"])},{default:g((()=>[j(e.$slots,"default",{},(()=>[N(T(e.title),1)]),!0)])),_:3},8,["id","class","style","onClick"])}}}),[["__scopeId","data-v-4e800ea4"]]),ee=V(h({__name:"index",setup(e){D((()=>({}))),E((()=>({})));const{isDemoH5Page:t}=Y(),l=d(0);return(e,a)=>{const s=R,i=k,o=A("TnIcon");return y(),C(W,{title:"分段器","is-h5-demo-page":x(t)},{default:g((()=>[w(X,{title:"基础使用"},{default:g((()=>[w(i,{class:"subsection-container"},{default:g((()=>[w(i,{class:"subsection-item"},{default:g((()=>[N(" 当前选中的索引："),w(s,{class:"tn-gray_text"},{default:g((()=>[N(T(l.value<=0?"未选中":l.value),1)])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},{default:g((()=>[w(Q,{title:"全部"}),w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"}),w(Q,{title:"已取消"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),w(X,{title:"按钮分段器"},{default:g((()=>[w(i,{class:"subsection-container"},{default:g((()=>[w(i,{class:"subsection-item"},{default:g((()=>[w(O,{mode:"button"},{default:g((()=>[w(Q,{title:"全部"}),w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"}),w(Q,{title:"已取消"})])),_:1})])),_:1})])),_:1})])),_:1}),w(X,{title:"设置尺寸"},{default:g((()=>[w(i,{class:"subsection-container"},{default:g((()=>[w(i,{class:"subsection-item"},{default:g((()=>[w(O,{size:"sm"},{default:g((()=>[w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{size:"lg"},{default:g((()=>[w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{size:"xl"},{default:g((()=>[w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{size:"44"},{default:g((()=>[w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{mode:"button",size:"sm"},{default:g((()=>[w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{mode:"button",size:"lg"},{default:g((()=>[w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{mode:"button",size:"xl"},{default:g((()=>[w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{mode:"button",size:"44"},{default:g((()=>[w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"})])),_:1})])),_:1})])),_:1})])),_:1}),w(X,{title:"修改颜色"},{default:g((()=>[w(i,{class:"subsection-container"},{default:g((()=>[w(i,{class:"subsection-item"},{default:g((()=>[w(O,{"active-color":"tn-indigo"},{default:g((()=>[w(Q,{title:"全部"}),w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"}),w(Q,{title:"已取消"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{mode:"button","active-color":"#3d7eff"},{default:g((()=>[w(Q,{title:"全部"}),w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"}),w(Q,{title:"已取消"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{mode:"button"},{default:g((()=>[w(Q,{title:"全部"}),w(Q,{title:"待付款","active-color":"tn-orange"}),w(Q,{title:"待收货","active-color":"tn-blue"}),w(Q,{title:"已完成","active-color":"tn-green"}),w(Q,{title:"已取消","active-color":"tn-red"})])),_:1})])),_:1})])),_:1})])),_:1}),w(X,{title:"禁止操作"},{default:g((()=>[w(i,{class:"subsection-container"},{default:g((()=>[w(i,{class:"subsection-item"},{default:g((()=>[w(O,{disabled:""},{default:g((()=>[w(Q,{title:"全部"}),w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"}),w(Q,{title:"已取消"})])),_:1})])),_:1}),w(i,{class:"subsection-item"},{default:g((()=>[w(O,{mode:"button"},{default:g((()=>[w(Q,{title:"全部"}),w(Q,{title:"待付款"}),w(Q,{title:"待收货"}),w(Q,{title:"已完成"}),w(Q,{title:"已取消",disabled:""})])),_:1})])),_:1})])),_:1})])),_:1}),w(X,{title:"自定义内容"},{default:g((()=>[w(i,{class:"subsection-container"},{default:g((()=>[w(i,{class:"subsection-item"},{default:g((()=>[w(O,null,{default:g((()=>[w(Q,null,{default:g((()=>[w(o,{name:"wea-sun"})])),_:1}),w(Q,null,{default:g((()=>[w(o,{name:"wea-cloud"})])),_:1}),w(Q,null,{default:g((()=>[w(o,{name:"wea-cloud-sun"})])),_:1}),w(Q,null,{default:g((()=>[w(o,{name:"wea-rain"})])),_:1}),w(Q,null,{default:g((()=>[w(o,{name:"wea-wind"})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-70868a54"]]);export{ee as default};

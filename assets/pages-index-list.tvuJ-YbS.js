import{d as e,i as a,r as s,C as t,b as i,h as l,s as o,G as n,o as r,n as c,k as d,w as p,m as h,z as g,u as x,F as m,p as u,t as f,j as y,y as b,x as _}from"./index-0wprmZGF.js";import{_ as k}from"./navbar.BtAVsiEP.js";import{b as I,r as T,_ as v}from"./_plugin-vue_export-helper.Cg_lsX-a.js";const F=v(e({__name:"list",setup(e){const v=a("$api"),F=s(0),J=s(0),M=s("Desc");t({});const N=s([]);I((e=>{F.value=e.id,i("token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiTG90b3MiLCJVc2VySUQiOiIzOSIsIkNvbXBhbnlJRCI6IjAiLCJMb2dpbkxpbmUiOiIyNDA1MjIxMDU4MzYiLCJqdGkiOiJkZGI0MWI3MC02NThhLTQ5OTMtOGYwNy0xZWRjNTY0NWVmMzEiLCJleHAiOjE3MTYzODkzMzAsImlzcyI6Im1haXhpbnRlY2giLCJhdWQiOiJ0b293ZWxsX1M3MCJ9.JBiZDllFM3jBse-_qdRLSSbQ9sBekU5vgF5JmDtvqFY"),console.log("id",F.value),w(),L()}));const w=async()=>{const e={Sort:"WaterTank",Order:M.value,OrderType:1,StartTime:"2024-04-01"};console.log("data",e);try{const a=await v.get("/FishingAppApi/GetBerthTankList",e);console.log("res",a),0==a.code?(l(),N.value=a.data.list,J.value=a.data._pager.RecordCount,console.log("lists",N.value)):o({title:a.message,icon:"none",duration:5e3})}catch(a){console.log(a)}},L=async()=>{const e={typename:"Dic_BerthName"};console.log("data",e);try{const a=await v.post("/CrowdApi/GetDicList",e);console.log("res",a),0==a.code?(l(),N.value=a.data.list,console.log("lists",N.value)):o({title:a.message,icon:"none",duration:5e3})}catch(a){console.log(a)}};return(e,a)=>{const s=T(n("tn-navbar"),k),t=f;return r(),c(m,null,[d(s,{fixed:"",frosted:"",height:"45px","back-icon":"","home-icon":"","bg-color":"#198cff","text-color":"#fff","safe-area-inset-right":!1},{default:p((()=>[h("泊位监控")])),_:1}),d(t,{class:"bg-white padding-sm flex_sb_c text-bold",style:{position:"fixed","z-index":"1",width:"750rpx",height:"60rpx"}},{default:p((()=>[d(t,{class:"margin-right"},{default:p((()=>[h("泊位排序")])),_:1}),d(t,{class:"text-black text-bold"},{default:p((()=>[h("总计："+g(x(J)),1)])),_:1})])),_:1}),d(t,{class:"cu-list menu"},{default:p((()=>[(r(!0),c(m,null,u(x(N),((e,a)=>(r(),y(t,{key:a,class:"cu-item padding-tb-xs",style:{padding:"0 20rpx","min-height":"0","align-items":"flex-start"}},{default:p((()=>[d(t,{class:"text-bold text-black margin-right-sm flex",style:{"padding-top":"8rpx"}},{default:p((()=>[h("#"+g(e.WaterTank<10?"0"+e.WaterTank:e.WaterTank),1)])),_:2},1024),d(t,{class:"content flex_wrap",style:{width:"690rpx"}},{default:p((()=>[(r(!0),c(m,null,u(e.TankDataList,((e,a)=>(r(),y(t,{key:a,class:b(["flex_c margin-right-sm",{"text-red":1==e.FishFlag,"text-blue":2==e.FishFlag}])},{default:p((()=>[d(t,null,{default:p((()=>[h(g(e.FishName.includes("闽狮渔")?e.FishName.replace("闽狮渔",""):e.FishName)+" "+g(e.FishTypeName?"("+e.FishTypeName+")":""),1)])),_:2},1024),0==e.BerthType?(r(),y(t,{key:0,class:"margin-left-xxs icon-refresharrow rotateds"})):2==e.BerthType?(r(),y(t,{key:1,class:"parent-container"},{default:p((()=>[d(t,{class:"margin-left-xxs icon-refresharrow icon-position rotateds"}),d(t,{class:"margin-left-xxs icon-refresharrow icon-position rotateds"})])),_:1})):3==e.BerthType?(r(),y(t,{key:2,class:"margin-left-xxs icon-creative text-lg"})):_("",!0)])),_:2},1032,["class"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1})],64)}}}),[["__scopeId","data-v-115c0cbf"]]);export{F as default};

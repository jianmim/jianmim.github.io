import{d as e,r as l,C as a,L as s,s as o,o as t,j as n,w as i,k as c,m as d,a as u,B as r,t as p,I as g,D as m,E as _}from"./index-0wprmZGF.js";import{b as h,_ as f}from"./_plugin-vue_export-helper.Cg_lsX-a.js";const v=f(e({__name:"login",setup(e){const f=l([]),v=a({login:{phone:"",password:""}});h((()=>{x()}));const x=async()=>{let e={type:"service_type"};try{const l=await s.$api.get("/Dict/DictList",e);console.log("res",l.data),0===l.code?(f.value=l.data,console.log("lists",f.value)):o({title:l.message,icon:"none",duration:5e3})}catch(l){console.log(l)}};return(e,l)=>{const a=r,h=p,f=g,x=m,w=_;return t(),n(h,{class:"content"},{default:i((()=>[c(h,{class:"header"},{default:i((()=>[c(a,{src:"/static/images/login/logo.jpg"})])),_:1}),c(h,{class:"list"},{default:i((()=>[c(h,{class:"list-call"},{default:i((()=>[c(f,{class:"sl-input",modelValue:v.login.phone,"onUpdate:modelValue":l[0]||(l[0]=e=>v.login.phone=e),type:"number",maxlength:"11",placeholder:"输入手机号"},null,8,["modelValue"])])),_:1}),c(h,{class:"list-call"},{default:i((()=>[c(f,{class:"sl-input",modelValue:v.login.password,"onUpdate:modelValue":l[1]||(l[1]=e=>v.login.password=e),type:"text",maxlength:"32",placeholder:"输入密码",password:"true"},null,8,["modelValue"])])),_:1})])),_:1}),c(h,{class:"button-login","hover-class":"button-hover",onClick:l[2]||(l[2]=e=>{11==v.login.phone.length?v.login.password.length<6?o({icon:"none",title:"密码不正确"}):s.$api.user.accountLogin(v.login).then((e=>{console.log("res: ",e),0===e.code&&(o({title:"登录成功！",icon:"none"}),u({url:"/pages/index/index"}))})):o({icon:"none",title:"手机号不正确"})})},{default:i((()=>[c(x,null,{default:i((()=>[d("登录")])),_:1})])),_:1}),c(h,{class:"agreenment"},{default:i((()=>[c(w,{url:"/pages/login/reg","open-type":"navigate"},{default:i((()=>[d("注册账户")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-bd205a95"]]);export{v as default};

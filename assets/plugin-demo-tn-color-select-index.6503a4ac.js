var e=Object.defineProperty,t=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{b as a,a4 as s,V as o,Y as r,c as l,Z as n,r as i,z as h,y as u,N as c,ax as d,w as f,H as g,a as _,o as b,i as m,h as p,f as v,K as S,u as x,C as y,a2 as H,n as T,g as C,m as $,t as w,e as I,U as k,F,k as V,ay as A,_ as N,D as P,E as R,v as j}from"./index-80b03063.js";import{T as U}from"./popup.cb51da11.js";import{T as E}from"./button.89b66e38.js";import{U as B,C as M}from"./event.5568c9d8.js";import"./index.b621671f.js";import{b as G}from"./index.f7e3486a.js";import{u as D}from"./index.38361e72.js";import{C as z}from"./custom-page.333ee63a.js";import{D as L}from"./demo-container.59d4003d.js";import{u as q}from"./index.e83e3f39.js";import"./overlay.66eb0f69.js";import"./install.171bae2e.js";import"./loading.d4613e36.js";import"./debounce.73e35894.js";import"./clone-deep.2124c060.js";import"./title.e0fd12f0.js";const O=a({modelValue:String,disabled:Boolean,size:{type:String,default:""},validateEvent:{type:Boolean,default:!0}}),Y={[B]:e=>s(e),[M]:e=>s(e)},Z=/^\s+/,K=/\s+$/,W=Math.round,J=Math.min,X=Math.max;class Q{constructor(e){t(this,"_r",0),t(this,"_g",0),t(this,"_b",0),t(this,"_a",1),t(this,"_roundA",0),t(this,"_format",""),t(this,"_ok",!1),t(this,"_matches",(()=>{const e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t=`[\\s|\\(]+(${e})[,|\\s]+(${e})[,|\\s]+(${e})\\s*\\)?`,a=`[\\s|\\(]+(${e})[,|\\s]+(${e})[,|\\s]+(${e})[,|\\s]+(${e})\\s*\\)?`;return{CSS_UNIT:new RegExp(e),rgb:new RegExp(`rgb${t}`),rgba:new RegExp(`rgba${a}`),hsl:new RegExp(`hsl${t}`),hsla:new RegExp(`hsla${a}`),hsv:new RegExp(`hsv${t}`),hsva:new RegExp(`hsva${a}`),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})()),t(this,"_InnerColorsList",{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"}),t(this,"_hexNames",this._flip(this._InnerColorsList));const a=this._inputToRGB(e);this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=W(100*this._a)/100,this._format=a.format,this._r<1&&(this._r=W(this._r)),this._g<1&&(this._g=W(this._g)),this._b<1&&(this._b=W(this._b)),this._ok=a.ok}getBrightness(){const e=this.toRGB();return(299*e.r+587*e.g+114*e.b)/1e3}getFormat(){return this._format}getAlpha(){return this._a}toHsv(){const e=this._rgbToHsv(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}}toHsvString(){const e=this._rgbToHsv(this._r,this._g,this._b),t=W(360*e.h),a=W(100*e.s),s=W(100*e.v);return 1===this._a?`hsv(${t}, ${a}, ${s})`:`hsva(${t}, ${a}, ${s}, ${this._roundA})`}toHsl(){const e=this._rgbToHsl(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}}toHslString(){const e=this._rgbToHsl(this._r,this._g,this._b),t=W(360*e.h),a=W(100*e.s),s=W(100*e.l);return 1===this._a?`hsl(${t}, ${a}, ${s})`:`hsla(${t}, ${a}, ${s}, ${this._roundA})`}toHex(e=!0){return this._rgbToHex(this._r,this._g,this._b,e)}toHexString(e=!0){return`#${this.toHex(e)}`}toHex8(e=!0){return this._rgbaToHex(this._r,this._g,this._b,this._a,e)}toHex8String(e=!0){return`#${this.toHex8(e)}`}toName(){return 0===this._a?"transparent":this._a<1?"":this._hexNames[this._rgbToHex(this._r,this._g,this._b,!0)]||""}toRGB(){return{r:W(this._r),g:W(this._g),b:W(this._b),a:this._a}}toRGBString(){return 1===this._a?`rgb(${W(this._r)}, ${W(this._g)}, ${W(this._b)})`:`rgba(${W(this._r)}, ${W(this._g)}, ${W(this._b)}, ${this._roundA})`}toPercentageRgb(){return{r:`${W(100*this._bound01(this._r,255))}%`,g:`${W(100*this._bound01(this._r,255))}%`,b:`${W(100*this._bound01(this._r,255))}%`,a:this._a}}toPercentageRgbString(){return 1===this._a?`rgb(${W(100*this._bound01(this._r,255))}%, ${W(100*this._bound01(this._g,255))}%, ${W(100*this._bound01(this._b,255))}%)`:`rgba(${W(100*this._bound01(this._r,255))}%, ${W(100*this._bound01(this._g,255))}%, ${W(100*this._bound01(this._b,255))}%, ${this._roundA})`}toString(e){const t=!!e;e=e||this._format;let a="";const s=this._a<1&&this._a>0;return t||!s||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(a=this.toRGBString()),"prgb"===e&&(a=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(a=this.toHexString(!1)),"hex3"===e&&(a=this.toHexString(!0)),"hex4"===e&&(a=this.toHex8String(!0)),"hex8"===e&&(a=this.toHex8String(!1)),"name"===e&&(a=this.toName()),"hsl"===e&&(a=this.toHslString()),"hsv"===e&&(a=this.toHsvString()),a||this.toHexString(!1)):"name"===e&&0===this._a?this.toName():this.toRGBString()}_inputToRGB(e){let t={r:0,g:0,b:0},a=1,s="",o="",r="",l="",n=!1;if("string"==typeof e){const t=this._stringInputToObject(e);t&&(e=t)}return"object"==typeof e&&(this._isValidCSSUnit(e.r)&&this._isValidCSSUnit(e.g)&&this._isValidCSSUnit(e.b)?(t=this._rgbToRGB(e.r,e.g,e.b),n=!0,l="%"===String(e.r).slice(0)?"prgb":"rgb"):this._isValidCSSUnit(e.h)&&this._isValidCSSUnit(e.s)&&this._isValidCSSUnit(e.v)?(s=this._convertToPercentage(e.s),o=this._convertToPercentage(e.v),t=this._hsvToRGB(e.h,s,o),n=!0,l="hsv"):this._isValidCSSUnit(e.h)&&this._isValidCSSUnit(e.s)&&this._isValidCSSUnit(e.l)&&(s=this._convertToPercentage(e.s),r=this._convertToPercentage(e.l),t=this._hslToRGB(e.h,s,r),n=!0,l="hsl"),e.hasOwnProperty("a")&&(a=e.a)),a=this._boundAlpha(a),{r:J(255,X(t.r,0)),g:J(255,X(t.g,0)),b:J(255,X(t.b,0)),a:a,ok:n,format:e.format||l}}_stringInputToObject(e){e=e.replace(Z,"").replace(K,"").toLocaleLowerCase();let t=!1;if(Object.keys(this._InnerColorsList).includes(e))e=this._InnerColorsList[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,format:"name"};let a=null;return(a=this._matches.rgb.exec(e))?{r:Number(a[1]),g:Number(a[2]),b:Number(a[3])}:(a=this._matches.rgba.exec(e))?{r:Number(a[1]),g:Number(a[2]),b:Number(a[3]),a:Number(a[4])}:(a=this._matches.hsl.exec(e))?{h:Number(a[1]),s:Number(a[2]),l:Number(a[3])}:(a=this._matches.hsla.exec(e))?{h:Number(a[1]),s:Number(a[2]),l:Number(a[3]),a:Number(a[4])}:(a=this._matches.hsv.exec(e))?{h:Number(a[1]),s:Number(a[2]),v:Number(a[3])}:(a=this._matches.hsva.exec(e))?{h:Number(a[1]),s:Number(a[2]),v:Number(a[3]),a:Number(a[4])}:(a=this._matches.hex8.exec(e))?{r:this._parseIntFromHex(a[1]),g:this._parseIntFromHex(a[2]),b:this._parseIntFromHex(a[3]),a:this._convertHexToDecimal(a[4]),format:t?"name":"hex8"}:(a=this._matches.hex6.exec(e))?{r:this._parseIntFromHex(a[1]),g:this._parseIntFromHex(a[2]),b:this._parseIntFromHex(a[3]),format:t?"name":"hex"}:(a=this._matches.hex4.exec(e))?{r:this._parseIntFromHex(`${a[1]}${a[1]}`),g:this._parseIntFromHex(`${a[2]}${a[2]}`),b:this._parseIntFromHex(`${a[3]}${a[3]}`),a:this._convertHexToDecimal(`${a[4]}${a[4]}`),format:t?"name":"hex8"}:!!(a=this._matches.hex6.exec(e))&&{r:this._parseIntFromHex(`${a[1]}${a[1]}`),g:this._parseIntFromHex(`${a[2]}${a[2]}`),b:this._parseIntFromHex(`${a[3]}${a[3]}`),format:t?"name":"hex"}}_rgbToRGB(e,t,a){return{r:255*this._bound01(e,255),g:255*this._bound01(t,255),b:255*this._bound01(a,255)}}_hsvToRGB(e,t,a){e=6*this._bound01(e,360),t=this._bound01(t,100),a=this._bound01(a,100);const s=Math.floor(e),o=e-s,r=a*(1-t),l=a*(1-o*t),n=a*(1-(1-o)*t),i=s%6;return{r:255*[a,l,r,r,n,a][i],g:255*[n,a,a,l,r,r][i],b:255*[r,r,n,a,a,l][i]}}_rgbToHsv(e,t,a){e=this._bound01(e,255),t=this._bound01(t,255),a=this._bound01(a,255);const s=X(e,t,a),o=J(e,t,a);let r=0,l=0,n=s;const i=s-o;if(l=0===s?0:i/s,s===o)r=0;else{switch(s){case e:r=(t-a)/i+(t<a?6:0);break;case t:r=(a-e)/i+2;break;case a:r=(e-t)/i+4}r/=6}return{h:r,s:l,v:n}}_hslToRGB(e,t,a){let s,o,r;e=this._bound01(e,360),t=this._bound01(t,360),a=this._bound01(a,360);const l=(e,t,a)=>(a<0&&(a+=1),a<1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e);if(0===t)s=o=r=a;else{const n=a<.5?3*a:a+t-a*t,i=2*a-n;s=l(i,n,e+1/3),o=l(i,n,e),r=l(i,n,e-1/3)}return{r:255*s,g:255*o,b:255*r}}_rgbToHsl(e,t,a){e=this._bound01(e,255),t=this._bound01(t,255),a=this._bound01(a,255);const s=X(e,t,a),o=J(e,t,a);let r=0,l=0,n=(s+o)/2;if(s===o)r=l=0;else{const i=s-o;switch(l=n>.5?i/(2-s-o):i/(s+o),s){case e:r=(t-a)/i+(t<a?6:0);break;case t:r=(a-e)/i+2;break;case a:r=(e-t)/i+4}r/=6}return{h:r,s:l,l:n}}_rgbToHex(e,t,a,s){const o=[this._pad2(W(e).toString(16)),this._pad2(W(t).toString(16)),this._pad2(W(a).toString(16))];return s&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}_rgbaToHex(e,t,a,s,o){const r=[this._pad2(W(e).toString(16)),this._pad2(W(t).toString(16)),this._pad2(W(a).toString(16)),this._pad2(this._convertDecimalToHex(s))];return o&&r[0].charAt(0)===r[0].charAt(1)&&r[1].charAt(0)===r[1].charAt(1)&&r[2].charAt(0)===r[2].charAt(1)&&r[3].charAt(0)===r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}_convertToPercentage(e){return"string"==typeof e&&(e=Number.parseFloat(e)),e<=1&&(e=100*e+"%"),e}_isValidCSSUnit(e){return"number"==typeof e&&(e=String(e)),!!this._matches.CSS_UNIT.exec(e)}_parseIntFromHex(e){return Number.parseInt(e,16)}_bound01(e,t){this._isOnePointZero(e)&&(e="100%");const a=this._isPercentage(e);return e=J(t,X(0,Number.parseFloat(e))),a&&(e=Number.parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseInt(String(t))}_boundAlpha(e){return e=Number.parseFloat(String(e)),(isNaN(e)||e<0||e>1)&&(e=1),e}_isOnePointZero(e){return"string"==typeof e&&e.includes(".")&&1===Number.parseFloat(e)}_isPercentage(e){return"string"==typeof e&&e.includes("%")}_pad2(e){return 1===e.length?`0${e}`:e}_convertDecimalToHex(e){return Math.round(255*Number.parseFloat(String(e))).toString(16)}_convertHexToDecimal(e){return this._parseIntFromHex(String(e))/255}_flip(e){const t={};for(const a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}}const ee=(e,t,a,s)=>{const{alphaContainerId:o,hueContainerId:r,saturationCanvasId:l,saturationCanvasCtx:n,alphaContainerRectInfo:f,hueContainerRectInfo:g,saturationCanvasRectInfo:_,alphaSliderPositionInfo:b,hueSliderPositionInfo:m,saturationSliderPositionInfo:p,getContainerCanvasRectInfo:v}=(()=>{const e=u(),{getSelectorNodeInfo:t}=D(e),a=`tcsa-${c()}`,s=`tcsh-${c()}`,o=`tcssc-${c()}`,r=i(),l=h({x:0,y:0}),n=h({x:0,y:0}),f=h({x:0,y:0}),g=h({width:0,height:0,left:0,top:0}),_=h({width:0,height:0,left:0,top:0}),b=h({width:0,height:0,left:0,top:0});let m=0,p=!1;const v=async()=>{if(!p)try{const l=await t(`#${a}`),n=await t(`#${s}`),i=await t(`#${o}`);g.width=l.width||0,g.height=l.height||0,g.left=l.left||0,g.top=l.top||0,_.width=n.width||0,_.height=n.height||0,_.left=n.left||0,_.top=n.top||0,b.width=i.width||0,b.height=i.height||0,b.left=i.left||0,b.top=i.top||0,r.value=d(o,e),m=0,p=!0}catch(l){if(m>10)return m=0,void(p=!1);setTimeout((()=>{v(),m++}),150)}};return{alphaContainerId:a,hueContainerId:s,saturationCanvasId:o,saturationCanvasCtx:r,alphaContainerRectInfo:g,hueContainerRectInfo:_,saturationCanvasRectInfo:b,alphaSliderPositionInfo:l,hueSliderPositionInfo:n,saturationSliderPositionInfo:f,getContainerCanvasRectInfo:v}})();let S=!1;const x=e=>{const t=I(e);if(!t)return;const{pageY:s}=t,{top:o,height:r}=f,l=k(s,o,r);b.y=l,a.value=1-l/r};let y=!1;const H=e=>{const t=I(e);if(!t)return;w(),a.value=1,b.y=0;const{pageY:o}=t,{top:r,height:l}=g,n=k(o,r,l);m.y=n,s.value=n/l*360};let T=!1;const C=a=>{const s=I(a);if(!s)return;const{pageX:o,pageY:r}=s,{left:l,top:n,width:i,height:h}=_,u=F(o,l,i),c=k(r,n,h);p.x=u,p.y=c,e.value=u/i,t.value=1-c/h},$=()=>{if(!n.value)return;n.value.clearRect(0,0,_.width,_.height),n.value.fillStyle=new Q(`hsv(${s.value}, 1, 1)`).toHexString(!1),n.value.fillRect(0,0,_.width,_.height);const e=n.value.createLinearGradient(0,0,_.width,0);e.addColorStop(0,"#FFF"),e.addColorStop(1,"transparent"),n.value.setFillStyle(e),n.value.fillRect(0,0,_.width,_.height);const t=n.value.createLinearGradient(0,0,0,_.height);t.addColorStop(0,"transparent"),t.addColorStop(1,"#000"),n.value.setFillStyle(t),n.value.fillRect(0,0,_.width,_.height),n.value.draw(!1)},w=()=>{p.x=_.width,p.y=0,e.value=1,t.value=1,$()},I=e=>{const t=(e.changedTouches||e.touches)[0];return t||null},k=(e,t,a)=>{let s=e-t;return s<0&&(s=0),s>a&&(s=a),s},F=(e,t,a)=>{let s=e-t;return s<0&&(s=0),s>a&&(s=a),s};return{alphaContainerId:o,hueContainerId:r,saturationCanvasId:l,alphaSliderPositionInfo:b,hueSliderPositionInfo:m,saturationSliderPositionInfo:p,alphaTouchStartHandle:e=>{x(e),S=!0},alphaTouchMovingHandle:e=>{S&&x(e)},alphaTouchEndHandle:()=>{S=!1},hueTouchStartHandle:e=>{H(e),y=!0},hueTouchMovingHandle:e=>{y&&H(e)},hueTouchEndHandle:()=>{y=!1},saturationTouchStartHandle:e=>{C(e),T=!0},saturationTouchMovingHandle:e=>{T&&C(e)},saturationTouchEndHandle:()=>{T=!1},getContainerCanvasRectInfo:v,initSliderPosition:()=>{b.x=0,b.y=0,m.x=0,m.y=0,p.x=_.width,p.y=0,1!=a.value&&(b.y=f.height*(1-a.value)),0!=s.value&&(m.y=g.height*(s.value/360)),1!=t.value&&(p.y=_.height*(1-t.value)),1!=e.value&&(p.x=_.width*e.value),$()}}},te=(e,t)=>{const{formItem:a}=G(),s=i(null),o=i(1),r=i(1),n=i(1),h=i(0);f((()=>[o,r,n,h]),(()=>{s.value=new Q(`hsva(${h.value}, ${o.value}, ${r.value}, ${n.value})`)}),{immediate:!0,deep:!0});const u=i("hex"),c=["hex","rgb","hsl","hsv"];let d=!1;const _=l((()=>{var e;return((null==(e=s.value)?void 0:e.toHexString(!1))||"").toLocaleLowerCase()})),b=l((()=>e=>{const t=_.value;return t||e})),m=i(e.modelValue||"#FF0000"),p=l((()=>{var e,t,a,o,r;let l="";if(_.value)switch(u.value){case"hex":l=(1===n.value?null==(e=s.value)?void 0:e.toHexString(!1):null==(t=s.value)?void 0:t.toHex8String(!1))||"",l=l.toLocaleUpperCase();break;case"rgb":l=(null==(a=s.value)?void 0:a.toRGBString())||"";break;case"hsl":l=(null==(o=s.value)?void 0:o.toHslString())||"";break;case"hsv":l=(null==(r=s.value)?void 0:r.toHsvString())||""}return l})),v=l((()=>r.value<.5||n.value<.5)),S=i();f((()=>v.value),(e=>{S.value||(S.value=e)}));const{alphaContainerId:x,hueContainerId:y,saturationCanvasId:H,alphaSliderPositionInfo:T,hueSliderPositionInfo:C,saturationSliderPositionInfo:$,alphaTouchStartHandle:w,alphaTouchMovingHandle:I,alphaTouchEndHandle:k,hueTouchStartHandle:F,hueTouchMovingHandle:V,hueTouchEndHandle:A,saturationTouchStartHandle:N,saturationTouchMovingHandle:P,saturationTouchEndHandle:R,getContainerCanvasRectInfo:j,initSliderPosition:U}=ee(o,r,n,h),E=i(!1),D=()=>{E.value=!1};return f((()=>e.modelValue),(()=>{d?d=!1:(()=>{try{const a=new Q(e.modelValue||"#FF0000"),s=a.toHsv();h.value=s.h,o.value=s.s,r.value=s.v,n.value=s.a,u.value=a.getFormat(),u.value.includes("hex")&&(u.value="hex"),g((()=>{m.value=p.value,S.value=v.value})),e.modelValue||g((()=>{setTimeout((()=>{d=!0,t(B,p.value)}),50)}))}catch(a){console.error(a)}})()}),{immediate:!0}),{alphaContainerId:x,hueContainerId:y,saturationCanvasId:H,alpha:n,colorValue:p,previewColor:m,currentSelectColor:_,currentSelectColorWithDefault:b,previewDarkBg:S,useDarkBg:v,alphaSliderPositionInfo:T,hueSliderPositionInfo:C,saturationSliderPositionInfo:$,showSelectColorPicker:E,openSelectColorPicker:async()=>{e.disabled||(E.value=!0,setTimeout((()=>{g((async()=>{await j(),U()}))}),500))},cancelHandle:()=>{D()},confirmHandle:()=>{var s;d=!0,t(B,p.value),t(M,p.value),e.validateEvent&&(null==(s=null==a?void 0:a.validate)||s.call(a,"change").catch((e=>{}))),m.value=p.value,S.value=v.value,D()},alphaTouchStartHandle:w,alphaTouchMovingHandle:I,alphaTouchEndHandle:k,hueTouchStartHandle:F,hueTouchMovingHandle:V,hueTouchEndHandle:A,saturationTouchStartHandle:N,saturationTouchMovingHandle:P,saturationTouchEndHandle:R,switchColorFormat:()=>{const e=c.indexOf(u.value),t=e+1>=c.length?0:e+1;u.value=c[t]}}},ae=N(_({__name:"index",props:O,emits:Y,setup(e,{emit:t}){const a=e,{alphaContainerId:s,hueContainerId:i,saturationCanvasId:h,colorValue:u,previewColor:c,currentSelectColor:d,currentSelectColorWithDefault:f,previewDarkBg:g,useDarkBg:_,alphaSliderPositionInfo:N,hueSliderPositionInfo:P,saturationSliderPositionInfo:R,showSelectColorPicker:j,openSelectColorPicker:B,cancelHandle:M,confirmHandle:G,switchColorFormat:D,alphaTouchStartHandle:z,alphaTouchMovingHandle:L,alphaTouchEndHandle:q,hueTouchStartHandle:O,hueTouchMovingHandle:Y,hueTouchEndHandle:Z,saturationTouchStartHandle:K,saturationTouchMovingHandle:W,saturationTouchEndHandle:J}=te(a,t),{ns:X,colorSelectClass:Q,colorSelectStyle:ee}=(e=>{const t=o("color-select"),{sizeType:a}=r(e.size),s=l((()=>{const s=[t.b(),t.is("disabled",e.disabled)];return"inner"===a.value&&s.push(t.m(e.size)),s.join(" ")})),i=l((()=>{const t={};return"custom"===a.value&&(t.width=n(e.size),t.height=t.width,t.fontSize=`calc(${t.width} * (2 / 3))`),t}));return{ns:t,colorSelectClass:s,colorSelectStyle:i}})(a);return(e,t)=>{const a=V,o=A;return b(),m(F,null,[p(a,{class:S([x(Q)]),style:y(x(ee)),onClick:T(x(B),["stop"])},{default:v((()=>[p(a,{class:S([x(X).em("color-preview","wrapper")])},{default:v((()=>[p(a,{class:S([x(X).e("color-preview")]),style:y({backgroundColor:x(c),color:x(g)?"#fff":"#000"})},{default:v((()=>[p(a,{class:S([x(X).e("operation-icon")])},{default:v((()=>[p(H,{name:"theme"})])),_:1},8,["class"])])),_:1},8,["class","style"])])),_:1},8,["class"])])),_:1},8,["class","style","onClick"]),p(U,{modelValue:x(j),"onUpdate:modelValue":t[0]||(t[0]=e=>k(j)?j.value=e:null),"open-direction":"center",width:"90%","overlay-closeable":!1},{default:v((()=>[p(a,{class:S([x(X).e("color-picker-container")])},{default:v((()=>[p(a,{class:S([x(X).e("color-picker")])},{default:v((()=>[C(" header 头部 "),p(a,{class:S([x(X).em("color-picker","header")]),style:y({backgroundColor:x(d)}),onClick:T(x(D),["stop"])},{default:v((()=>[p(a,{class:"brightness-icon",style:y({filter:`invert(${x(_)?1:0})`})},null,8,["style"]),p(a,{class:"color-value",style:y({color:x(_)?"#fff":"#000"})},{default:v((()=>[$(w(x(u)),1)])),_:1},8,["style"])])),_:1},8,["class","style","onClick"]),C(" 选择滑动区 "),x(j)?(b(),I(a,{key:0,class:S([x(X).em("color-picker","select-operation")])},{default:v((()=>[C(" saturation "),p(a,{class:"saturation-box",onTouchstart:T(x(K),["stop","prevent"]),onTouchmove:x(W),onTouchend:x(J)},{default:v((()=>[p(a,{class:"saturation-slider",style:y({left:`${x(R).x}px`,top:`${x(R).y}px`})},null,8,["style"]),p(o,{id:x(h),"canvas-id":x(h),class:"saturation-canvas"},null,8,["id","canvas-id"])])),_:1},8,["onTouchstart","onTouchmove","onTouchend"]),C(" 透明度、色调 "),p(a,{class:"strips"},{default:v((()=>[C(" 透明度 "),p(a,{id:x(s),class:"strip alpha",onTouchstart:T(x(z),["stop","prevent"]),onTouchmove:x(L),onTouchend:x(q)},{default:v((()=>[p(a,{class:"alpha-preview",style:y({background:`linear-gradient(to bottom, ${x(f)("#FF0000")} 0%, transparent 100%)`})},null,8,["style"]),p(a,{class:"slider",style:y({top:`${x(N).y}px`})},null,8,["style"])])),_:1},8,["id","onTouchstart","onTouchmove","onTouchend"]),C(" 色调 "),p(a,{id:x(i),class:"strip hue",onTouchstart:T(x(O),["stop","prevent"]),onTouchmove:x(Y),onTouchend:x(Z)},{default:v((()=>[p(a,{class:"slider",style:y({top:`${x(P).y}px`})},null,8,["style"])])),_:1},8,["id","onTouchstart","onTouchmove","onTouchend"])])),_:1})])),_:1},8,["class"])):C("v-if",!0)])),_:1},8,["class"]),p(a,{class:S([x(X).e("color-picker-operation")])},{default:v((()=>[p(a,{class:"button"},{default:v((()=>[p(E,{type:"danger",size:"lg",onClick:x(M)},{default:v((()=>[$(" 取消 ")])),_:1},8,["onClick"])])),_:1}),p(a,{class:"button"},{default:v((()=>[p(E,{type:"primary",size:"lg",onClick:x(G)},{default:v((()=>[$(" 确认 ")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["class"])])),_:1},8,["class"])])),_:1},8,["modelValue"])],64)}}}),[["__scopeId","data-v-580f4393"]]),se=N(_({__name:"index",setup(e){P((()=>({}))),R((()=>({})));const{isDemoH5Page:t}=q(),a=i(""),s=i("#01beff");return(e,o)=>{const r=j,l=V;return b(),I(z,{title:"颜色选择器","is-h5-demo-page":x(t)},{default:v((()=>[p(L,{title:"基础使用"},{default:v((()=>[p(l,{class:"tn-color-select-container"},{default:v((()=>[p(l,{class:"tn-color-select-item"},{default:v((()=>[$(" 当前选中的颜色: "),p(r,{style:y({color:a.value})},{default:v((()=>[$(w(a.value),1)])),_:1},8,["style"])])),_:1}),p(l,{class:"tn-color-select-item"},{default:v((()=>[p(ae,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),p(L,{title:"带默认值"},{default:v((()=>[p(l,{class:"tn-color-select-container"},{default:v((()=>[p(l,{class:"tn-color-select-item"},{default:v((()=>[p(ae,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=e=>s.value=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),p(L,{title:"禁止操作"},{default:v((()=>[p(l,{class:"tn-color-select-container"},{default:v((()=>[p(l,{class:"tn-color-select-item"},{default:v((()=>[p(ae,{modelValue:s.value,"onUpdate:modelValue":o[2]||(o[2]=e=>s.value=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),p(L,{title:"修改尺寸"},{default:v((()=>[p(l,{class:"tn-color-select-container"},{default:v((()=>[p(l,{class:"tn-color-select-item multi"},{default:v((()=>[p(l,{class:"select"},{default:v((()=>[p(ae,{modelValue:a.value,"onUpdate:modelValue":o[3]||(o[3]=e=>a.value=e),size:"sm"},null,8,["modelValue"])])),_:1}),p(l,{class:"select"},{default:v((()=>[p(ae,{modelValue:a.value,"onUpdate:modelValue":o[4]||(o[4]=e=>a.value=e)},null,8,["modelValue"])])),_:1}),p(l,{class:"select"},{default:v((()=>[p(ae,{modelValue:a.value,"onUpdate:modelValue":o[5]||(o[5]=e=>a.value=e),size:"lg"},null,8,["modelValue"])])),_:1}),p(l,{class:"select"},{default:v((()=>[p(ae,{modelValue:a.value,"onUpdate:modelValue":o[6]||(o[6]=e=>a.value=e),size:"xl"},null,8,["modelValue"])])),_:1}),p(l,{class:"select"},{default:v((()=>[p(ae,{modelValue:a.value,"onUpdate:modelValue":o[7]||(o[7]=e=>a.value=e),size:"120"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-5e4b29d8"]]);export{se as default};

import{b as e,V as t,W as a,X as s,c as n,Z as o,r as l,w as d,L as c,H as u,a as i,o as r,e as p,f as m,h as f,a1 as v,K as _,u as g,C as x,J as w,k as C,_ as h,D as b,E as y,n as k,m as I,t as j,i as z,j as S,F as D,l as B,g as G,s as $}from"./index-80b03063.js";import{T as E}from"./overlay.66eb0f69.js";import{b as H}from"./index.b621671f.js";import{C as K}from"./custom-page.333ee63a.js";import{u as R}from"./index.e83e3f39.js";const T=e({open:{type:Boolean,default:!1},bgColor:{type:String,default:"#fff"},height:String,overlay:{type:Boolean,default:!0},borderRadius:{type:Boolean,default:!0},menuContentGap:String,zIndex:{type:Number,default:999}}),F=h(i({__name:"index",props:T,emits:{"update:open":e=>H(e),close:()=>!0},setup(e,{emit:i}){const h=e,{ns:b,contentClass:y,contentStyle:k}=(e=>{const l=t("dropdown"),[d,c]=a(s(e,"bgColor"),"bg");return{ns:l,contentClass:n((()=>{const e=[];return d.value&&e.push(d.value),e.join(" ")})),contentStyle:n((()=>{const t={};return c.value&&(t.backgroundColor=c.value),e.height&&(t.height=o(e.height)),e.menuContentGap&&(t.top=`calc(100% + ${o(e.menuContentGap)})`),t}))}})(h),{firstInit:I,openContent:j,closeDropdown:z}=((e,t)=>{const a=l(!0),s=l(!1);return d((()=>e.open),(e=>{s.value=e}),{immediate:!0}),c((()=>{u((()=>{a.value=!1}))})),{firstInit:a,openContent:s,closeDropdown:()=>{t("update:open",!1),void 0===e.open&&(s.value=!1),t("close")}}})(h,i);return(e,t)=>{const a=w,s=C;return r(),p(s,{class:_([g(b).b(),g(b).is("open",g(j))]),style:x({zIndex:e.zIndex})},{default:m((()=>[f(s,{class:_([g(b).e("menu")])},{default:m((()=>[v(e.$slots,"menu",{},void 0,!0),f(s,{class:_([g(b).e("content"),g(y),g(b).is("round",e.borderRadius),g(b).is("first-init",g(I))]),style:x(g(k))},{default:m((()=>[f(a,{class:_([g(b).em("content","scroll-view")]),"scroll-y":""},{default:m((()=>[v(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])])),_:3},8,["class","style"])])),_:3},8,["class"]),f(E,{show:e.overlay&&g(j),duration:250,"z-index":e.zIndex-1,onClick:g(z)},null,8,["show","z-index","onClick"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-235ed77a"]]),J=h(i({__name:"index",setup(e){b((()=>({}))),y((()=>({})));const{isDemoH5Page:t}=R(),a=l(!1),s=l(-1),o=l("up"),d=l([{title:"综合推荐",condition:"综合推荐",select:!0},{title:"评论",condition:"评论数从高到低",select:!1}]),c=n((()=>{var e;return(null==(e=d.value.find((e=>e.select)))?void 0:e.title)||""})),u=e=>{switch(s.value=e,e){case 0:a.value=!0;break;case 1:$({icon:"none",title:"按照销量排序"});break;case 2:"up"===o.value?(o.value="down",$({icon:"none",title:"按照价格降序排序"})):(o.value="up",$({icon:"none",title:"按照价格升序排序"}))}};return(e,n)=>{const l=C,i=B("TnIcon");return r(),p(K,{title:"下拉框",padding:"0","is-h5-demo-page":g(t)},{default:m((()=>[f(l,{class:"dropdown-container"},{default:m((()=>[f(F,{open:a.value,"onUpdate:open":n[3]||(n[3]=e=>a.value=e)},{menu:m((()=>[f(l,{class:"dropdown-menu"},{default:m((()=>[f(l,{class:"dropdown-menu-item",onClick:n[0]||(n[0]=k((e=>u(0)),["stop"]))},{default:m((()=>[f(l,{class:"text"},{default:m((()=>[I(j(g(c)),1)])),_:1}),f(l,{class:_(["icon",[{active:a.value}]])},{default:m((()=>[f(i,{name:"down-triangle"})])),_:1},8,["class"])])),_:1}),f(l,{class:_(["dropdown-menu-item",[{"tn-red_text":1===s.value}]]),onClick:n[1]||(n[1]=k((e=>u(1)),["stop"]))},{default:m((()=>[I(" 销量 ")])),_:1},8,["class"]),f(l,{class:"dropdown-menu-item",onClick:n[2]||(n[2]=k((e=>u(2)),["stop"]))},{default:m((()=>[f(l,{class:"text"},{default:m((()=>[I("价格")])),_:1}),f(l,{class:"double-icon"},{default:m((()=>[f(l,{class:_(["top",[{"tn-red_text":"up"===o.value}]])},{default:m((()=>[f(i,{name:"up-triangle"})])),_:1},8,["class"]),f(l,{class:_(["bottom",[{"tn-red_text":"down"===o.value}]])},{default:m((()=>[f(i,{name:"down-triangle"})])),_:1},8,["class"])])),_:1})])),_:1})])),_:1})])),default:m((()=>[f(l,{class:"dropdown-content"},{default:m((()=>[f(l,{class:"recommend-list"},{default:m((()=>[(r(!0),z(D,null,S(d.value,((e,t)=>(r(),p(l,{key:t,class:"recommend-list-item",onClick:k((e=>(e=>{d.value.forEach(((t,a)=>{t.select=e===a})),a.value=!1})(t)),["stop"])},{default:m((()=>[e.select?(r(),p(l,{key:0,class:"item-select-icon tn-red_text"},{default:m((()=>[f(i,{name:"check"})])),_:1})):G("v-if",!0),f(l,{class:"item-text"},{default:m((()=>[I(j(e.condition),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["open"])])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-1c65bbbc"]]);export{J as default};

import{b as l,d as e,a3 as a,V as t,r as s,w as o,c as i,W as c,H as n,a as r,o as u,e as v,f as d,i as g,j as m,F as C,K as p,u as f,k as y,C as B,n as _,m as h,t as b,_ as j,D as x,E as k,h as V,v as S}from"./index-80b03063.js";import{U as D,C as H}from"./event.5568c9d8.js";import{i as w}from"./index.b621671f.js";import{b as E}from"./index.f7e3486a.js";import{C as I}from"./custom-page.333ee63a.js";import{D as A}from"./demo-container.59d4003d.js";import{u as T}from"./index.e83e3f39.js";import"./install.171bae2e.js";import"./index.38361e72.js";import"./debounce.73e35894.js";import"./clone-deep.2124c060.js";import"./title.e0fd12f0.js";const U=l({modelValue:{type:e(Array),default:()=>[]},items:{type:e(Array),default:()=>[]},multiple:{type:Boolean,default:!0},cancelable:{type:Boolean,default:!0},inactiveBgColor:String,activeBgColor:String,inactiveColor:String,activeColor:String,validateEvent:{type:Boolean,default:!0}}),F=(l,e)=>{const a=t("select-tags"),n=s([]);o((()=>l.items),(()=>{var e;(null==(e=null==l?void 0:l.items)?void 0:e.length)&&(n.value=null==l?void 0:l.items.map((e=>{const a=s(w(null==e?void 0:e.activeBgColor,null==l?void 0:l.activeBgColor,"tn-type-primary")),t=s(w(null==e?void 0:e.inactiveBgColor,null==l?void 0:l.inactiveBgColor,"tn-gray-light")),o=s(w(null==e?void 0:e.activeColor,null==l?void 0:l.activeColor)),i=s(w(null==e?void 0:e.inactiveColor,null==l?void 0:l.inactiveColor)),[n,r]=c(a,"bg"),[u,v]=c(t,"bg"),[d,g]=c(o,"text"),[m,C]=c(i,"text");return{activeBgColor:{class:n.value,style:r.value},inactiveBgColor:{class:u.value,style:v.value},activeColor:{class:d.value,style:g.value},inactiveColor:{class:m.value,style:C.value}}})))}),{immediate:!0,deep:!0});return{ns:a,tagClass:i((()=>(l,a)=>{const t=[],s=n.value[l];return e.value.includes(a.value)?(s.activeBgColor.class&&t.push(s.activeBgColor.class),s.activeColor.class&&t.push(s.activeColor.class)):(s.inactiveBgColor.class&&t.push(s.inactiveBgColor.class),s.inactiveColor.class&&t.push(s.inactiveColor.class)),t.join(" ")})),tagStyle:i((()=>(l,a)=>{const t={},s=n.value[l];return e.value.includes(a.value)?(s.activeBgColor.style&&(t.backgroundColor=s.activeBgColor.style),s.activeColor.style&&(t.color=s.activeColor.style)):(s.inactiveBgColor.style&&(t.backgroundColor=s.inactiveBgColor.style),s.inactiveColor.style&&(t.color=s.inactiveColor.style)),t}))}},K=j(r({__name:"index",props:U,emits:{[D]:l=>a(l),[H]:l=>a(l),click:(l,e,a)=>!0},setup(l,{emit:e}){const a=l,{selectTagsValue:t,tagClickHandle:i}=((l,e)=>{const{formItem:a}=E(),t=s(l.modelValue);return o((()=>l.modelValue),(l=>{t.value=l})),{selectTagsValue:t,tagClickHandle:(s,o)=>{var i;const c=[...t.value],r=c.indexOf(o.value);let u=!0;r>-1?l.cancelable&&(u=!1,c.splice(r,1)):l.multiple?c.push(o.value):c.splice(0,c.length,o.value),void 0!==(null==l?void 0:l.modelValue)&&(null==(i=null==l?void 0:l.modelValue)?void 0:i.length)||(t.value=c),e(D,c),e("click",s,u,o),n((()=>{var t;e(H,c),l.validateEvent&&(null==(t=null==a?void 0:a.validate)||t.call(a,"change").catch((l=>{})))}))}}})(a,e),{ns:c,tagClass:r,tagStyle:j}=F(a,t);return(l,e)=>{const a=y;return u(),v(a,{class:p([f(c).b()])},{default:d((()=>[(u(!0),g(C,null,m(l.items,((l,e)=>(u(),v(a,{key:e,class:p([f(c).e("tag-item"),f(r)(e,l)]),style:B(f(j)(e,l)),onClick:_((a=>f(i)(e,l)),["stop"])},{default:d((()=>[h(b(l.label),1)])),_:2},1032,["class","style","onClick"])))),128))])),_:1},8,["class"])}}}),[["__scopeId","data-v-13a27879"]]),L=j(r({__name:"index",setup(l){x((()=>({}))),k((()=>({})));const{isDemoH5Page:e}=T(),a=[{value:1,label:"# 标签一",activeBgColor:"tn-blue-light"},{value:2,label:"# 标签二",activeBgColor:"tn-red-light"},{value:3,label:"# 标签三",activeBgColor:"tn-orange-light"},{value:4,label:"# 标签四",activeBgColor:"tn-orangered-light"},{value:5,label:"# 标签五",activeBgColor:"tn-orangeyellow-light"},{value:6,label:"# 标签六",activeBgColor:"tn-green-light"},{value:7,label:"# 标签七",activeBgColor:"tn-cyan-light"}],t=s([]);return(l,s)=>{const o=S,i=y;return u(),v(I,{title:"多标签选择","is-h5-demo-page":f(e)},{default:d((()=>[V(A,{title:"基础使用"},{default:d((()=>[V(i,{class:"select-tags-container"},{default:d((()=>[V(i,{class:"select-tags-item"},{default:d((()=>[V(o,{class:"tn-gray_text"},{default:d((()=>[h("当前选中的标签的值:")])),_:1}),V(o,null,{default:d((()=>[h(b(t.value.join(",")),1)])),_:1})])),_:1}),V(i,{class:"select-tags-item"},{default:d((()=>[V(K,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=l=>t.value=l),items:a},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),V(A,{title:"只能选择一个标签"},{default:d((()=>[V(i,{class:"select-tags-container"},{default:d((()=>[V(i,{class:"select-tags-item"},{default:d((()=>[V(K,{items:a,multiple:!1})])),_:1})])),_:1})])),_:1}),V(A,{title:"只能选择一个标签且不能取消选择"},{default:d((()=>[V(i,{class:"select-tags-container"},{default:d((()=>[V(i,{class:"select-tags-item"},{default:d((()=>[V(K,{items:a,multiple:!1,cancelable:!1})])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-ec316e3c"]]);export{L as default};

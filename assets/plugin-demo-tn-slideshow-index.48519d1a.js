import{b as a,d as e,V as t,c as s,Z as n,r as i,w as r,a as l,o,e as u,f as c,i as d,j as m,F as g,K as p,u as h,C as v,k as f,n as x,p as j,_ as y,D as k,E as _,h as C}from"./index-80b03063.js";import{i as w}from"./is-number.acae358a.js";import{f as b}from"./index.b621671f.js";import{C as I}from"./custom-page.333ee63a.js";import{u as S}from"./index.e83e3f39.js";const A=a({data:{type:e(Array),required:!0,default:()=>[]},height:{type:String,default:"100%"},width:{type:String,default:"100%"},interval:{type:Number,default:4e3}}),D=(a,e)=>{var t;(null==(t=null==a?void 0:a.data)?void 0:t.length)||b("[tn-slideshow]","图片数据不能为空");let n=null;const l=s((()=>{var e;return(null==(e=null==a?void 0:a.data)?void 0:e.length)||0})),o=i(0),u=()=>{o.value=(o.value+1)%l.value,e("change",o.value)};return r((()=>a.data),(()=>{n&&(clearInterval(n),n=null),setTimeout((()=>{u()}),0),n=setInterval((()=>{u()}),a.interval||5e3)}),{immediate:!0}),{imageCount:l,currentActiveIndex:o,clickHandle:a=>{e("click",a)}}},H=y(l({__name:"index",props:A,emits:{change:a=>w(a),click:a=>w(a)},setup(a,{emit:e}){const i=a,{currentActiveIndex:r,imageCount:l,clickHandle:y}=D(i,e),{containerClass:k,containerStyle:_,imageClass:C,imageStyle:w}=((a,e,i)=>{const r=t("slideshow"),l=s((()=>[r.b()].join(" "))),o=s((()=>{const e={};return a.width&&(e.width=n(a.width)),a.height&&(e.height=n(a.height)),e})),u=s((()=>a=>{const t=[r.e("image")];return(i.value-1<0?a===e.value-1:a===i.value-1)&&t.push(r.em("image","fade-out")),a===i.value&&t.push(r.em("image","fade-in")),t.join(" ")})),c=s((()=>t=>{const s={};return s.transitionDuration=`${a.interval||5e3}ms`,s.zIndex=e.value-t,s}));return{ns:r,containerClass:l,containerStyle:o,imageClass:u,imageStyle:c}})(i,l,r);return(a,e)=>{const t=j,s=f;return o(),u(s,{class:p([h(k)]),style:v(h(_))},{default:c((()=>[(o(!0),d(g,null,m(i.data,((a,e)=>(o(),u(t,{key:e,class:p([h(C)(e)]),style:v(h(w)(e)),src:a,mode:"aspectFill",onClick:x((a=>h(y)(e)),["stop"])},null,8,["class","style","src","onClick"])))),128))])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-844baffa"]]),q=y(l({__name:"index",setup(a){k((()=>({}))),_((()=>({})));const{isDemoH5Page:e}=S(),t=i(["https://resource.tuniaokj.com/images/avatar/xiong/x1.jpg","https://resource.tuniaokj.com/images/avatar/xiong/x2.jpg","https://resource.tuniaokj.com/images/avatar/xiong/x3.jpg","https://resource.tuniaokj.com/images/avatar/xiong/x4.jpg","https://resource.tuniaokj.com/images/avatar/xiong/x5.jpg"]);return(a,s)=>{const n=f;return o(),u(I,{title:"幻灯片",padding:"0","is-h5-demo-page":h(e),"navbar-placeholder":!1,"bottom-more-space":!1},{default:c((()=>[C(n,{class:"slideshow-container"},{default:c((()=>[C(H,{data:t.value},null,8,["data"])])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-2692fd22"]]);export{q as default};

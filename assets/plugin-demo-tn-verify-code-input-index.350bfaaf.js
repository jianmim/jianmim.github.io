import{b as e,a4 as t,V as l,c as a,W as s,Z as i,r as n,w as o,H as r,a as u,o as d,e as c,f as p,g as f,h as v,u as m,U as y,K as b,i as h,j as _,F as g,ac as x,k as w,C,m as j,t as k,_ as S,D as V,E as I,aW as T,s as D,v as H}from"./index-80b03063.js";import{U as B,I as E,C as U}from"./event.5568c9d8.js";import{i as W}from"./is-number.acae358a.js";import"./index.b621671f.js";import{b as z,c as N}from"./index.f7e3486a.js";import{C as $}from"./custom-page.333ee63a.js";import{D as q}from"./demo-container.59d4003d.js";import{S as A}from"./sub-demo-container.f24b8c80.js";import{u as F}from"./index.e83e3f39.js";import"./install.171bae2e.js";import"./index.38361e72.js";import"./debounce.73e35894.js";import"./clone-deep.2124c060.js";import"./title.e0fd12f0.js";const K=e({modelValue:{type:[String,Number],default:""},length:{type:Number,default:4},width:String,focus:{type:Boolean,default:!0},disabled:Boolean,password:Boolean,breath:{type:Boolean,default:!0},inputType:{type:String,values:["border","border-vline","border-hline","middle-vline","middle-hline","bottom-hline"],default:"border"},inactiveColor:String,activeColor:String,validateEvent:{type:Boolean,default:!0}}),L=S(u({__name:"index",props:K,emits:{[B]:e=>t(e)||W(e),[E]:e=>t(e)||W(e),[U]:e=>t(e)||W(e),complete:()=>!0},setup(e,{emit:t}){const u=e,{ns:S,colorClass:V,colorStyle:I,inputItemStyle:T,passwordDotStyle:D}=(e=>{const t=l("verify-code-input"),n=a((()=>(null==e?void 0:e.inactiveColor)||"")),o=a((()=>(null==e?void 0:e.activeColor)||"")),[r,u]=s(n,"text"),[d,c]=s(n,"bg"),[p,f]=s(n,"border"),[v,m]=s(o,"text"),[y,b]=s(o,"bg"),[h,_]=s(o,"border");return{ns:t,colorClass:a((()=>(e,t)=>{const l=[];switch(e){case"text":t?l.push(v.value):l.push(r.value);break;case"bg":t?l.push(y.value):l.push(d.value);break;case"border":t?l.push(h.value):l.push(p.value)}return l.join("")})),colorStyle:a((()=>(e,t)=>{const l={};switch(e){case"text":t?v.value||(l.color=m.value||"var(--tn-color-primary)"):r.value||(l.color=u.value||"var(--tn-color-gray-disabled)");break;case"bg":t?y.value||(l.backgroundColor=b.value||"var(--tn-color-primary)"):d.value||(l.backgroundColor=c.value||"var(--tn-color-gray-disabled)");break;case"border":t?h.value||(l.borderColor=_.value||"var(--tn-color-primary)"):p.value||(l.borderColor=f.value||"var(--tn-color-gray-disabled)")}return l})),inputItemStyle:a((()=>{const t={};return(null==e?void 0:e.width)&&(t.width=i(e.width),t.fontSize=`calc(${t.width} * 0.6)`),t})),passwordDotStyle:a((()=>{const t={};return e.password&&(t.width=e.width?`calc(${i(e.width)} * 0.4)`:"30rpx",t.height=t.width),t}))}})(u),{inputValue:H,codeValue:B,activeIndex:E,disabled:U,inputInputHandle:W,inputChangeHandle:$}=((e,t)=>{const{formItem:l}=z(),s=n(""),i=a((()=>Array.from({length:e.length}).map(((e,t)=>{var l,a;return void 0!==(null==(l=s.value)?void 0:l[t])?null==(a=s.value)?void 0:a[t]:""})))),u=a((()=>s.value.length));o((()=>e.modelValue),(e=>{s.value=String(void 0!==e?e:"")}),{immediate:!0});const d=N(e.disabled||s.value.length>=e.length);return{inputValue:s,codeValue:i,activeIndex:u,disabled:d,inputInputHandle:a=>{var i;const{detail:{value:n}}=a,o=n.slice(0,e.length);n.length>e.length&&r((()=>{s.value=o})),o.length===e.length&&t("complete"),t("update:modelValue",o),t("input",o),e.validateEvent&&(null==(i=null==l?void 0:l.validate)||i.call(l,"input").catch((e=>{})))},inputChangeHandle:()=>{var a;t("change",s.value),e.validateEvent&&(null==(a=null==l?void 0:l.validate)||a.call(l,"change").catch((e=>{})))}}})(u,t);return(e,t)=>{const l=x,a=w;return d(),c(a,{class:b([m(S).b()])},{default:p((()=>[f(" 真实输入框 "),v(l,{modelValue:m(H),"onUpdate:modelValue":t[0]||(t[0]=e=>y(H)?H.value=e:null),type:"number",disabled:m(U),focus:e.focus,class:b([m(S).e("input")]),onInput:m(W),onChange:m($)},null,8,["modelValue","disabled","focus","class","onInput","onChange"]),f(" 验证码输入框 "),v(a,{class:b([m(S).e("code-input")])},{default:p((()=>[(d(!0),h(g,null,_(m(B),((t,l)=>(d(),c(a,{key:l,class:b([m(S).e("code-input-item")]),style:C(m(T))},{default:p((()=>[v(a,{class:b([m(S).em("code-input-item","wrapper")])},{default:p((()=>[v(a,{class:b([m(S).em("code-input-item","container")])},{default:p((()=>[f(" 信息提示框 start "),f(" 根据不同的输入框类型显示不同的样式 "),f(" border "),e.inputType.startsWith("border")?(d(),c(a,{key:0,class:b(["border",[m(V)("border",l===m(E)||""!==t),m(S).is("breath",e.breath&&"border"===e.inputType&&l===m(E))]]),style:C(m(I)("border",l===m(E)||""!==t))},{default:p((()=>["border-vline"===e.inputType&&l===m(E)?(d(),c(a,{key:0,class:b(["border-vline",[m(V)("bg",!0),m(S).is("breath",e.breath)]]),style:C(m(I)("bg",!0))},null,8,["class","style"])):f("v-if",!0),"border-hline"===e.inputType&&l===m(E)?(d(),c(a,{key:1,class:b(["border-hline",[m(V)("bg",!0),m(S).is("breath",e.breath)]]),style:C(m(I)("bg",!0))},null,8,["class","style"])):f("v-if",!0)])),_:2},1032,["class","style"])):f("v-if",!0),f(" 居中水平 "),"middle-hline"===e.inputType&&""===t?(d(),c(a,{key:1,class:b(["middle-hline",[m(V)("bg",l===m(E)),m(S).is("breath",e.breath&&l===m(E))]]),style:C(m(I)("bg",l===m(E)))},null,8,["class","style"])):f("v-if",!0),f(" 底部水平 "),"bottom-hline"===e.inputType&&""===t?(d(),c(a,{key:2,class:b(["bottom-hline",[m(V)("bg",l===m(E)),m(S).is("breath",e.breath&&l===m(E))]]),style:C(m(I)("bg",l===m(E)))},null,8,["class","style"])):f("v-if",!0),f(" 居中垂直 "),"middle-vline"===e.inputType&&""===t?(d(),c(a,{key:3,class:b(["middle-vline",[m(V)("bg",l===m(E)),m(S).is("breath",e.breath&&l===m(E))]]),style:C(m(I)("bg",l===m(E)))},null,8,["class","style"])):f("v-if",!0),f(" 信息提示框 end "),f(" 验证码值展示 "),""!==t?(d(),c(a,{key:4,class:b(["code-value",[m(V)("text",!0),m(S).is("dot",e.password)]]),style:C({...m(I)("text",!0),...m(D)})},{default:p((()=>[j(k(e.password?"":t),1)])),_:2},1032,["class","style"])):f("v-if",!0)])),_:2},1032,["class"])])),_:2},1032,["class"])])),_:2},1032,["class","style"])))),128))])),_:1},8,["class"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-206d4b4d"]]),P=S(u({__name:"index",setup(e){V((()=>({}))),I((()=>({})));const{isDemoH5Page:t}=F(),l=n(""),a=()=>{T(),D({title:"验证码输入完成",icon:"none"})};return(e,s)=>{const i=H,n=w;return d(),c($,{title:"验证码输入","is-h5-demo-page":m(t)},{default:p((()=>[v(q,{title:"基础使用"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item"},{default:p((()=>[j(" 输入验证码的值: "),v(i,{class:"tn-gray_text"},{default:p((()=>[j(k(l.value),1)])),_:1})])),_:1}),v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e),onComplete:a},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),v(q,{title:"设置验证码长度"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,length:6})])),_:1})])),_:1})])),_:1}),v(q,{title:"隐藏输入值"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,password:""})])),_:1})])),_:1})])),_:1}),v(q,{title:"设置验证码提示框大小"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,width:"120"})])),_:1})])),_:1})])),_:1}),v(q,{title:"设置提示框的类型"},{default:p((()=>[v(A,{title:"边框"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,"input-type":"border"})])),_:1})])),_:1})])),_:1}),v(A,{title:"边框带竖线"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,"input-type":"border-vline"})])),_:1})])),_:1})])),_:1}),v(A,{title:"边框带横线"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,"input-type":"border-hline"})])),_:1})])),_:1})])),_:1}),v(A,{title:"底部横线"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,"input-type":"bottom-hline"})])),_:1})])),_:1})])),_:1}),v(A,{title:"居中横线"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,"input-type":"middle-hline"})])),_:1})])),_:1})])),_:1}),v(A,{title:"居中竖线"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,"input-type":"middle-vline"})])),_:1})])),_:1})])),_:1})])),_:1}),v(q,{title:"设置验证码提示框样式"},{default:p((()=>[v(n,{class:"verify-code-input-container"},{default:p((()=>[v(n,{class:"verify-code-input-item tn-flex-center"},{default:p((()=>[v(L,{focus:!1,"inactive-color":"tn-blue-light","active-color":"tn-blue"})])),_:1})])),_:1})])),_:1})])),_:1},8,["is-h5-demo-page"])}}}),[["__scopeId","data-v-0ea70ee9"]]);export{P as default};

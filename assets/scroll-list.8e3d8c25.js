import{b as o,V as t,W as l,X as a,c as s,Z as c,r,L as i,H as n,y as e,N as d,a as u,o as p,e as f,f as v,g as h,h as k,K as y,u as S,a1 as m,C as g,k as B,J as C,_ as b}from"./index-80b03063.js";import"./index.b621671f.js";import{u as w}from"./index.38361e72.js";const _=o({indicator:{type:Boolean,default:!0},indicatorWidth:{type:Number,default:40},indicatorBlockWidth:{type:Number,default:20},indicatorColor:String,indicatorBlockColor:String}),W=b(u({__name:"scroll-list",props:_,emits:{"scroll-left":()=>!0,"scroll-right":()=>!0},setup(o,{emit:u}){const b=o,{componentId:_,componentContentId:W,indicatorBlockScrollDistance:x,scrollViewScrollEvent:E,scrollToLeftEvent:I,scrollToRightEvent:T}=((o,t)=>{const l=e(),a=`tsl-${d()}`,s=`${a}-content`,{getSelectorNodeInfo:c}=w(l);let u=0,p=0;const f=r(0);let v=0;const h=async()=>{try{const o=await c(`#${a}`),t=await c(`#${s}`);v=0,u=o.width||0,p=t.width||0}catch(o){if(v>10)return void(v=0);v++,setTimeout((()=>{h()}),150)}};return i((()=>{n((()=>{h()}))})),{componentId:a,componentContentId:s,indicatorBlockScrollDistance:f,scrollViewScrollEvent:t=>{const l=t.detail.scrollLeft;f.value=l*(o.indicatorWidth-o.indicatorBlockWidth)/(p-u)},scrollToLeftEvent:()=>{t("scroll-left")},scrollToRightEvent:()=>{t("scroll-right")}}})(b,u),{ns:$,indicatorClass:j,indicatorStyle:L,indicatorBlockClass:N,indicatorBlockStyle:V}=(o=>{const r=t("scroll-list"),[i,n]=l(a(o,"indicatorColor"),"bg"),[e,d]=l(a(o,"indicatorBlockColor"),"bg"),u=s((()=>{const o=[r.e("indicator")];return i.value&&o.push(i.value),o.join(" ")})),p=s((()=>{const t={};return o.indicatorWidth&&(t.width=c(o.indicatorWidth,"px")),i.value||(t.backgroundColor=n.value||"var(--tn-color-gray-disabled)"),t})),f=s((()=>{const o=[r.e("indicator-block")];return e.value&&o.push(e.value),o.join(" ")})),v=s((()=>t=>{const l={};return o.indicatorBlockWidth&&(l.width=c(o.indicatorBlockWidth,"px")),l.left=`${t}px`,e.value||(l.backgroundColor=d.value||"var(--tn-color-primary)"),l}));return{ns:r,indicatorClass:u,indicatorStyle:p,indicatorBlockClass:f,indicatorBlockStyle:v}})(b);return(o,t)=>{const l=B,a=C;return p(),f(l,{id:S(_),class:y([S($).b(),S($).is("indicator",o.indicator)])},{default:v((()=>[h(" 内容 "),k(l,{class:y([S($).e("content")])},{default:v((()=>[k(a,{class:y([S($).e("scroll-view")]),"scroll-x":"",onScroll:S(E),onScrolltoupper:S(I),onScrolltolower:S(T)},{default:v((()=>[k(l,{id:S(W),class:"data"},{default:v((()=>[m(o.$slots,"default",{},void 0,!0)])),_:3},8,["id"])])),_:3},8,["class","onScroll","onScrolltoupper","onScrolltolower"])])),_:3},8,["class"]),h(" 指示器 "),o.indicator?(p(),f(l,{key:0,class:y([S(j)]),style:g(S(L))},{default:v((()=>[h(" 滑块 "),k(l,{class:y([S(N)]),style:g(S(V)(S(x)))},null,8,["class","style"])])),_:1},8,["class","style"])):h("v-if",!0)])),_:3},8,["id","class"])}}}),[["__scopeId","data-v-7bf9c121"]]);export{W as T};

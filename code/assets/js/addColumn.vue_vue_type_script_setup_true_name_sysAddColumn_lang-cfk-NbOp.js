import{g as L}from"./index-xdJ7pE-g.js";import{S as q}from"./sys-database-api-YLh-8THg.js";import{y,d as Q}from"./database-zhWWLKxD.js";import{k as D,r as R,L as z,t as s,x as u,M as m,D as e,A as o,O as V,S as w,a4 as p,a5 as c,F as f,y as b}from"./store-dof5ccn5.js";const M={class:"sys-dbColumn-container"},O={style:{color:"#fff"}},j=V("span",null," 增加列 ",-1),G={class:"dialog-footer"},H=D({name:"sysAddColumn"}),Z=D({...H,emits:["handleQueryColumn"],setup(J,{expose:k,emit:C}){const S=C,g=R(),a=z({isShowDialog:!1,ruleForm:{}}),N=d=>{var t;a.ruleForm=d,a.isShowDialog=!0,(t=g.value)==null||t.resetFields()},U=()=>{S("handleQueryColumn"),a.isShowDialog=!1},h=()=>{a.isShowDialog=!1},A=()=>{g.value.validate(async d=>{d&&(await L(q).apiSysDatabaseAddColumnPost(a.ruleForm),U())})};return k({openDialog:N}),(d,t)=>{const B=s("ele-Edit"),P=s("el-icon"),v=s("el-input"),r=s("el-form-item"),n=s("el-col"),i=s("el-option"),_=s("el-select"),x=s("el-input-number"),T=s("el-row"),E=s("el-form"),F=s("el-button"),I=s("el-dialog");return u(),m("div",M,[e(I,{modelValue:a.isShowDialog,"onUpdate:modelValue":t[8]||(t[8]=l=>a.isShowDialog=l),draggable:"","close-on-click-modal":!1,width:"700px"},{header:o(()=>[V("div",O,[e(P,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:o(()=>[e(B)]),_:1}),j])]),footer:o(()=>[V("span",G,[e(F,{onClick:h},{default:o(()=>[w("取 消")]),_:1}),e(F,{type:"primary",onClick:A},{default:o(()=>[w("确 定")]),_:1})])]),default:o(()=>[e(E,{model:a.ruleForm,ref_key:"ruleFormRef",ref:g,"label-width":"auto"},{default:o(()=>[e(T,{gutter:35},{default:o(()=>[e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[e(r,{label:"列名",prop:"dbColumnName",rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]},{default:o(()=>[e(v,{modelValue:a.ruleForm.dbColumnName,"onUpdate:modelValue":t[0]||(t[0]=l=>a.ruleForm.dbColumnName=l),placeholder:"列名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[e(r,{label:"描述",prop:"columnDescription",rules:[{required:!0,message:"描述不能为空",trigger:"blur"}]},{default:o(()=>[e(v,{modelValue:a.ruleForm.columnDescription,"onUpdate:modelValue":t[1]||(t[1]=l=>a.ruleForm.columnDescription=l),placeholder:"描述",clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(r,{label:"主键"},{default:o(()=>[e(_,{modelValue:a.ruleForm.isPrimarykey,"onUpdate:modelValue":t[2]||(t[2]=l=>a.ruleForm.isPrimarykey=l),class:"w100"},{default:o(()=>[(u(!0),m(p,null,c(f(y),l=>(u(),b(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(r,{label:"自增"},{default:o(()=>[e(_,{modelValue:a.ruleForm.isIdentity,"onUpdate:modelValue":t[3]||(t[3]=l=>a.ruleForm.isIdentity=l),class:"w100"},{default:o(()=>[(u(!0),m(p,null,c(f(y),l=>(u(),b(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(r,{label:"类型"},{default:o(()=>[e(_,{modelValue:a.ruleForm.dataType,"onUpdate:modelValue":t[4]||(t[4]=l=>a.ruleForm.dataType=l),class:"w100"},{default:o(()=>[(u(!0),m(p,null,c(f(Q),l=>(u(),b(i,{key:l.value,label:l.value,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(r,{label:"可空"},{default:o(()=>[e(_,{modelValue:a.ruleForm.isNullable,"onUpdate:modelValue":t[5]||(t[5]=l=>a.ruleForm.isNullable=l),class:"w100"},{default:o(()=>[(u(!0),m(p,null,c(f(y),l=>(u(),b(i,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(r,{label:"长度"},{default:o(()=>[e(x,{modelValue:a.ruleForm.length,"onUpdate:modelValue":t[6]||(t[6]=l=>a.ruleForm.length=l),class:"w100","controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(r,{label:"小数位"},{default:o(()=>[e(x,{modelValue:a.ruleForm.decimalDigits,"onUpdate:modelValue":t[7]||(t[7]=l=>a.ruleForm.decimalDigits=l),class:"w100","controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{Z as _};

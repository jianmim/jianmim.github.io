import{k as L,s as v,u as F,a0 as R,L as $,l as E,p as M,aO as D,t as m,x as r,M as n,D as d,F as b,A as p,a7 as G,a4 as z,a5 as A,y as f,G as h,T as _,Q as O,S as Q}from"./store-dof5ccn5.js";import{Z as U,u as Z,o as j,L as y}from"./index-zQlakb1H.js";import{_ as q}from"./_plugin-vue_export-helper-x3n3nnut.js";const H={key:0,class:"layout-navbars-breadcrumb"},J={key:0,class:"layout-navbars-breadcrumb-span"},K={key:1},P={key:2},W=["onClick"],X=L({name:"layoutBreadcrumb"}),Y=L({...X,setup(ee){const k=U(),B=Z(),{themeConfig:o}=v(B),{routesList:g}=v(k),i=F(),I=R(),e=$({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),w=E(()=>{u(i.path);const{layout:t,isBreadcrumb:a}=o.value;return t==="classic"||t==="transverse"?!1:!!a}),x=t=>{const{redirect:a,path:c}=t;a&&I.push(a)},N=()=>{o.value.isCollapse=!o.value.isCollapse,T()},T=()=>{y.remove("themeConfig"),y.set("themeConfig",o.value)},C=t=>{t.forEach(a=>{e.routeSplit.forEach((c,S,l)=>{e.routeSplitFirst===a.path&&(e.routeSplitFirst+=`/${l[e.routeSplitIndex]}`,e.breadcrumbList.push(a),e.routeSplitIndex++,a.children&&C(a.children))})})},u=t=>{if(!o.value.isBreadcrumb)return!1;e.breadcrumbList=[g.value[0]],e.routeSplit=t.split("/"),e.routeSplit.shift(),e.routeSplitFirst=`/${e.routeSplit[0]}`,e.routeSplitIndex=1,C(g.value),(i.name==="home"||i.name==="notFound"&&e.breadcrumbList.length>1)&&e.breadcrumbList.shift(),e.breadcrumbList.length>0&&(e.breadcrumbList[e.breadcrumbList.length-1].meta.tagsViewName=j.setTagsViewNameI18n(i))};return M(()=>{u(i.path)}),D(t=>{u(t.path)}),(t,a)=>{const c=m("SvgIcon"),S=m("el-breadcrumb-item"),l=m("el-breadcrumb");return w.value?(r(),n("div",H,[d(c,{class:"layout-navbars-breadcrumb-icon",name:b(o).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:N},null,8,["name"]),d(l,{class:"layout-navbars-breadcrumb-hide"},{default:p(()=>[d(G,{name:"breadcrumb"},{default:p(()=>[(r(!0),n(z,null,A(e.breadcrumbList,(s,V)=>(r(),f(S,{key:s.meta.tagsViewName?s.meta.tagsViewName:s.meta.title},{default:p(()=>[V===e.breadcrumbList.length-1?(r(),n("span",J,[b(o).isBreadcrumbIcon?(r(),f(c,{key:0,name:s.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):h("",!0),s.meta.tagsViewName?(r(),n("div",P,_(s.meta.tagsViewName),1)):(r(),n("div",K,_(t.$t(s.meta.title)),1))])):(r(),n("a",{key:1,onClick:O(te=>x(s),["prevent"])},[b(o).isBreadcrumbIcon?(r(),f(c,{key:0,name:s.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):h("",!0),Q(_(t.$t(s.meta.title)),1)],8,W))]),_:2},1024))),128))]),_:1})]),_:1})])):h("",!0)}}}),oe=q(Y,[["__scopeId","data-v-d6739b54"]]);export{oe as default};

import{k as E,r as i,p as $,t as s,x as p,M as f,D as e,A as t,O as _,T as J,F as w,S as C,B as R,a4 as U,a5 as h,E as z,C as G,y as D}from"./store-mQZkmHj-.js";import{g as H}from"./dict-utils-rfVz76dT.js";import{d as K,a as P,u as Q,g as W}from"./licMachineCode-D0t31_8V.js";import{_ as X}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./index-lw7p-_pG.js";import"./request--bhxBvPJ.js";const Y={class:"licMachineCode-container"},Z={style:{color:"#fff"}},ee={class:"dialog-footer"},le=E({__name:"editDialog",props:{title:{type:String,default:""}},emits:["reloadTable"],setup(k,{expose:S,emit:I}){var N=k;const L=I,g=i(),m=i(!1),l=i({}),T=i({machineCode:[{required:!0,message:"请输入机器码！",trigger:"blur"}],applyUserId:[{required:!0,message:"请选择负责人",trigger:"blur"}],projectName:[{required:!0,message:"请输入项目名称！",trigger:"blur"}],concurrencyCount:[{required:!0,message:"请输入并发数目！",trigger:"blur"}],userCount:[{required:!0,message:"请输入用户数目！",trigger:"blur"}],systemType:[{required:!0,message:"请选择系统类型！",trigger:"change"}]}),M=async n=>{let a=JSON.parse(JSON.stringify(n));a.id?l.value=(await K(a.id)).data.result:l.value=a,m.value=!0},q=()=>{L("reloadTable"),m.value=!1},j=()=>{m.value=!1},A=async()=>{g.value.validate(async(n,a)=>{if(n){let u=l.value;l.value.id==null||l.value.id==null||l.value.id==""||l.value.id==0?await P(u):await Q(u),q()}else z({message:`表单有${Object.keys(a).length}处验证失败，请修改后再提交`,type:"error"})})},v=i([]);return(async()=>{let n=await W();v.value=n.data.result??[]})(),$(async()=>{}),S({openDialog:M}),(n,a)=>{const u=s("el-input"),r=s("el-form-item"),d=s("el-col"),y=s("el-input-number"),b=s("el-option"),V=s("el-select"),B=s("el-row"),F=s("el-form"),x=s("el-button"),O=s("el-dialog");return p(),f("div",Y,[e(O,{modelValue:m.value,"onUpdate:modelValue":a[8]||(a[8]=o=>m.value=o),width:800,draggable:""},{header:t(()=>[_("div",Z,[_("span",null,J(w(N).title),1)])]),footer:t(()=>[_("span",ee,[e(x,{onClick:j},{default:t(()=>[C("取 消")]),_:1}),e(x,{type:"primary",onClick:A},{default:t(()=>[C("确 定")]),_:1})])]),default:t(()=>[e(F,{model:l.value,ref_key:"ruleFormRef",ref:g,"label-width":"auto",rules:T.value},{default:t(()=>[e(B,{gutter:35},{default:t(()=>[R(e(r,null,{default:t(()=>[e(u,{modelValue:l.value.id,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value.id=o)},null,8,["modelValue"])]),_:1},512),[[G,!1]]),e(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(r,{label:"机器码",prop:"machineCode"},{default:t(()=>[e(u,{modelValue:l.value.machineCode,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.machineCode=o),placeholder:"请输入机器码",type:"textarea",maxlength:"255","show-word-limit":"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(r,{label:"项目名称",prop:"projectName"},{default:t(()=>[e(u,{modelValue:l.value.projectName,"onUpdate:modelValue":a[2]||(a[2]=o=>l.value.projectName=o),placeholder:"请输入项目名称",type:"textarea",maxlength:"255","show-word-limit":"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(r,{label:"备注",prop:"remark"},{default:t(()=>[e(u,{modelValue:l.value.remark,"onUpdate:modelValue":a[3]||(a[3]=o=>l.value.remark=o),placeholder:"请输入备注",type:"textarea",maxlength:"1000","show-word-limit":"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(r,{label:"并发数目",prop:"concurrencyCount"},{default:t(()=>[e(y,{modelValue:l.value.concurrencyCount,"onUpdate:modelValue":a[4]||(a[4]=o=>l.value.concurrencyCount=o),placeholder:"请输入并发数目",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(r,{label:"用户数目",prop:"userCount"},{default:t(()=>[e(y,{modelValue:l.value.userCount,"onUpdate:modelValue":a[5]||(a[5]=o=>l.value.userCount=o),placeholder:"请输入用户数目",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(r,{label:"负责人",prop:"applyUserId"},{default:t(()=>[e(V,{clearable:"",filterable:"",modelValue:l.value.applyUserId,"onUpdate:modelValue":a[6]||(a[6]=o=>l.value.applyUserId=o),placeholder:"请选择负责人"},{default:t(()=>[(p(!0),f(U,null,h(v.value,(o,c)=>(p(),D(b,{key:c,value:o.value,label:o.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(d,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(r,{label:"系统类型",prop:"systemType"},{default:t(()=>[e(V,{clearable:"",modelValue:l.value.systemType,"onUpdate:modelValue":a[7]||(a[7]=o=>l.value.systemType=o),placeholder:"请选择系统类型"},{default:t(()=>[(p(!0),f(U,null,h(w(H)("licrecordinfo_systemtype"),(o,c)=>(p(),D(b,{key:c,value:o.code,label:`[${o.code}] ${o.value}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),ne=X(le,[["__scopeId","data-v-23bdbda2"]]);export{ne as default};

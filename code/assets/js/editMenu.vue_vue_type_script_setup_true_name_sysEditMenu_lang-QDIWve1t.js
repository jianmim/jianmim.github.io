import{_ as J}from"./index.vue_vue_type_script_setup_true_name_iconSelector_lang-6-OkLiyV.js";import{o as K,g as S,r as w}from"./index-xdJ7pE-g.js";import{k as v,r as Q,L as R,l as T,t as s,x as f,M as _,D as l,A as e,O as b,T as c,S as d,G as g,a4 as k}from"./store-dof5ccn5.js";const $={class:"sys-menu-container"},j={style:{color:"#fff"}},W={key:0},X={class:"dialog-footer"},Y=v({name:"sysEditMenu"}),el=v({...Y,props:{title:String,menuData:Array},emits:["handleQuery"],setup(D,{expose:N,emit:A}){const F=D,C=A,V=Q(),o=R({isShowDialog:!1,ruleForm:{}}),z=T(()=>K.globalComponentSize()),M=p=>{var a;o.ruleForm=JSON.parse(JSON.stringify(p)),o.isShowDialog=!0,(a=V.value)==null||a.resetFields()},E=()=>{C("handleQuery"),o.isShowDialog=!1},L=()=>{o.isShowDialog=!1},P=()=>{V.value.validate(async p=>{p&&(o.ruleForm.id!=null&&o.ruleForm.id>0?await S(w).apiSysMenuUpdatePost(o.ruleForm):await S(w).apiSysMenuAddPost(o.ruleForm),E())})};return N({openDialog:M}),(p,a)=>{const B=s("ele-Edit"),I=s("el-icon"),O=s("el-cascader"),r=s("el-form-item"),u=s("el-col"),m=s("el-radio"),i=s("el-radio-group"),n=s("el-input"),x=s("el-input-number"),q=s("el-row"),G=s("el-form"),y=s("el-button"),H=s("el-dialog");return f(),_("div",$,[l(H,{modelValue:o.isShowDialog,"onUpdate:modelValue":a[18]||(a[18]=t=>o.isShowDialog=t),draggable:"","close-on-click-modal":!1,width:"700px"},{header:e(()=>[b("div",j,[l(I,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:e(()=>[l(B)]),_:1}),b("span",null,c(F.title),1)])]),footer:e(()=>[b("span",X,[l(y,{onClick:L},{default:e(()=>[d("取 消")]),_:1}),l(y,{type:"primary",onClick:P},{default:e(()=>[d("确 定")]),_:1})])]),default:e(()=>[l(G,{model:o.ruleForm,ref_key:"ruleFormRef",ref:V,"label-width":"auto"},{default:e(()=>[l(q,{gutter:35},{default:e(()=>[l(u,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:e(()=>[l(r,{label:"上级菜单"},{default:e(()=>[l(O,{options:F.menuData,props:{checkStrictly:!0,emitPath:!1,value:"id",label:"title"},placeholder:"请选择上级菜单",clearable:"",class:"w100",modelValue:o.ruleForm.pid,"onUpdate:modelValue":a[0]||(a[0]=t=>o.ruleForm.pid=t)},{default:e(({node:t,data:U})=>[b("span",null,c(U.title),1),t.isLeaf?g("",!0):(f(),_("span",W," ("+c(U.children.length)+") ",1))]),_:1},8,["options","modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:e(()=>[l(r,{label:"菜单类型",prop:"type",rules:[{required:!0,message:"菜单类型不能为空",trigger:"blur"}]},{default:e(()=>[l(i,{modelValue:o.ruleForm.type,"onUpdate:modelValue":a[1]||(a[1]=t=>o.ruleForm.type=t)},{default:e(()=>[l(m,{label:1},{default:e(()=>[d("目录")]),_:1}),l(m,{label:2},{default:e(()=>[d("菜单")]),_:1}),l(m,{label:3},{default:e(()=>[d("按钮")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"菜单名称",prop:"title",rules:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}]},{default:e(()=>[l(n,{modelValue:o.ruleForm.title,"onUpdate:modelValue":a[2]||(a[2]=t=>o.ruleForm.title=t),placeholder:"菜单名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),o.ruleForm.type===1||o.ruleForm.type===2?(f(),_(k,{key:0},[l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"路由名称"},{default:e(()=>[l(n,{modelValue:o.ruleForm.name,"onUpdate:modelValue":a[3]||(a[3]=t=>o.ruleForm.name=t),placeholder:"路由名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"路由路径"},{default:e(()=>[l(n,{modelValue:o.ruleForm.path,"onUpdate:modelValue":a[4]||(a[4]=t=>o.ruleForm.path=t),placeholder:"路由路径",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"组件路径"},{default:e(()=>[l(n,{modelValue:o.ruleForm.component,"onUpdate:modelValue":a[5]||(a[5]=t=>o.ruleForm.component=t),placeholder:"组件路径",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"菜单图标"},{default:e(()=>[l(J,{modelValue:o.ruleForm.icon,"onUpdate:modelValue":a[6]||(a[6]=t=>o.ruleForm.icon=t),size:z.value,placeholder:"菜单图标",type:"all"},null,8,["modelValue","size"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"重定向"},{default:e(()=>[l(n,{modelValue:o.ruleForm.redirect,"onUpdate:modelValue":a[7]||(a[7]=t=>o.ruleForm.redirect=t),placeholder:"重定向地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"链接地址"},{default:e(()=>[l(n,{modelValue:o.ruleForm.outLink,"onUpdate:modelValue":a[8]||(a[8]=t=>o.ruleForm.outLink=t),placeholder:"外链/内嵌时链接地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"菜单排序"},{default:e(()=>[l(x,{modelValue:o.ruleForm.orderNo,"onUpdate:modelValue":a[9]||(a[9]=t=>o.ruleForm.orderNo=t),placeholder:"排序",class:"w100"},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"是否隐藏"},{default:e(()=>[l(i,{modelValue:o.ruleForm.isHide,"onUpdate:modelValue":a[10]||(a[10]=t=>o.ruleForm.isHide=t)},{default:e(()=>[l(m,{label:!0},{default:e(()=>[d("隐藏")]),_:1}),l(m,{label:!1},{default:e(()=>[d("不隐藏")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"是否缓存"},{default:e(()=>[l(i,{modelValue:o.ruleForm.isKeepAlive,"onUpdate:modelValue":a[11]||(a[11]=t=>o.ruleForm.isKeepAlive=t)},{default:e(()=>[l(m,{label:!0},{default:e(()=>[d("缓存")]),_:1}),l(m,{label:!1},{default:e(()=>[d("不缓存")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"是否固定"},{default:e(()=>[l(i,{modelValue:o.ruleForm.isAffix,"onUpdate:modelValue":a[12]||(a[12]=t=>o.ruleForm.isAffix=t)},{default:e(()=>[l(m,{label:!0},{default:e(()=>[d("固定")]),_:1}),l(m,{label:!1},{default:e(()=>[d("不固定")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"是否内嵌"},{default:e(()=>[l(i,{modelValue:o.ruleForm.isIframe,"onUpdate:modelValue":a[13]||(a[13]=t=>o.ruleForm.isIframe=t)},{default:e(()=>[l(m,{label:!0},{default:e(()=>[d("内嵌")]),_:1}),l(m,{label:!1},{default:e(()=>[d("不内嵌")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)):g("",!0),o.ruleForm.type===3?(f(),_(k,{key:1},[l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"权限标识"},{default:e(()=>[l(n,{modelValue:o.ruleForm.permission,"onUpdate:modelValue":a[14]||(a[14]=t=>o.ruleForm.permission=t),placeholder:"权限标识",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"菜单排序"},{default:e(()=>[l(x,{modelValue:o.ruleForm.orderNo,"onUpdate:modelValue":a[15]||(a[15]=t=>o.ruleForm.orderNo=t),placeholder:"排序",class:"w100"},null,8,["modelValue"])]),_:1})]),_:1})],64)):g("",!0),l(u,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:e(()=>[l(r,{label:"是否启用"},{default:e(()=>[l(i,{modelValue:o.ruleForm.status,"onUpdate:modelValue":a[16]||(a[16]=t=>o.ruleForm.status=t)},{default:e(()=>[l(m,{label:1},{default:e(()=>[d("启用")]),_:1}),l(m,{label:2},{default:e(()=>[d("不启用")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(u,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:e(()=>[l(r,{label:"备注"},{default:e(()=>[l(n,{modelValue:o.ruleForm.remark,"onUpdate:modelValue":a[17]||(a[17]=t=>o.ruleForm.remark=t),placeholder:"请输入备注内容",clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{el as _};

import{_ as q}from"./index.vue_vue_type_script_setup_true_name_wngEditor_lang-yzcydVy0.js";import{g as p}from"./index-xdJ7pE-g.js";import{S as _}from"./sys-notice-api-d2SXJ2Fw.js";import{k as g,r as B,L as O,t as s,x as P,M as J,D as e,A as o,O as d,T as Q,S as f}from"./store-dof5ccn5.js";const R={class:"sys-notice-container"},T={style:{color:"#fff"}},z={class:"dialog-footer"},H=g({name:"sysNoticeEdit"}),j=g({...H,props:{title:String},emits:["handleQuery"],setup(y,{expose:b,emit:F}){const w=y,S=F,n=B(),l=O({isShowDialog:!1,ruleForm:{}}),h=r=>{var t;l.ruleForm=JSON.parse(JSON.stringify(r)),l.isShowDialog=!0,(t=n.value)==null||t.resetFields()},x=()=>{S("handleQuery"),l.isShowDialog=!1},V=()=>{l.isShowDialog=!1},v=()=>{n.value.validate(async r=>{r&&(l.ruleForm.id!=null&&l.ruleForm.id>0?await p(_).apiSysNoticeUpdatePost(l.ruleForm):await p(_).apiSysNoticeAddPost(l.ruleForm),x())})};return b({openDialog:h}),(r,t)=>{const D=s("ele-Edit"),N=s("el-icon"),k=s("el-input"),i=s("el-form-item"),m=s("el-col"),u=s("el-option"),C=s("el-select"),U=s("el-row"),A=s("el-form"),c=s("el-button"),E=s("el-dialog");return P(),J("div",R,[e(E,{modelValue:l.isShowDialog,"onUpdate:modelValue":t[3]||(t[3]=a=>l.isShowDialog=a),draggable:"","close-on-click-modal":!1,width:"900px"},{header:o(()=>[d("div",T,[e(N,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:o(()=>[e(D)]),_:1}),d("span",null,Q(w.title),1)])]),footer:o(()=>[d("span",z,[e(c,{onClick:V},{default:o(()=>[f("取 消")]),_:1}),e(c,{type:"primary",onClick:v},{default:o(()=>[f("确 定")]),_:1})])]),default:o(()=>[e(A,{model:l.ruleForm,ref_key:"ruleFormRef",ref:n,"label-width":"auto"},{default:o(()=>[e(U,{gutter:35},{default:o(()=>[e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(i,{label:"标题",prop:"title",rules:[{required:!0,message:"标题不能为空",trigger:"blur"}]},{default:o(()=>[e(k,{modelValue:l.ruleForm.title,"onUpdate:modelValue":t[0]||(t[0]=a=>l.ruleForm.title=a),placeholder:"标题",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:o(()=>[e(i,{label:"类型",prop:"type",rules:[{required:!0,message:"类型不能为空",trigger:"blur"}]},{default:o(()=>[e(C,{modelValue:l.ruleForm.type,"onUpdate:modelValue":t[1]||(t[1]=a=>l.ruleForm.type=a),placeholder:"类型",filterable:"","allow-create":"","default-first-option":"",style:{width:"100%"}},{default:o(()=>[e(u,{label:"通知",value:1}),e(u,{label:"公告",value:2})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(m,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[e(i,{label:"内容",prop:"content",rules:[{required:!0,message:"内容不能为空",trigger:"blur"}]},{default:o(()=>[e(q,{"get-html":l.ruleForm.content,"onUpdate:getHtml":t[2]||(t[2]=a=>l.ruleForm.content=a)},null,8,["get-html"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{j as _};

import{b as f,k as N,r as F,L as J,t as P,x as I,M,D as c,A as p,O as T,T as W,S as x,E as $,at as G}from"./store-mQZkmHj-.js";import{B as K,d as _,R as X,g as v}from"./index-lw7p-_pG.js";const b=function(a){return{apiSysPluginAddPost:async(e,s={})=>{const r="/api/sysPlugin/add",o=new URL(r,"https://example.com");let t;a&&(t=a.baseOptions);const n={method:"POST",...t,...s},l={},u={};if(a&&a.accessToken){const i=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;l.Authorization="Bearer "+i}l["Content-Type"]="application/json-patch+json";const m=new URLSearchParams(o.search);for(const i in u)m.set(i,u[i]);for(const i in s.params)m.set(i,s.params[i]);o.search=new URLSearchParams(m).toString();let y=t&&t.headers?t.headers:{};n.headers={...l,...y,...s.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:o.pathname+o.search+o.hash,options:n}},apiSysPluginCompileAssemblyPost:async(e,s,r={})=>{const o="/api/sysPlugin/compileAssembly",t=new URL(o,"https://example.com");let n;a&&(n=a.baseOptions);const l={method:"POST",...n,...r},u={},m={};if(a&&a.accessToken){const S=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;u.Authorization="Bearer "+S}s!==void 0&&(m.assemblyName=s),u["Content-Type"]="application/json-patch+json";const y=new URLSearchParams(t.search);for(const S in m)y.set(S,m[S]);for(const S in r.params)y.set(S,r.params[S]);t.search=new URLSearchParams(y).toString();let d=n&&n.headers?n.headers:{};l.headers={...u,...d,...r.headers};const i=typeof e!="string"||l.headers["Content-Type"]==="application/json";return l.data=i?JSON.stringify(e!==void 0?e:{}):e||"",{url:t.pathname+t.search+t.hash,options:l}},apiSysPluginDeletePost:async(e,s={})=>{const r="/api/sysPlugin/delete",o=new URL(r,"https://example.com");let t;a&&(t=a.baseOptions);const n={method:"POST",...t,...s},l={},u={};if(a&&a.accessToken){const i=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;l.Authorization="Bearer "+i}l["Content-Type"]="application/json-patch+json";const m=new URLSearchParams(o.search);for(const i in u)m.set(i,u[i]);for(const i in s.params)m.set(i,s.params[i]);o.search=new URLSearchParams(m).toString();let y=t&&t.headers?t.headers:{};n.headers={...l,...y,...s.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:o.pathname+o.search+o.hash,options:n}},apiSysPluginPagePost:async(e,s={})=>{const r="/api/sysPlugin/page",o=new URL(r,"https://example.com");let t;a&&(t=a.baseOptions);const n={method:"POST",...t,...s},l={},u={};if(a&&a.accessToken){const i=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;l.Authorization="Bearer "+i}l["Content-Type"]="application/json-patch+json";const m=new URLSearchParams(o.search);for(const i in u)m.set(i,u[i]);for(const i in s.params)m.set(i,s.params[i]);o.search=new URLSearchParams(m).toString();let y=t&&t.headers?t.headers:{};n.headers={...l,...y,...s.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:o.pathname+o.search+o.hash,options:n}},apiSysPluginRemoveAssemblyAssemblyNamePost:async(e,s={})=>{if(e==null)throw new X("assemblyName","Required parameter assemblyName was null or undefined when calling apiSysPluginRemoveAssemblyAssemblyNamePost.");const r="/api/sysPlugin/removeAssembly/{assemblyName}".replace("{assemblyName}",encodeURIComponent(String(e))),o=new URL(r,"https://example.com");let t;a&&(t=a.baseOptions);const n={method:"POST",...t,...s},l={},u={};if(a&&a.accessToken){const d=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;l.Authorization="Bearer "+d}const m=new URLSearchParams(o.search);for(const d in u)m.set(d,u[d]);for(const d in s.params)m.set(d,s.params[d]);o.search=new URLSearchParams(m).toString();let y=t&&t.headers?t.headers:{};return n.headers={...l,...y,...s.headers},{url:o.pathname+o.search+o.hash,options:n}},apiSysPluginUpdatePost:async(e,s={})=>{const r="/api/sysPlugin/update",o=new URL(r,"https://example.com");let t;a&&(t=a.baseOptions);const n={method:"POST",...t,...s},l={},u={};if(a&&a.accessToken){const i=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;l.Authorization="Bearer "+i}l["Content-Type"]="application/json-patch+json";const m=new URLSearchParams(o.search);for(const i in u)m.set(i,u[i]);for(const i in s.params)m.set(i,s.params[i]);o.search=new URLSearchParams(m).toString();let y=t&&t.headers?t.headers:{};n.headers={...l,...y,...s.headers};const d=typeof e!="string"||n.headers["Content-Type"]==="application/json";return n.data=d?JSON.stringify(e!==void 0?e:{}):e||"",{url:o.pathname+o.search+o.hash,options:n}}}},V=function(a){return{async apiSysPluginAddPost(e,s){const r=await b(a).apiSysPluginAddPost(e,s);return(o=f,t=_)=>{const n={...r.options,url:t+r.url};return o.request(n)}},async apiSysPluginCompileAssemblyPost(e,s,r){const o=await b(a).apiSysPluginCompileAssemblyPost(e,s,r);return(t=f,n=_)=>{const l={...o.options,url:n+o.url};return t.request(l)}},async apiSysPluginDeletePost(e,s){const r=await b(a).apiSysPluginDeletePost(e,s);return(o=f,t=_)=>{const n={...r.options,url:t+r.url};return o.request(n)}},async apiSysPluginPagePost(e,s){const r=await b(a).apiSysPluginPagePost(e,s);return(o=f,t=_)=>{const n={...r.options,url:t+r.url};return o.request(n)}},async apiSysPluginRemoveAssemblyAssemblyNamePost(e,s){const r=await b(a).apiSysPluginRemoveAssemblyAssemblyNamePost(e,s);return(o=f,t=_)=>{const n={...r.options,url:t+r.url};return o.request(n)}},async apiSysPluginUpdatePost(e,s){const r=await b(a).apiSysPluginUpdatePost(e,s);return(o=f,t=_)=>{const n={...r.options,url:t+r.url};return o.request(n)}}}};class q extends K{async apiSysPluginAddPost(e,s){return V(this.configuration).apiSysPluginAddPost(e,s).then(r=>r(this.axios,this.basePath))}async apiSysPluginCompileAssemblyPost(e,s,r){return V(this.configuration).apiSysPluginCompileAssemblyPost(e,s,r).then(o=>o(this.axios,this.basePath))}async apiSysPluginDeletePost(e,s){return V(this.configuration).apiSysPluginDeletePost(e,s).then(r=>r(this.axios,this.basePath))}async apiSysPluginPagePost(e,s){return V(this.configuration).apiSysPluginPagePost(e,s).then(r=>r(this.axios,this.basePath))}async apiSysPluginRemoveAssemblyAssemblyNamePost(e,s){return V(this.configuration).apiSysPluginRemoveAssemblyAssemblyNamePost(e,s).then(r=>r(this.axios,this.basePath))}async apiSysPluginUpdatePost(e,s){return V(this.configuration).apiSysPluginUpdatePost(e,s).then(r=>r(this.axios,this.basePath))}}const Y={class:"sys-plugin-container"},Z={style:{color:"#fff"}},ee={class:"dialog-footer"},se=N({name:"sysEditPlugin"}),le=N({...se,props:{title:String},emits:["handleQuery"],setup(a,{expose:e,emit:s}){const r=a,o=s,t=F(),n=F(),l=J({isShowDialog:!1,ruleForm:{},selectedTabName:"0"});var u=null;const m=()=>{u=G.create(n.value,{theme:"vs-dark",value:"",language:"csharp",formatOnPaste:!0,wordWrap:"on",wrappingIndent:"indent",folding:!0,foldingHighlight:!0,foldingStrategy:"indentation",showFoldingControls:"always",disableLayerHinting:!0,emptySelectionClipboard:!1,selectionClipboard:!1,automaticLayout:!0,codeLens:!1,scrollBeyondLastLine:!1,colorDecorators:!0,accessibilitySupport:"auto",lineNumbers:"on",lineNumbersMinChars:5,readOnly:!1})},y=k=>{var h;l.ruleForm=JSON.parse(JSON.stringify(k)),l.isShowDialog=!0,(h=t.value)==null||h.resetFields(),setTimeout(()=>{u==null&&m()},1)},d=()=>{o("handleQuery"),l.isShowDialog=!1},i=()=>{l.isShowDialog=!1},S=()=>{t.value.validate(async k=>{if(k){if(l.ruleForm.csharpCode=u.getValue(),l.ruleForm.csharpCode.length<100){$.warning("请正确编写 C# 代码");return}l.ruleForm.id!=null&&l.ruleForm.id>0?await v(q).apiSysPluginUpdatePost(l.ruleForm):await v(q).apiSysPluginAddPost(l.ruleForm),d()}})};return e({openDialog:y}),(k,h)=>{const L=P("ele-Edit"),j=P("el-icon"),O=P("el-input"),w=P("el-form-item"),A=P("el-col"),B=P("el-input-number"),R=P("el-radio"),D=P("el-radio-group"),z=P("el-row"),E=P("el-form"),U=P("el-tab-pane"),H=P("el-tabs"),C=P("el-button"),Q=P("el-dialog");return I(),M("div",Y,[c(Q,{modelValue:l.isShowDialog,"onUpdate:modelValue":h[6]||(h[6]=g=>l.isShowDialog=g),draggable:"","close-on-click-modal":!1,width:"900px"},{header:p(()=>[T("div",Z,[c(j,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:p(()=>[c(L)]),_:1}),T("span",null,W(r.title),1)])]),footer:p(()=>[T("span",ee,[c(C,{onClick:i},{default:p(()=>[x("取 消")]),_:1}),c(C,{type:"primary",onClick:S},{default:p(()=>[x("确 定")]),_:1})])]),default:p(()=>[c(H,{modelValue:l.selectedTabName,"onUpdate:modelValue":h[5]||(h[5]=g=>l.selectedTabName=g)},{default:p(()=>[c(U,{label:"插件信息"},{default:p(()=>[c(E,{model:l.ruleForm,ref_key:"ruleFormRef",ref:t,"label-width":"auto",style:{height:"500px"}},{default:p(()=>[c(z,{gutter:35},{default:p(()=>[c(A,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p(()=>[c(w,{label:"功能名称",prop:"name",rules:[{required:!0,message:"功能名称不能为空",trigger:"blur"}]},{default:p(()=>[c(O,{modelValue:l.ruleForm.name,"onUpdate:modelValue":h[0]||(h[0]=g=>l.ruleForm.name=g),placeholder:"功能名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),c(A,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p(()=>[c(w,{label:"程序集名称"},{default:p(()=>[c(O,{modelValue:l.ruleForm.assemblyName,"onUpdate:modelValue":h[1]||(h[1]=g=>l.ruleForm.assemblyName=g),placeholder:"程序集名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),c(A,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p(()=>[c(w,{label:"排序"},{default:p(()=>[c(B,{modelValue:l.ruleForm.orderNo,"onUpdate:modelValue":h[2]||(h[2]=g=>l.ruleForm.orderNo=g),placeholder:"排序",class:"w100"},null,8,["modelValue"])]),_:1})]),_:1}),c(A,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:p(()=>[c(w,{label:"状态"},{default:p(()=>[c(D,{modelValue:l.ruleForm.status,"onUpdate:modelValue":h[3]||(h[3]=g=>l.ruleForm.status=g)},{default:p(()=>[c(R,{label:1},{default:p(()=>[x("启用")]),_:1}),c(R,{label:2},{default:p(()=>[x("禁用")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),c(A,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:p(()=>[c(w,{label:"备注"},{default:p(()=>[c(O,{modelValue:l.ruleForm.remark,"onUpdate:modelValue":h[4]||(h[4]=g=>l.ruleForm.remark=g),placeholder:"请输入备注内容",clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),c(U,{label:"C# 代码"},{default:p(()=>[T("div",{ref_key:"monacoEditorRef",ref:n,style:{width:"100%",height:"500px"}},null,512)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}});export{q as S,le as _};

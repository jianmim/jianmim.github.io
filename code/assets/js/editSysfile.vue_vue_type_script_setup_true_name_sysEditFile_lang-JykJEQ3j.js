import{g as C}from"./index-xdJ7pE-g.js";import{S as A}from"./sys-file-api-d-cf0cgU.js";import{k as u,r as B,L as O,t as s,x as U,M as I,D as l,A as t,O as r,T as J,S as c,E as d}from"./store-dof5ccn5.js";const M={class:"sys-file-container"},P={style:{color:"#fff"}},Q={class:"dialog-footer"},R=u({name:"sysEditFile"}),L=u({...R,props:{title:String,sysFileId:Number},emits:["handleQuery"],setup(_,{expose:p,emit:f}){const g=_,y=f,i=B(),e=O({isShowDialog:!1,ruleForm:{}}),h=a=>{var o;e.ruleForm=JSON.parse(JSON.stringify(a)),e.isShowDialog=!0,(o=i.value)==null||o.resetFields()},F=()=>{y("handleQuery"),e.isShowDialog=!1},S=()=>{e.isShowDialog=!1},w=()=>{i.value.validate(async a=>{a&&(e.ruleForm.id!=null&&e.ruleForm.id>0&&await C(A).apiSysFileUpdatePost(e.ruleForm).then(o=>{o.data.code==200?d.success("修改文件信息成功！"):d.error("修改文件信息失败："+o.data.message)}),F())})};return p({openDialog:h}),(a,o)=>{const b=s("ele-Edit"),x=s("el-icon"),D=s("el-input"),v=s("el-form-item"),N=s("el-col"),V=s("el-row"),k=s("el-form"),m=s("el-button"),E=s("el-dialog");return U(),I("div",M,[l(E,{modelValue:e.isShowDialog,"onUpdate:modelValue":o[1]||(o[1]=n=>e.isShowDialog=n),draggable:"","close-on-click-modal":!1,width:"500px"},{header:t(()=>[r("div",P,[l(x,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:t(()=>[l(b)]),_:1}),r("span",null,J(g.title),1)])]),footer:t(()=>[r("span",Q,[l(m,{onClick:S},{default:t(()=>[c("取 消")]),_:1}),l(m,{type:"primary",onClick:w},{default:t(()=>[c("确 定")]),_:1})])]),default:t(()=>[l(k,{model:e.ruleForm,ref_key:"ruleFormRef",ref:i,"label-width":"auto"},{default:t(()=>[l(V,null,{default:t(()=>[l(N,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[l(v,{label:"文件名称",prop:"fileName",rules:[{required:!0,message:"文件名称不能为空",trigger:"blur"}]},{default:t(()=>[l(D,{modelValue:e.ruleForm.fileName,"onUpdate:modelValue":o[0]||(o[0]=n=>e.ruleForm.fileName=n),placeholder:"文件名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{L as _};

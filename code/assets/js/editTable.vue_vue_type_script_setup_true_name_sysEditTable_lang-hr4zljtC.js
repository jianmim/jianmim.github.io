import{g as N}from"./index-xdJ7pE-g.js";import{S as k}from"./sys-database-api-YLh-8THg.js";import{k as p,r as T,L as C,t as a,x as E,M as U,D as e,A as o,O as i,S as _}from"./store-dof5ccn5.js";const A={class:"sys-dbTable-container"},B={style:{color:"#fff"}},O=i("span",null," 表编辑 ",-1),q={class:"dialog-footer"},J=p({name:"sysEditTable"}),I=p({...J,emits:["handleQueryTable"],setup(P,{expose:f,emit:g}){const b=g,n=T(),l=C({isShowDialog:!1,ruleForm:{}}),y=r=>{var t;l.ruleForm=JSON.parse(JSON.stringify(r)),l.isShowDialog=!0,(t=n.value)==null||t.resetFields()},h=()=>{b("handleQueryTable"),l.isShowDialog=!1},x=()=>{l.isShowDialog=!1},w=()=>{n.value.validate(async r=>{r&&(await N(k).apiSysDatabaseUpdateTablePost(l.ruleForm),h())})};return f({openDialog:y}),(r,t)=>{const S=a("ele-Edit"),V=a("el-icon"),m=a("el-input"),d=a("el-form-item"),c=a("el-col"),D=a("el-row"),F=a("el-form"),u=a("el-button"),v=a("el-dialog");return E(),U("div",A,[e(v,{modelValue:l.isShowDialog,"onUpdate:modelValue":t[2]||(t[2]=s=>l.isShowDialog=s),draggable:"","close-on-click-modal":!1,width:"700px"},{header:o(()=>[i("div",B,[e(V,{size:"16",style:{"margin-right":"3px",display:"inline","vertical-align":"middle"}},{default:o(()=>[e(S)]),_:1}),O])]),footer:o(()=>[i("span",q,[e(u,{onClick:x},{default:o(()=>[_("取 消")]),_:1}),e(u,{type:"primary",onClick:w},{default:o(()=>[_("确 定")]),_:1})])]),default:o(()=>[e(F,{model:l.ruleForm,ref_key:"ruleFormRef",ref:n,"label-width":"auto"},{default:o(()=>[e(D,{gutter:35},{default:o(()=>[e(c,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[e(d,{label:"表名称",prop:"tableName",rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]},{default:o(()=>[e(m,{modelValue:l.ruleForm.tableName,"onUpdate:modelValue":t[0]||(t[0]=s=>l.ruleForm.tableName=s),placeholder:"表名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:o(()=>[e(d,{label:"描述",prop:"description",rules:[{required:!0,message:"描述不能为空",trigger:"blur"}]},{default:o(()=>[e(m,{modelValue:l.ruleForm.description,"onUpdate:modelValue":t[1]||(t[1]=s=>l.ruleForm.description=s),placeholder:"描述",clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{I as _};

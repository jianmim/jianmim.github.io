import{k as C,r as j,L as q,l as F,p as X,t as d,x as M,M as b,D as e,A as i,a4 as _,a5 as D,S as s,O as y,F as Y,ao as K,ai as Q,E as S,X as ee,Y as te,y as P,T as L}from"./store-dof5ccn5.js";import ie from"./preview-0euLzwVu.js";import{_ as le}from"./_plugin-vue_export-helper-x3n3nnut.js";const O=""+new URL("../png/logo-AfVVtLbj.png",import.meta.url).href,ne=function(){var u=function(f){f.removePrintElementTypes("aProviderModule")};return{addElementTypes:u}},oe=function(){var u=function(f){f.removePrintElementTypes("bProviderModule"),f.addPrintElementTypes("bProviderModule",[new hiprint.PrintElementTypeGroup("【常规】",[{tid:"bProviderModule.header",title:"单据表头",data:"单据表头",type:"text",options:{testData:"单据表头",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"bProviderModule.type",title:"单据类型",data:"单据类型",type:"text",options:{testData:"单据类型",height:16,fontSize:15,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"bProviderModule.order",title:"订单编号",data:"ZUO18020030720",type:"text",options:{field:"orderId",testData:"ZUO18020030720",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"bProviderModule.date",title:"业务日期",data:"2023-07-20",type:"text",options:{field:"date",testData:"2023-07-20",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"bProviderModule.barcode",title:"条形码",data:"18020030720",type:"text",options:{testData:"ZUO18020030720",height:32,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"barcode"}},{tid:"bProviderModule.qrcode",title:"二维码",data:"ZUO18020030720",type:"text",options:{testData:"ZUO18020030720",height:64,width:64,fontSize:12,lineHeight:18,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle",textType:"qrcode"}},{tid:"bProviderModule.platform",title:"平台名称",data:"平台名称",type:"text",options:{testData:"平台名称",height:17,fontSize:16.5,fontWeight:"700",textAlign:"center",hideTitle:!0}},{tid:"bProviderModule.image",title:"Logo",data:O,type:"image"}]),new hiprint.PrintElementTypeGroup("【客户】",[{tid:"bProviderModule.khname",title:"客户名称",data:"高级客户",type:"text",options:{field:"name",testData:"高级客户",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}},{tid:"bProviderModule.tel",title:"客户电话",data:"18020030720",type:"text",options:{field:"tel",testData:"18020030720",height:16,fontSize:6.75,fontWeight:"700",textAlign:"left",textContentVerticalAlign:"middle"}}]),new hiprint.PrintElementTypeGroup("【表格/其他】",[{tid:"bProviderModule.table",title:"订单数据",type:"table",options:{field:"table",fields:[{text:"名称",field:"NAME"},{text:"数量",field:"SL"},{text:"规格",field:"GG"},{text:"条码",field:"TM"},{text:"单价",field:"DJ"},{text:"金额",field:"JE"},{text:"备注",field:"DETAIL"}]},editable:!0,columnDisplayEditable:!0,columnDisplayIndexEditable:!0,columnTitleEditable:!0,columnResizable:!0,columnAlignEditable:!0,columns:[[{title:"名称",align:"center",field:"NAME",width:100},{title:"数量",align:"center",field:"SL",width:100},{title:"条码",align:"center",field:"TM",width:100},{title:"规格",align:"center",field:"GG",width:100},{title:"单价",align:"center",field:"DJ",width:100},{title:"金额",align:"center",field:"JE",width:100},{title:"备注",align:"center",field:"DETAIL",width:100}]]},{tid:"bProviderModule.customText",title:"文本",customText:"自定义文本",custom:!0,type:"text"},{tid:"bProviderModule.longText",title:"长文本",type:"longText",options:{field:"test.longText",width:200,testData:"长文本分页/不分页测试"}}]),new hiprint.PrintElementTypeGroup("【辅助】",[{tid:"bProviderModule.hline",title:"横线",type:"hline"},{tid:"bProviderModule.vline",title:"竖线",type:"vline"},{tid:"bProviderModule.rect",title:"矩形",type:"rect"},{tid:"bProviderModule.oval",title:"椭圆",type:"oval"}])])};return{addElementTypes:u}},V=[{name:"A设计",value:"aProviderModule",type:1,f:ne()},{name:"B设计",value:"bProviderModule",type:2,f:oe()}],ae={barCode:"Admin.NET",qrCode:"二维码",longText:"长文本",imageUrl:O,table:[{NAME:"测试商品01",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品02",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品03",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品04",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品05",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品06",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品07",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品08",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品09",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品10",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品11",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品12",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品13",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品14",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品15",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品16",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品17",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品18",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品19",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品20",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品21",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品22",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品23",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品24",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品25",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品26",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品27",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品28",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品29",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"},{NAME:"测试商品30",SL:2,GG:"1*24g",TM:"2O22010100110",DJ:"6.8",JE:"13.6"}]},N=u=>(ee("data-v-2340d56e"),u=u(),te(),u),re={style:{display:"flex","align-items":"center","justify-content":"space-between","margin-bottom":"10px"}},pe=N(()=>y("div",{id:"hiprint-printTemplate",class:"hiprint-printTemplate"},null,-1)),de=N(()=>y("div",{id:"PrintElementOptionSetting"},null,-1)),se=C({name:"hiprintDesign"}),ue=C({...se,setup(u,{expose:f}){const J=j(),l=q({mode:0,modeList:[],curPaper:{type:"A4",width:220,height:296.6},paperTypes:{A3:{width:420,height:296.6},A4:{width:210,height:296.6},A5:{width:210,height:147.6},B3:{width:500,height:352.6},B4:{width:250,height:352.6},B5:{width:250,height:175.6}},scaleValue:1,scaleMax:5,scaleMin:.5,paperPopVisible:!1,paperWidth:220,paperHeight:80,templateDialogVisible:!1,templateContent:""}),G=F(()=>{let n="other",t=l.paperTypes;for(const r in t){let p=t[r],{width:c,height:a}=l.curPaper;p.width===c&&p.height===a&&(n=r)}return n}),x=()=>{let n=V[l.mode];hiprint.init({providers:[n.f]});const t=document.getElementById("hiprintEpContainer");t&&(t.innerHTML=""),hiprint.PrintElementTypeManager.build(".hiprintEpContainer",n.value);const r=document.getElementById("hiprint-printTemplate");r&&(r.innerHTML="")},A=(n,t)=>{try{Object.keys(l.paperTypes).includes(n)?l.curPaper={type:n,width:t.width,height:t.height}:l.curPaper={type:"other",width:t.width,height:t.height}}catch(r){S.error(`操作失败: ${r}`)}},k=(n,t)=>{let r=!1;n<=t?r=!1:r=!0;let p=l.scaleValue;r?(p+=.1,p>l.scaleMax&&(p=5)):(p-=.1,p<l.scaleMin&&(p=.5)),hiprintTemplate.value&&(hiprintTemplate.value.zoom(p),l.scaleValue=p)},B=()=>{hiprintTemplate.value&&hiprintTemplate.value.rotatePaper()},m=n=>{hiprintTemplate.value.setElsAlign(n)},W=()=>{Q.confirm("是否确认清空模板信息?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{try{hiprintTemplate.value.clear()}catch(n){S.error(`操作失败: ${n}`)}}).catch(n=>{console.log(n)})},z=()=>{let n={width:0,height:0};n.width=l.paperWidth,n.height=l.paperHeight,l.paperPopVisible=!1,A("other",n)},I=()=>{let{width:n}=l.curPaper;J.value.showDialog(hiprintTemplate.value,ae,n)},U=()=>{console.log("直接打印")},$=()=>{if(hiprintTemplate.value){var n=JSON.stringify(hiprintTemplate.value.getJson()||{});l.templateContent=JSON.parse(n),l.templateDialogVisible=!0}};return X(()=>{l.modeList=V.map(n=>({type:n.type,name:n.name,value:n.value})),x()}),f({hiprintTemplate}),(n,t)=>{const r=d("el-option"),p=d("el-select"),c=d("el-col"),a=d("el-button"),w=d("el-input"),H=d("el-popover"),T=d("el-button-group"),R=d("el-input-number"),g=d("el-tooltip"),E=d("el-row"),v=d("el-card"),Z=d("el-drawer");return M(),b(_,null,[e(E,{gutter:8,style:{"margin-bottom":"5px"}},{default:i(()=>[e(c,{span:4},{default:i(()=>[e(p,{modelValue:l.mode,"onUpdate:modelValue":t[0]||(t[0]=o=>l.mode=o),showSearch:"",onChange:x,defaultValue:0,"option-label-prop":"label",class:"w100"},{default:i(()=>[(M(!0),b(_,null,D(l.modeList,(o,h)=>(M(),P(r,{key:h,label:o.name,value:h},{default:i(()=>[s(L(o.name),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(c,{span:20},{default:i(()=>[e(T,{style:{margin:"0 2px"}},{default:i(()=>[(M(!0),b(_,null,D(l.paperTypes,(o,h)=>(M(),P(a,{type:G.value===h?"primary":"",onClick:me=>A(h,o),key:h},{default:i(()=>[s(L(h),1)]),_:2},1032,["type","onClick"]))),128)),e(H,{modelValue:l.paperPopVisible,"onUpdate:modelValue":t[3]||(t[3]=o=>l.paperPopVisible=o),placement:"bottom",width:"300",title:"设置纸张宽高(mm)"},{reference:i(()=>[e(a,{type:G.value=="other"?"primary":"",style:{margin:"0 10px"}},{default:i(()=>[s("自定义宽高")]),_:1},8,["type"])]),default:i(()=>[y("div",re,[e(w,{type:"number",modelValue:l.paperWidth,"onUpdate:modelValue":t[1]||(t[1]=o=>l.paperWidth=o),style:{width:"100px","text-align":"center"},place:"宽（mm）"},null,8,["modelValue"]),s("~ "),e(w,{type:"number",modelValue:l.paperHeight,"onUpdate:modelValue":t[2]||(t[2]=o=>l.paperHeight=o),style:{width:"100px","text-align":"center"},place:"高（mm）"},null,8,["modelValue"])]),y("div",null,[e(a,{type:"primary",style:{width:"100%"},onClick:z},{default:i(()=>[s("确定")]),_:1})])]),_:1},8,["modelValue"])]),_:1}),e(R,{style:{"margin-right":"8px"},value:l.scaleValue,precision:2,step:.1,min:l.scaleMin,max:l.scaleMax,onChange:k},null,8,["value","min","max"]),e(T,null,{default:i(()=>[e(g,{content:"左对齐",placement:"bottom"},{default:i(()=>[e(a,{icon:"ele-Back",onClick:t[4]||(t[4]=o=>m("left"))})]),_:1}),e(g,{content:"居中",placement:"bottom"},{default:i(()=>[e(a,{icon:"ele-FullScreen",onClick:t[5]||(t[5]=o=>m("vertical"))})]),_:1}),e(g,{content:"右对齐",placement:"bottom"},{default:i(()=>[e(a,{icon:"ele-Right",onClick:t[6]||(t[6]=o=>m("right"))})]),_:1}),e(g,{content:"顶对齐",placement:"bottom"},{default:i(()=>[e(a,{icon:"ele-Top",onClick:t[7]||(t[7]=o=>m("top"))})]),_:1}),e(g,{content:"垂直居中",placement:"bottom"},{default:i(()=>[e(a,{icon:"ele-DCaret",onClick:t[8]||(t[8]=o=>m("horizontal"))})]),_:1}),e(g,{content:"底对齐",placement:"bottom"},{default:i(()=>[e(a,{icon:"ele-Bottom",onClick:t[9]||(t[9]=o=>m("bottom"))})]),_:1}),e(g,{content:"横向分散",placement:"bottom"},{default:i(()=>[e(a,{icon:"ele-Sort",onClick:t[10]||(t[10]=o=>m("distributeHor"))})]),_:1}),e(g,{content:"纵向分散",placement:"bottom"},{default:i(()=>[e(a,{icon:"ele-Switch",onClick:t[11]||(t[11]=o=>m("distributeVer"))})]),_:1})]),_:1}),e(T,{style:{"margin-left":"8px"}},{default:i(()=>[e(a,{type:"primary",icon:"ele-RefreshRight",onClick:B},{default:i(()=>[s(" 旋转 ")]),_:1}),e(a,{type:"primary",icon:"ele-View",onClick:I},{default:i(()=>[s(" 预览 ")]),_:1}),e(a,{type:"primary",icon:"ele-Printer",onClick:U},{default:i(()=>[s(" 直接打印 ")]),_:1}),e(a,{type:"primary",icon:"ele-CircleCheck",onClick:$},{default:i(()=>[s(" 模板JSON ")]),_:1}),e(a,{type:"danger",icon:"ele-Delete",onClick:W},{default:i(()=>[s(" 清空模板 ")]),_:1})]),_:1})]),_:1})]),_:1}),e(E,{gutter:8},{default:i(()=>[e(c,{span:4},{default:i(()=>[e(v,{style:{height:"100%"},shadow:"never"},{default:i(()=>[e(E,null,{default:i(()=>[e(c,{span:24,id:"hiprintEpContainer",class:"rect-printElement-types hiprintEpContainer"})]),_:1})]),_:1})]),_:1}),e(c,{span:14},{default:i(()=>[e(v,{shadow:"never",class:"card-design"},{default:i(()=>[pe]),_:1})]),_:1}),e(c,{span:6,class:"params_setting_container"},{default:i(()=>[e(v,{shadow:"never"},{default:i(()=>[e(E,{class:"hinnn-layout-sider"},{default:i(()=>[de]),_:1})]),_:1})]),_:1})]),_:1}),e(Z,{title:"打印模板",modelValue:l.templateDialogVisible,"onUpdate:modelValue":t[12]||(t[12]=o=>l.templateDialogVisible=o)},{default:i(()=>[e(Y(K),{data:l.templateContent,showLength:"",showIcon:"",showLineNumber:"",showSelectController:""},null,8,["data"])]),_:1},8,["modelValue"]),e(ie,{ref_key:"preViewRef",ref:J},null,512)],64)}}}),fe=le(ue,[["__scopeId","data-v-2340d56e"]]);export{fe as default};

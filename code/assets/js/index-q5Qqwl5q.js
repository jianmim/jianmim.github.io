import{B as g,d as k,g as b}from"./index-zQlakb1H.js";import{b as x,k as T,L as O,p as D,a9 as L,aG as q,t as v,x as I,M as w,D as _,A as i,O as s,T as c,S as f,a4 as G,a5 as R,X as z,Y as C,y as F}from"./store-dof5ccn5.js";import{_ as E}from"./_plugin-vue_export-helper-x3n3nnut.js";const U=function(a){return{apiSysServerAssemblyListGet:async(e={})=>{const o="/api/sysServer/assemblyList",r=new URL(o,"https://example.com");let n;a&&(n=a.baseOptions);const l={method:"GET",...n,...e},p={},h={};if(a&&a.accessToken){const t=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;p.Authorization="Bearer "+t}const m=new URLSearchParams(r.search);for(const t in h)m.set(t,h[t]);for(const t in e.params)m.set(t,e.params[t]);r.search=new URLSearchParams(m).toString();let y=n&&n.headers?n.headers:{};return l.headers={...p,...y,...e.headers},{url:r.pathname+r.search+r.hash,options:l}},apiSysServerServerBaseGet:async(e={})=>{const o="/api/sysServer/serverBase",r=new URL(o,"https://example.com");let n;a&&(n=a.baseOptions);const l={method:"GET",...n,...e},p={},h={};if(a&&a.accessToken){const t=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;p.Authorization="Bearer "+t}const m=new URLSearchParams(r.search);for(const t in h)m.set(t,h[t]);for(const t in e.params)m.set(t,e.params[t]);r.search=new URLSearchParams(m).toString();let y=n&&n.headers?n.headers:{};return l.headers={...p,...y,...e.headers},{url:r.pathname+r.search+r.hash,options:l}},apiSysServerServerDiskGet:async(e={})=>{const o="/api/sysServer/serverDisk",r=new URL(o,"https://example.com");let n;a&&(n=a.baseOptions);const l={method:"GET",...n,...e},p={},h={};if(a&&a.accessToken){const t=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;p.Authorization="Bearer "+t}const m=new URLSearchParams(r.search);for(const t in h)m.set(t,h[t]);for(const t in e.params)m.set(t,e.params[t]);r.search=new URLSearchParams(m).toString();let y=n&&n.headers?n.headers:{};return l.headers={...p,...y,...e.headers},{url:r.pathname+r.search+r.hash,options:l}},apiSysServerServerUsedGet:async(e={})=>{const o="/api/sysServer/serverUsed",r=new URL(o,"https://example.com");let n;a&&(n=a.baseOptions);const l={method:"GET",...n,...e},p={},h={};if(a&&a.accessToken){const t=typeof a.accessToken=="function"?await a.accessToken():await a.accessToken;p.Authorization="Bearer "+t}const m=new URLSearchParams(r.search);for(const t in h)m.set(t,h[t]);for(const t in e.params)m.set(t,e.params[t]);r.search=new URLSearchParams(m).toString();let y=n&&n.headers?n.headers:{};return l.headers={...p,...y,...e.headers},{url:r.pathname+r.search+r.hash,options:l}}}},B=function(a){return{async apiSysServerAssemblyListGet(e){const o=await U(a).apiSysServerAssemblyListGet(e);return(r=x,n=k)=>{const l={...o.options,url:n+o.url};return r.request(l)}},async apiSysServerServerBaseGet(e){const o=await U(a).apiSysServerServerBaseGet(e);return(r=x,n=k)=>{const l={...o.options,url:n+o.url};return r.request(l)}},async apiSysServerServerDiskGet(e){const o=await U(a).apiSysServerServerDiskGet(e);return(r=x,n=k)=>{const l={...o.options,url:n+o.url};return r.request(l)}},async apiSysServerServerUsedGet(e){const o=await U(a).apiSysServerServerUsedGet(e);return(r=x,n=k)=>{const l={...o.options,url:n+o.url};return r.request(l)}}}};class A extends g{async apiSysServerAssemblyListGet(e){return B(this.configuration).apiSysServerAssemblyListGet(e).then(o=>o(this.axios,this.basePath))}async apiSysServerServerBaseGet(e){return B(this.configuration).apiSysServerServerBaseGet(e).then(o=>o(this.axios,this.basePath))}async apiSysServerServerDiskGet(e){return B(this.configuration).apiSysServerServerDiskGet(e).then(o=>o(this.axios,this.basePath))}async apiSysServerServerUsedGet(e){return B(this.configuration).apiSysServerServerUsedGet(e).then(o=>o(this.axios,this.basePath))}}const d=a=>(z("data-v-4f9b5cfc"),a=a(),C(),a),N={class:"sys-server-container"},H={class:"sysInfo_table"},M=d(()=>s("td",{class:"sysInfo_td"},"主机名称：",-1)),j={class:"sysInfo_td"},Q=d(()=>s("td",{class:"sysInfo_td"},"操作系统：",-1)),X={class:"sysInfo_td"},Y=d(()=>s("td",{class:"sysInfo_td"},"系统架构：",-1)),J={class:"sysInfo_td"},K=d(()=>s("td",{class:"sysInfo_td"},"CPU核数：",-1)),W={class:"sysInfo_td"},Z=d(()=>s("td",{class:"sysInfo_td"},"运行时长：",-1)),$={class:"sysInfo_td"},ee=d(()=>s("td",{class:"sysInfo_td"},"外网地址：",-1)),se={class:"sysInfo_td"},ae=d(()=>s("td",{class:"sysInfo_td"},"内网地址：",-1)),te={class:"sysInfo_td"},re=d(()=>s("td",{class:"sysInfo_td"},"运行框架：",-1)),ne={class:"sysInfo_td"},oe=d(()=>s("br",null,null,-1)),ce={style:{"font-size":"10px"}},le=d(()=>s("br",null,null,-1)),ie=d(()=>s("br",null,null,-1)),de=d(()=>s("br",null,null,-1)),he=d(()=>s("span",{style:{"font-size":"10px"}}," CPU使用率 ",-1)),_e={class:"sysInfo_table"},me=d(()=>s("td",{class:"sysInfo_td"},"启动时间：",-1)),pe={class:"sysInfo_td"},ye=d(()=>s("td",{class:"sysInfo_td"},"运行时长：",-1)),ue={class:"sysInfo_td"},fe=d(()=>s("td",{class:"sysInfo_td"},"网站目录：",-1)),Se={class:"sysInfo_td"},ve=d(()=>s("td",{class:"sysInfo_td"},"开发环境：",-1)),Ie={class:"sysInfo_td"},ke=d(()=>s("td",{class:"sysInfo_td"},"环境变量：",-1)),be={class:"sysInfo_td"},xe={style:{display:"inline-flex"}},we={style:{}},Ue={style:{color:"black","font-size":"9px","margin-left":"3px"}},Be=d(()=>s("br",null,null,-1)),Ae={style:{"font-size":"10px"}},Pe=d(()=>s("br",null,null,-1)),Ge=d(()=>s("br",null,null,-1)),Re=T({name:"sysServer"}),Te=T({...Re,setup(a){const e=O({machineBaseInfo:[],machineUseInfo:[],machineDiskInfo:[],assemblyInfo:[],timer:null});D(async()=>{o(),r(),n(),l()});const o=async()=>{var h=await b(A).apiSysServerServerBaseGet();e.machineBaseInfo=h.data.result},r=async()=>{var h=await b(A).apiSysServerServerUsedGet();e.machineUseInfo=h.data.result},n=async()=>{var h=await b(A).apiSysServerServerDiskGet();e.machineDiskInfo=h.data.result},l=async()=>{var h=await b(A).apiSysServerAssemblyListGet();e.assemblyInfo=h.data.result},p=()=>{r()};return L(()=>{e.timer=setInterval(()=>{p()},1e4)}),q(()=>{clearInterval(e.timer)}),(h,m)=>{const y=v("el-card"),t=v("el-col"),P=v("el-progress"),S=v("el-row"),V=v("el-tag");return I(),w("div",N,[_(S,{gutter:8},{default:i(()=>[_(t,{md:12,sm:24},{default:i(()=>[_(y,{shadow:"hover",header:"系统信息"},{default:i(()=>[s("table",H,[s("tr",null,[M,s("td",j,c(e.machineBaseInfo.hostName),1)]),s("tr",null,[Q,s("td",X,c(e.machineBaseInfo.systemOs),1)]),s("tr",null,[Y,s("td",J,c(e.machineBaseInfo.osArchitecture),1)]),s("tr",null,[K,s("td",W,c(e.machineBaseInfo.processorCount),1)]),s("tr",null,[Z,s("td",$,c(e.machineBaseInfo.sysRunTime),1)]),s("tr",null,[ee,s("td",se,c(e.machineBaseInfo.remoteIp),1)]),s("tr",null,[ae,s("td",te,c(e.machineBaseInfo.localIp),1)]),s("tr",null,[re,s("td",ne,c(e.machineBaseInfo.frameworkDescription),1)])])]),_:1})]),_:1}),_(t,{md:12,sm:24},{default:i(()=>[_(y,{shadow:"hover",header:"使用信息"},{default:i(()=>[_(S,null,{default:i(()=>[_(t,{xs:12,sm:12,md:12,lg:12,xl:12,style:{"text-align":"center"}},{default:i(()=>[_(P,{type:"dashboard",percentage:parseInt(e.machineUseInfo.ramRate==null?0:e.machineUseInfo.ramRate.substr(0,e.machineUseInfo.ramRate.length-1)),color:"var(--el-color-primary)"},{default:i(()=>[s("span",null,[f(c(e.machineUseInfo.ramRate),1),oe]),s("span",ce,[f(" 已用:"+c(e.machineUseInfo.usedRam),1),le,f(" 剩余:"+c(e.machineUseInfo.freeRam),1),ie,f(" 内存使用率 ")])]),_:1},8,["percentage","color"])]),_:1}),_(t,{xs:12,sm:12,md:12,lg:12,xl:12,style:{"text-align":"center"}},{default:i(()=>[_(P,{type:"dashboard",percentage:parseInt(e.machineUseInfo.cpuRate==null?0:e.machineUseInfo.cpuRate.substr(0,e.machineUseInfo.cpuRate.length-1)),color:"var(--el-color-primary)"},{default:i(()=>[s("span",null,[f(c(e.machineUseInfo.cpuRate),1),de]),he]),_:1},8,["percentage","color"])]),_:1})]),_:1}),_(S,null,{default:i(()=>[s("table",_e,[s("tr",null,[me,s("td",pe,c(e.machineUseInfo.startTime),1)]),s("tr",null,[ye,s("td",ue,c(e.machineUseInfo.runTime),1)]),s("tr",null,[fe,s("td",Se,c(e.machineBaseInfo.wwwroot),1)]),s("tr",null,[ve,s("td",Ie,c(e.machineBaseInfo.environment),1)]),s("tr",null,[ke,s("td",be,c(e.machineBaseInfo.stage),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),_(S,{gutter:8},{default:i(()=>[_(t,{md:24,sm:24},{default:i(()=>[_(y,{shadow:"hover",header:"程序集信息",style:{"margin-top":"8px","--el-card-padding":"10px"}},{default:i(()=>[(I(!0),w(G,null,R(e.assemblyInfo,u=>(I(),w("div",{key:u.name,style:{display:"inline-block",margin:"4px","text-align":"left"}},[_(V,{round:""},{default:i(()=>[s("div",xe,[s("div",we,c(u.name),1),s("div",Ue,"v"+c(u.version),1)])]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1}),_(S,{gutter:8},{default:i(()=>[_(t,{md:24,sm:24},{default:i(()=>[_(y,{shadow:"hover",header:"磁盘信息",style:{"margin-top":"8px"}},{default:i(()=>[_(S,null,{default:i(()=>[(I(!0),w(G,null,R(e.machineDiskInfo,u=>(I(),F(t,{span:4,xs:24/e.machineDiskInfo.length*2,sm:24/e.machineDiskInfo.length,md:24/e.machineDiskInfo.length,lg:24/e.machineDiskInfo.length,xl:24/e.machineDiskInfo.length,key:u.diskName,style:{"text-align":"center"}},{default:i(()=>[_(P,{type:"circle",percentage:u.availablePercent,color:"var(--el-color-primary)"},{default:i(()=>[s("span",null,[f(c(u.availablePercent)+"%",1),Be]),s("span",Ae,[f(" 已用:"+c(u.used)+"GB",1),Pe,f(" 剩余:"+c(u.availableFreeSpace)+"GB",1),Ge,f(" "+c(u.diskName),1)])]),_:2},1032,["percentage","color"])]),_:2},1032,["xs","sm","md","lg","xl"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})])}}}),De=E(Te,[["__scopeId","data-v-4f9b5cfc"]]);export{De as default};

import{k as Q,a0 as Je,r as B,L as De,p as je,t as y,a6 as q,x as s,M as $,D as e,A as t,B as D,y as p,S as n,G as c,O as A,F as P,av as Pe,T as C,ai as H,E as _}from"./store-mQZkmHj-.js";import{J as T,_ as Ce}from"./editJobDetail.vue_vue_type_script_setup_true_name_sysEditJobDetail_lang-YcwSXaGc.js";import{_ as Te}from"./editJobTrigger.vue_vue_type_script_setup_true_name_sysEditJobTrigger_lang-gC01AlgW.js";import{_ as xe}from"./jobCluster.vue_vue_type_script_setup_true_name_sysJobCluster_lang-kdnLLaxW.js";import{g as w}from"./index-lw7p-_pG.js";import{S as m}from"./sys-job-api-6u5SPWf9.js";const Se={class:"sys-job-container"},Ie={style:{display:"flex","align-items":"center"}},ze={style:{"margin-left":"5px"}},Re={key:0},Ve={key:1,style:{"text-align":"center"}},Ne=Q({name:"sysJob"}),Ae=Q({...Ne,setup(Oe){const F=Je(),j=B(),S=B(),E=B(),r=De({loading:!1,jobData:[],queryParams:{jobId:void 0,description:void 0},tableParams:{page:1,pageSize:20,total:0},tableParams2:{page:1,pageSize:20,total:0},editJobDetailTitle:"",editJobTriggerTitle:"",loading2:!1,isVisibleDrawer:!1,triggerRecordData:[],currentJob:{}});je(async()=>{v()});const v=async()=>{var f,k;r.loading=!0;let a=Object.assign(r.queryParams,r.tableParams);var o=await w(m).apiSysJobPageJobDetailPost(a);r.jobData=((f=o.data.result)==null?void 0:f.items)??[],r.tableParams.total=(k=o.data.result)==null?void 0:k.total,r.loading=!1},G=()=>{r.queryParams.jobId=void 0,r.queryParams.description=void 0,v()},L=()=>{var a;r.editJobDetailTitle="添加作业",(a=j.value)==null||a.openDialog({concurrent:!0,includeAnnotations:!0,groupName:"default",createType:T.NUMBER_2})},K=a=>{var o;r.editJobDetailTitle="编辑作业",(o=j.value)==null||o.openDialog(a.jobDetail)},W=a=>{var o;H.confirm(`确定删除作业：【${(o=a.jobDetail)==null?void 0:o.jobId}】?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{var f;await w(m).apiSysJobDeleteJobDetailPost({jobId:(f=a.jobDetail)==null?void 0:f.jobId}),v(),_.success("删除成功")}).catch(()=>{})},X=a=>{var o,f;r.editJobTriggerTitle="添加触发器",(f=S.value)==null||f.openDialog({jobId:(o=a.jobDetail)==null?void 0:o.jobId,retryTimeout:1e3,startNow:!0,runOnStart:!0,resetOnlyOnce:!0,triggerType:"Furion.Schedule.PeriodTrigger"})},Y=a=>{var o;r.editJobTriggerTitle="编辑触发器",(o=S.value)==null||o.openDialog(a)},Z=a=>{H.confirm(`确定删除触发器：【${a.triggerId}】?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await w(m).apiSysJobDeleteJobTriggerPost({jobId:a.jobId,triggerId:a.triggerId}),v(),_.success("删除成功")}).catch(()=>{})},ee=a=>{r.tableParams.pageSize=a,v()},te=a=>{r.tableParams.page=a,v()},ae=async()=>{await w(m).apiSysJobStartAllJobPost(),_.success("启动所有作业")},le=async()=>{await w(m).apiSysJobPauseAllJobPost(),_.success("暂停所有作业")},oe=async a=>{var o;await w(m).apiSysJobRunJobPost({jobId:(o=a.jobDetail)==null?void 0:o.jobId}),_.success("执行作业")},re=async a=>{var o;await w(m).apiSysJobStartJobPost({jobId:(o=a.jobDetail)==null?void 0:o.jobId}),_.success("启动作业")},ne=async a=>{var o;await w(m).apiSysJobPauseJobPost({jobId:(o=a.jobDetail)==null?void 0:o.jobId}),_.success("暂停作业")},ie=async a=>{var o;await w(m).apiSysJobCancelJobPost({jobId:(o=a.jobDetail)==null?void 0:o.jobId}),_.success("取消作业")},se=async a=>{await w(m).apiSysJobStartTriggerPost({jobId:a.jobId,triggerId:a.triggerId}),_.success("启动触发器")},de=async a=>{await w(m).apiSysJobPauseTriggerPost({jobId:a.jobId,triggerId:a.triggerId}),_.success("暂停触发器")},pe=async()=>{await w(m).apiSysJobCancelSleepPost(),_.success("强制唤醒作业调度器")},ue=async()=>{await w(m).apiSysJobPersistAllPost(),_.success("强制触发所有作业持久化")},ce=()=>{var a;(a=E.value)==null||a.openDrawer()},fe=()=>{F.push({path:"/platform/job/dashboard"})},I=a=>{if(a==null||a==="")return{};const o=JSON.parse(a),f=JSON.parse(o.HttpJob);return{requestUri:f.RequestUri,httpMethod:JSON.stringify(f.HttpMethod),body:f.Body}},be=a=>{var o,f;if(a==null||a==="")return"";for(const k in(o=j.value)==null?void 0:o.httpMethodDef)if(((f=j.value)==null?void 0:f.httpMethodDef[k])===a)return k;return""},ge=a=>{r.currentJob=a,r.isVisibleDrawer=!0,z()},z=async()=>{var o,f;r.loading2=!0;var a=await w(m).apiSysJobPageJobTriggerRecordPost({jobId:r.currentJob.jobDetail.jobId});r.triggerRecordData=((o=a.data.result)==null?void 0:o.items)??[],r.tableParams2.total=(f=a.data.result)==null?void 0:f.total,r.loading2=!1},ye=a=>{r.tableParams2.pageSize=a,z()},we=a=>{r.tableParams2.page=a,z()};return(a,o)=>{const f=y("el-input"),k=y("el-form-item"),b=y("el-button"),R=y("el-button-group"),g=y("el-tooltip"),me=y("el-form"),V=y("el-card"),d=y("el-table-column"),u=y("el-tag"),N=y("el-table"),_e=y("el-icon"),O=y("el-descriptions-item"),he=y("el-descriptions"),ke=y("el-popover"),U=y("el-pagination"),ve=y("el-drawer"),x=q("auth"),M=q("loading");return s(),$("div",Se,[e(V,{shadow:"hover","body-style":{paddingBottom:"0"}},{default:t(()=>[e(me,{model:r.queryParams,ref:"queryForm",inline:!0},{default:t(()=>[e(k,{label:"作业编号"},{default:t(()=>[e(f,{modelValue:r.queryParams.jobId,"onUpdate:modelValue":o[0]||(o[0]=l=>r.queryParams.jobId=l),placeholder:"作业编号",clearable:""},null,8,["modelValue"])]),_:1}),e(k,{label:"描述信息"},{default:t(()=>[e(f,{modelValue:r.queryParams.description,"onUpdate:modelValue":o[1]||(o[1]=l=>r.queryParams.description=l),placeholder:"描述信息",clearable:""},null,8,["modelValue"])]),_:1}),e(k,null,{default:t(()=>[e(R,null,{default:t(()=>[D((s(),p(b,{type:"primary",icon:"ele-Search",onClick:v},{default:t(()=>[n(" 查询 ")]),_:1})),[[x,"sysJob:pageJobDetail"]]),e(b,{icon:"ele-Refresh",onClick:G},{default:t(()=>[n(" 重置 ")]),_:1})]),_:1})]),_:1}),e(k,null,{default:t(()=>[e(R,{style:{margin:"0px 12px"}},{default:t(()=>[e(g,{content:"增加作业"},{default:t(()=>[D(e(b,{icon:"ele-CirclePlus",onClick:L},null,512),[[x,"sysJob:addJobDetail"]])]),_:1}),e(g,{content:"启动所有作业"},{default:t(()=>[e(b,{icon:"ele-VideoPlay",onClick:ae})]),_:1}),e(g,{content:"暂停所有作业"},{default:t(()=>[e(b,{icon:"ele-VideoPause",onClick:le})]),_:1})]),_:1}),e(R,{style:{margin:"0px 12px 0px 0px"}},{default:t(()=>[e(g,{content:"强制唤醒作业调度器"},{default:t(()=>[e(b,{icon:"ele-AlarmClock",onClick:pe})]),_:1}),e(g,{content:"强制触发所有作业持久化"},{default:t(()=>[e(b,{icon:"ele-Connection",onClick:ue})]),_:1})]),_:1}),e(b,{icon:"ele-Coin",onClick:ce,plain:""},{default:t(()=>[n(" 集群控制 ")]),_:1}),e(b,{icon:"ele-Grid",onClick:fe,plain:""},{default:t(()=>[n(" 任务看板 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(V,{class:"full-table",shadow:"hover",style:{"margin-top":"8px"}},{default:t(()=>[D((s(),p(N,{data:r.jobData,style:{width:"100%"},border:""},{default:t(()=>[e(d,{type:"expand",fixed:""},{default:t(l=>[e(N,{style:{"margin-left":"48px",width:"calc(100% - 48px)"},data:l.row.jobTriggers,border:"",size:"small"},{default:t(()=>[e(d,{type:"index",label:"序号",width:"55",align:"center",fixed:""}),e(d,{prop:"triggerId",label:"触发器编号",width:"120","header-align":"center",fixed:"","show-overflow-tooltip":""}),e(d,{prop:"triggerType",label:"类型","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"args",label:"参数","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"description",label:"描述",width:"120","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"status",label:"状态",width:"120",align:"center","show-overflow-tooltip":""},{default:t(i=>[i.row.status==0?(s(),p(u,{key:0,type:"warning",effect:"plain"},{default:t(()=>[n(" 积压 ")]),_:1})):c("",!0),i.row.status==1?(s(),p(u,{key:1,type:"",effect:"plain"},{default:t(()=>[n(" 就绪 ")]),_:1})):c("",!0),i.row.status==2?(s(),p(u,{key:2,type:"success",effect:"plain"},{default:t(()=>[n(" 正在运行 ")]),_:1})):c("",!0),i.row.status==3?(s(),p(u,{key:3,type:"danger",effect:"plain"},{default:t(()=>[n(" 暂停 ")]),_:1})):c("",!0),i.row.status==4?(s(),p(u,{key:4,type:"danger",effect:"plain"},{default:t(()=>[n(" 阻塞 ")]),_:1})):c("",!0),i.row.status==5?(s(),p(u,{key:5,type:"",effect:"plain"},{default:t(()=>[n(" 由失败进入就绪 ")]),_:1})):c("",!0),i.row.status==6?(s(),p(u,{key:6,type:"danger",effect:"plain"},{default:t(()=>[n(" 归档 ")]),_:1})):c("",!0),i.row.status==7?(s(),p(u,{key:7,type:"danger",effect:"plain"},{default:t(()=>[n(" 崩溃 ")]),_:1})):c("",!0),i.row.status==8?(s(),p(u,{key:8,type:"danger",effect:"plain"},{default:t(()=>[n(" 超限 ")]),_:1})):c("",!0),i.row.status==9?(s(),p(u,{key:9,type:"danger",effect:"plain"},{default:t(()=>[n(" 无触发时间 ")]),_:1})):c("",!0),i.row.status==10?(s(),p(u,{key:10,type:"danger",effect:"plain"},{default:t(()=>[n(" 未启动 ")]),_:1})):c("",!0),i.row.status==11?(s(),p(u,{key:11,type:"danger",effect:"plain"},{default:t(()=>[n(" 未知作业触发器 ")]),_:1})):c("",!0),i.row.status==12?(s(),p(u,{key:12,type:"danger",effect:"plain"},{default:t(()=>[n(" 未知作业处理程序 ")]),_:1})):c("",!0)]),_:2},1024),e(d,{prop:"startTime",label:"起始时间",width:"100",align:"center","show-overflow-tooltip":""}),e(d,{prop:"endTime",label:"结束时间",width:"100",align:"center","show-overflow-tooltip":""}),e(d,{prop:"lastRunTime",label:"最近运行时间",width:"130",align:"center","show-overflow-tooltip":""}),e(d,{prop:"nextRunTime",label:"下一次运行时间",width:"130",align:"center","show-overflow-tooltip":""}),e(d,{prop:"numberOfRuns",label:"触发次数",width:"100",align:"center","show-overflow-tooltip":""}),e(d,{prop:"maxNumberOfRuns",label:"最大触发次数",width:"120",align:"center","show-overflow-tooltip":""}),e(d,{prop:"numberOfErrors",label:"出错次数",width:"100",align:"center","show-overflow-tooltip":""}),e(d,{prop:"maxNumberOfErrors",label:"最大出错次数",width:"120",align:"center","show-overflow-tooltip":""}),e(d,{prop:"numRetries",label:"重试次数",width:"100",align:"center","show-overflow-tooltip":""}),e(d,{prop:"retryTimeout",label:"重试间隔ms",width:"100",align:"center","show-overflow-tooltip":""}),e(d,{prop:"startNow",label:"是否立即启动",width:"100",align:"center","show-overflow-tooltip":""},{default:t(i=>[i.row.startNow==!0?(s(),p(u,{key:0},{default:t(()=>[n(" 是 ")]),_:1})):(s(),p(u,{key:1,type:"info"},{default:t(()=>[n(" 否 ")]),_:1}))]),_:2},1024),e(d,{prop:"runOnStart",label:"是否启动时执行一次",width:"150",align:"center","show-overflow-tooltip":""},{default:t(i=>[i.row.runOnStart==!0?(s(),p(u,{key:0},{default:t(()=>[n(" 是 ")]),_:1})):(s(),p(u,{key:1,type:"info"},{default:t(()=>[n(" 否 ")]),_:1}))]),_:2},1024),e(d,{prop:"resetOnlyOnce",label:"是否重置触发次数",width:"120",align:"center","show-overflow-tooltip":""},{default:t(i=>[i.row.resetOnlyOnce==!0?(s(),p(u,{key:0},{default:t(()=>[n(" 是 ")]),_:1})):(s(),p(u,{key:1,type:"info"},{default:t(()=>[n(" 否 ")]),_:1}))]),_:2},1024),e(d,{prop:"updatedTime",label:"更新时间",width:"130",align:"center","show-overflow-tooltip":""}),e(d,{label:"操作",width:"140",align:"center","show-overflow-tooltip":"",fixed:"right"},{default:t(i=>[e(g,{content:"启动触发器"},{default:t(()=>[e(b,{size:"small",type:"primary",icon:"ele-VideoPlay",text:"",onClick:J=>se(i.row)},null,8,["onClick"])]),_:2},1024),e(g,{content:"暂停触发器"},{default:t(()=>[e(b,{size:"small",type:"primary",icon:"ele-VideoPause",text:"",onClick:J=>de(i.row)},null,8,["onClick"])]),_:2},1024),e(g,{content:"编辑触发器"},{default:t(()=>[e(b,{size:"small",type:"primary",icon:"ele-Edit",text:"",onClick:J=>Y(i.row)},null,8,["onClick"])]),_:2},1024),e(g,{content:"删除触发器"},{default:t(()=>[e(b,{size:"small",type:"danger",icon:"ele-Delete",text:"",onClick:J=>Z(i.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["data"])]),_:1}),e(d,{type:"index",label:"序号",width:"55",align:"center",fixed:""}),e(d,{prop:"jobDetail.jobId",label:"作业编号",width:"180","header-align":"center",fixed:""},{default:t(l=>{var i;return[A("div",Ie,[e(_e,null,{default:t(()=>[e(P(Pe))]),_:1}),A("span",ze,C((i=l.row.jobDetail)==null?void 0:i.jobId),1)])]}),_:1}),e(d,{prop:"jobDetail.groupName",label:"组名称",width:"100",align:"center","show-overflow-tooltip":""}),e(d,{prop:"jobDetail.jobType",label:"类型","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"jobDetail.description",label:"描述","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"jobDetail.concurrent",label:"执行方式",width:"90",align:"center","show-overflow-tooltip":""},{default:t(l=>{var i;return[((i=l.row.jobDetail)==null?void 0:i.concurrent)==!0?(s(),p(u,{key:0,type:"success"},{default:t(()=>[n(" 并行 ")]),_:1})):(s(),p(u,{key:1,type:"warning"},{default:t(()=>[n(" 串行 ")]),_:1}))]}),_:1}),e(d,{prop:"jobDetail.createType",label:"作业创建类型",width:"110",align:"center","show-overflow-tooltip":""},{default:t(l=>{var i,J,h;return[((i=l.row.jobDetail)==null?void 0:i.createType)==P(T).NUMBER_0?(s(),p(u,{key:0,type:"info"},{default:t(()=>[n(" 内置 ")]),_:1})):c("",!0),((J=l.row.jobDetail)==null?void 0:J.createType)==P(T).NUMBER_1?(s(),p(u,{key:1,type:"warning"},{default:t(()=>[n(" 脚本 ")]),_:1})):c("",!0),((h=l.row.jobDetail)==null?void 0:h.createType)==P(T).NUMBER_2?(s(),p(u,{key:2,type:"success"},{default:t(()=>[n(" HTTP请求 ")]),_:1})):c("",!0)]}),_:1}),e(d,{prop:"jobDetail.updatedTime",label:"更新时间",width:"130",align:"center","show-overflow-tooltip":""}),e(d,{prop:"jobDetail.properties",label:"额外数据","header-align":"center","show-overflow-tooltip":""},{default:t(l=>{var i,J;return[((i=l.row.jobDetail)==null?void 0:i.createType)!=P(T).NUMBER_2?(s(),$("span",Re,C((J=l.row.jobDetail)==null?void 0:J.properties),1)):(s(),$("div",Ve,[e(ke,{placement:"left",width:400,trigger:"hover"},{reference:t(()=>[e(u,{effect:"plain",type:"info"},{default:t(()=>[n(" 请求参数 ")]),_:1})]),default:t(()=>[e(he,{title:"Http 请求参数",column:1,size:"small",border:!0},{default:t(()=>[e(O,{label:"请求地址","label-align":"right","label-class-name":"job-index-descriptions-label-style"},{default:t(()=>{var h;return[n(C(I((h=l.row.jobDetail)==null?void 0:h.properties).requestUri),1)]}),_:2},1024),e(O,{label:"请求方法","label-align":"right","label-class-name":"job-index-descriptions-label-style"},{default:t(()=>{var h;return[n(C(be(I((h=l.row.jobDetail)==null?void 0:h.properties).httpMethod)),1)]}),_:2},1024),e(O,{label:"请求报文体","label-align":"right","label-class-name":"job-index-descriptions-label-style"},{default:t(()=>{var h;return[n(C(I((h=l.row.jobDetail)==null?void 0:h.properties).body),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024)]))]}),_:1}),e(d,{label:"操作",width:"260",fixed:"right",align:"center","show-overflow-tooltip":""},{default:t(l=>[e(g,{content:"执行记录"},{default:t(()=>[e(b,{size:"small",type:"primary",icon:"ele-Timer",text:"",onClick:i=>ge(l.row)},null,8,["onClick"])]),_:2},1024),e(g,{content:"增加触发器"},{default:t(()=>[e(b,{size:"small",type:"primary",icon:"ele-CirclePlus",text:"",onClick:i=>X(l.row)},null,8,["onClick"])]),_:2},1024),e(g,{content:"执行作业"},{default:t(()=>[e(b,{size:"small",type:"primary",icon:"ele-CircleCheck",text:"",onClick:i=>oe(l.row)},null,8,["onClick"])]),_:2},1024),e(g,{content:"启动作业"},{default:t(()=>[e(b,{size:"small",type:"primary",icon:"ele-VideoPlay",text:"",onClick:i=>re(l.row)},null,8,["onClick"])]),_:2},1024),e(g,{content:"暂停作业"},{default:t(()=>[e(b,{size:"small",type:"primary",icon:"ele-VideoPause",text:"",onClick:i=>ne(l.row)},null,8,["onClick"])]),_:2},1024),e(g,{content:"取消作业"},{default:t(()=>[e(b,{size:"small",type:"primary",icon:"ele-CircleClose",text:"",onClick:i=>ie(l.row)},null,8,["onClick"])]),_:2},1024),e(g,{content:"编辑作业"},{default:t(()=>[D(e(b,{size:"small",type:"primary",icon:"ele-Edit",text:"",onClick:i=>K(l.row)},null,8,["onClick"]),[[x,"sysJob:updateJobDetail"]])]),_:2},1024),e(g,{content:"删除作业"},{default:t(()=>[D(e(b,{size:"small",type:"danger",icon:"ele-Delete",text:"",onClick:i=>W(l.row)},null,8,["onClick"]),[[x,"sysJob:deleteJobDetail"]])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[M,r.loading]]),e(U,{currentPage:r.tableParams.page,"onUpdate:currentPage":o[2]||(o[2]=l=>r.tableParams.page=l),"page-size":r.tableParams.pageSize,"onUpdate:pageSize":o[3]||(o[3]=l=>r.tableParams.pageSize=l),total:r.tableParams.total,"page-sizes":[10,20,50,100],small:"",background:"",onSizeChange:ee,onCurrentChange:te,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"])]),_:1}),e(ve,{modelValue:r.isVisibleDrawer,"onUpdate:modelValue":o[6]||(o[6]=l=>r.isVisibleDrawer=l),title:"作业触发器运行记录",size:"45%"},{default:t(()=>[e(V,{shadow:"hover",style:{margin:"8px","padding-bottom":"15px"}},{default:t(()=>[D((s(),p(N,{data:r.triggerRecordData,style:{width:"100%"},border:""},{default:t(()=>[e(d,{type:"index",label:"序号",width:"55",align:"center"}),e(d,{prop:"jobId",label:"作业编号","min-width":"120","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"triggerId",label:"触发器编号","min-width":"120","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"numberOfRuns",label:"当前运行次数","min-width":"100",align:"center","show-overflow-tooltip":""}),e(d,{prop:"lastRunTime",label:"最近运行时间","min-width":"130","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"nextRunTime",label:"下一次运行时间","min-width":"120","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"status",label:"触发器状态",align:"center","show-overflow-tooltip":""},{default:t(l=>[l.row.status==0?(s(),p(u,{key:0,type:"warning",effect:"plain"},{default:t(()=>[n(" 积压 ")]),_:1})):c("",!0),l.row.status==1?(s(),p(u,{key:1,type:"",effect:"plain"},{default:t(()=>[n(" 就绪 ")]),_:1})):c("",!0),l.row.status==2?(s(),p(u,{key:2,type:"success",effect:"plain"},{default:t(()=>[n(" 正在运行 ")]),_:1})):c("",!0),l.row.status==3?(s(),p(u,{key:3,type:"danger",effect:"plain"},{default:t(()=>[n(" 暂停 ")]),_:1})):c("",!0),l.row.status==4?(s(),p(u,{key:4,type:"danger",effect:"plain"},{default:t(()=>[n(" 阻塞 ")]),_:1})):c("",!0),l.row.status==5?(s(),p(u,{key:5,type:"",effect:"plain"},{default:t(()=>[n(" 由失败进入就绪 ")]),_:1})):c("",!0),l.row.status==6?(s(),p(u,{key:6,type:"danger",effect:"plain"},{default:t(()=>[n(" 归档 ")]),_:1})):c("",!0),l.row.status==7?(s(),p(u,{key:7,type:"danger",effect:"plain"},{default:t(()=>[n(" 崩溃 ")]),_:1})):c("",!0),l.row.status==8?(s(),p(u,{key:8,type:"danger",effect:"plain"},{default:t(()=>[n(" 超限 ")]),_:1})):c("",!0),l.row.status==9?(s(),p(u,{key:9,type:"danger",effect:"plain"},{default:t(()=>[n(" 无触发时间 ")]),_:1})):c("",!0),l.row.status==10?(s(),p(u,{key:10,type:"danger",effect:"plain"},{default:t(()=>[n(" 未启动 ")]),_:1})):c("",!0),l.row.status==11?(s(),p(u,{key:11,type:"danger",effect:"plain"},{default:t(()=>[n(" 未知作业触发器 ")]),_:1})):c("",!0),l.row.status==12?(s(),p(u,{key:12,type:"danger",effect:"plain"},{default:t(()=>[n(" 未知作业处理程序 ")]),_:1})):c("",!0)]),_:1}),e(d,{prop:"result",label:"执行结果","header-align":"center","show-overflow-tooltip":""}),e(d,{prop:"elapsedTime",label:"耗时","min-width":"80",align:"center","show-overflow-tooltip":""}),e(d,{prop:"createdTime",label:"创建时间","min-width":"130",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])),[[M,r.loading2]]),e(U,{currentPage:r.tableParams2.page,"onUpdate:currentPage":o[4]||(o[4]=l=>r.tableParams2.page=l),"page-size":r.tableParams2.pageSize,"onUpdate:pageSize":o[5]||(o[5]=l=>r.tableParams2.pageSize=l),total:r.tableParams2.total,"page-sizes":[10,20,50,100],small:"",background:"",onSizeChange:ye,onCurrentChange:we,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"])]),_:1})]),_:1},8,["modelValue"]),e(Ce,{ref_key:"editJobDetailRef",ref:j,title:r.editJobDetailTitle,onHandleQuery:v},null,8,["title"]),e(Te,{ref_key:"editJobTriggerRef",ref:S,title:r.editJobTriggerTitle,onHandleQuery:v},null,8,["title"]),e(xe,{ref_key:"editJobClusterRef",ref:E},null,512)])}}});export{Ae as default};

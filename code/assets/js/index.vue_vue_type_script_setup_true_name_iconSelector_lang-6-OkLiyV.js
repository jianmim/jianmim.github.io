import{k as S,r as W,L as E,l as N,p as R,w as G,t as s,x as h,M as _,D as i,A as f,y as M,P as $,O as L,T as U,F as x,i as j,n as q,_ as H}from"./store-dof5ccn5.js";import{i as v}from"./getStyleSheets-sc0x7Sln.js";const J={class:"icon-selector w100 h100"},K={class:"icon-selector-warp"},Q={class:"icon-selector-warp-title"},X=S({name:"iconSelector"}),ee=S({...X,props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"请输入内容搜索图标或者选择图标"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"请选择图标"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"无相关图标"},modelValue:String},emits:["update:modelValue","get","clear"],setup(l,{emit:C}){const n=l,d=C,u=j(()=>H(()=>import("./list-z97a25Tl.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),r=W(),e=E({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconPlaceholder:"",fontIconTabActive:"ali",fontIconList:{ali:[],ele:[],awe:[]}}),T=()=>{if(!n.modelValue)return!1;e.fontIconSearch="",e.fontIconPlaceholder=n.modelValue},k=()=>{const t=P();setTimeout(()=>{t.filter(a=>a===e.fontIconSearch).length<=0&&(e.fontIconSearch="")},300)},p=N(()=>{const t=P();if(!e.fontIconSearch)return t;let o=e.fontIconSearch.trim().toLowerCase();return t.filter(a=>{if(a.toLowerCase().indexOf(o)!==-1)return a})}),P=()=>{let t=[];return e.fontIconTabActive==="ali"?t=e.fontIconList.ali:e.fontIconTabActive==="ele"?t=e.fontIconList.ele:e.fontIconTabActive==="awe"&&(t=e.fontIconList.awe),t},y=()=>{if(n.modelValue==="")return e.fontIconPlaceholder=n.placeholder;e.fontIconPlaceholder=n.modelValue,e.fontIconPrefix=n.modelValue},b=()=>{let t="ali";return n.modelValue==null?t="ele":n.modelValue.indexOf("iconfont")>-1?t="ali":n.modelValue.indexOf("ele-")>-1?t="ele":n.modelValue.indexOf("fa")>-1&&(t="awe"),e.fontIconTabActive=t,t},w=async t=>{if(t==="ali"){if(e.fontIconList.ali.length>0)return;await v.ali().then(o=>{e.fontIconList.ali=o.map(a=>`iconfont ${a}`)})}else if(t==="ele"){if(e.fontIconList.ele.length>0)return;await v.ele().then(o=>{e.fontIconList.ele=o})}else if(t==="awe"){if(e.fontIconList.awe.length>0)return;await v.awe().then(o=>{e.fontIconList.awe=o.map(a=>`fa ${a}`)})}e.fontIconPlaceholder=n.placeholder,y()},z=t=>{w(t.paneName),r.value.focus()},I=t=>{e.fontIconPlaceholder=t,e.fontIconPrefix=t,d("get",e.fontIconPrefix),d("update:modelValue",e.fontIconPrefix),r.value.focus()},A=()=>{e.fontIconPrefix="",d("clear",e.fontIconPrefix),d("update:modelValue",e.fontIconPrefix)},V=()=>{q(()=>{e.fontIconWidth=r.value.$el.offsetWidth})},B=()=>{window.addEventListener("resize",()=>{V()})};return R(()=>{w(b()),B(),V()}),G(()=>n.modelValue,()=>{y(),b()}),(t,o)=>{const a=s("SvgIcon"),D=s("el-input"),m=s("el-tab-pane"),O=s("el-tabs"),F=s("el-popover");return h(),_("div",J,[i(D,{modelValue:e.fontIconSearch,"onUpdate:modelValue":o[0]||(o[0]=c=>e.fontIconSearch=c),placeholder:e.fontIconPlaceholder,clearable:l.clearable,disabled:l.disabled,size:l.size,ref_key:"inputWidthRef",ref:r,onClear:A,onFocus:T,onBlur:k},{prepend:f(()=>{var c,g;return[(e.fontIconPrefix===""?((c=l.prepend)==null?void 0:c.indexOf("ele-"))>-1:((g=e.fontIconPrefix)==null?void 0:g.indexOf("ele-"))>-1)?(h(),M(a,{key:0,name:e.fontIconPrefix===""?l.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(h(),_("i",{key:1,class:$([e.fontIconPrefix===""?l.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size"]),i(F,{placement:"bottom",width:e.fontIconWidth,transition:"el-zoom-in-top","popper-class":"icon-selector-popper",trigger:"click","virtual-ref":r.value,"virtual-triggering":""},{default:f(()=>[L("div",K,[L("div",Q,U(l.title),1),i(O,{modelValue:e.fontIconTabActive,"onUpdate:modelValue":o[1]||(o[1]=c=>e.fontIconTabActive=c),onTabClick:z},{default:f(()=>[i(m,{lazy:"",label:"ali",name:"ali"},{default:f(()=>[i(x(u),{list:p.value,empty:l.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:I},null,8,["list","empty","prefix"])]),_:1}),i(m,{lazy:"",label:"ele",name:"ele"},{default:f(()=>[i(x(u),{list:p.value,empty:l.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:I},null,8,["list","empty","prefix"])]),_:1}),i(m,{lazy:"",label:"awe",name:"awe"},{default:f(()=>[i(x(u),{list:p.value,empty:l.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:I},null,8,["list","empty","prefix"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["width","virtual-ref"])])}}});export{ee as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./list-z97a25Tl.js","./store-dof5ccn5.js","../css/store-dzCp3yyn.css","./_plugin-vue_export-helper-x3n3nnut.js","../css/list-P7s7C_k1.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}

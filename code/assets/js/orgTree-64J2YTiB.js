import{k as p,s as v,L as m,p as y,t as c,a6 as b,B as x,x as D,M as F,O as a,D as g,S as N,A as _,T as s}from"./store-mQZkmHj-.js";import{f as B,g as I}from"./index-lw7p-_pG.js";import{S as O}from"./sys-org-api-I_KY1ixH.js";import{_ as k}from"./_plugin-vue_export-helper-x3n3nnut.js";const z={style:{"text-align":"right"}},S={style:{"margin-right":"10px"}},V={style:{height:"500px"}},w={class:"tree-org-node__text node-label"},T={class:"node-title"},A={class:"node-id"},C=p({name:"orgTree"}),E=p({...C,setup(L){const f=B(),{userInfos:r}=v(f),d={color:"#FFFFFF",background:"#3B3B3B"},e=m({loading:!1,orgData:[],horizontal:!1,collapsable:!0,onlyOneNode:!1,cloneNodeDrag:!1,nodeDraggable:!1,style:{background:"var(--el-color-primary)",color:"#FFFFFF"}});y(async()=>{e.loading=!0;var t=await I(O).apiSysOrgListGet(0),o=t.data.result??[];e.orgData=o[0]??[],e.orgData.id==r.value.orgId?e.orgData.style=d:i(e.orgData.children,r.value.orgId),e.loading=!1});const i=(t,o)=>{t&&t.length>0&&t.forEach(function(n){if(n.id==o){n.style=d;return}else i(n.children,o)})};return(t,o)=>{const n=c("el-switch"),h=c("vue3-tree-org"),u=b("loading");return x((D(),F("div",null,[a("div",z,[a("div",S,[g(n,{modelValue:e.horizontal,"onUpdate:modelValue":o[0]||(o[0]=l=>e.horizontal=l)},null,8,["modelValue"]),N(" 横向/纵向")])]),a("div",V,[g(h,{data:e.orgData,props:{id:"id",pid:"pid",label:"name",expand:"expand",children:"children"},"label-style":e.style,"default-expand-level":100,horizontal:e.horizontal,collapsable:e.collapsable,"only-one-node":e.onlyOneNode,"clone-node-drag":e.cloneNodeDrag,"node-draggable":e.nodeDraggable,style:{"background-color":"var(--el-bg-color)"}},{default:_(({node:l})=>[a("div",w,[a("div",T,s(l.label),1),a("div",A,"编码："+s(l.id),1)])]),expand:_(({node:l})=>[a("div",null,s(l.children.length),1)]),_:1},8,["data","label-style","horizontal","collapsable","only-one-node","clone-node-drag","node-draggable"])])])),[[u,e.loading]])}}}),R=k(E,[["__scopeId","data-v-b438fd2b"]]);export{R as default};

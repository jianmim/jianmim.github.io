import{k as S,r as O,L as R,w as Y,p as I,t as r,x as l,M as u,D as p,A as n,a4 as x,a5 as U,B as F,y as c,aj as d,U as K,G as i,C as L,O as g,T as G,S as P}from"./store-dof5ccn5.js";import{_ as z}from"./_plugin-vue_export-helper-x3n3nnut.js";const H={key:0,class:"table-search-container"},J={key:0},Q=S({name:"makeTableDemoSearch"}),W=S({...Q,props:{search:{type:Array,default:()=>[]},reset:{type:Object,default:()=>{}},param:{type:Object,default:()=>{}}},emits:["search","reset"],setup(f,{emit:T}){const _=f,h=T,m=O(),o=R({form:{},isToggle:!1,cascaderProps:{checkStrictly:!0,emitPath:!1,value:"id",label:"name",expandTrigger:"hover"}});Y(()=>_.param,s=>{s&&(o.form=Object.assign({},{...s}))},{immediate:!0,deep:!0});const b=s=>{s&&s.validate(t=>{if(t)h("search",o.form);else return!1})},D=s=>{s&&(s.resetFields(),h("reset",o.form),h("search",o.form))};return I(()=>{}),(s,t)=>{const q=r("el-input"),y=r("el-date-picker"),B=r("el-option"),$=r("el-select"),j=r("el-cascader"),V=r("el-form-item"),k=r("el-col"),A=r("SvgIcon"),w=r("el-button"),M=r("el-row"),N=r("el-form");return _.search.length>0?(l(),u("div",H,[p(N,{ref_key:"tableSearchRef",ref:m,model:o.form,"label-width":"100px",class:"table-form"},{default:n(()=>[p(M,{gutter:20},{default:n(()=>[(l(!0),u(x,null,U(f.search,(e,C)=>F((l(),c(k,{xs:12,sm:5,md:5,lg:6,xl:4,class:"mb20",key:C},{default:n(()=>[e.type!==""?(l(),c(V,{key:0,"label-width":"auto",label:e.label,prop:e.prop,rules:[{required:e.required,message:`${e.label}不能为空`,trigger:e.type==="input"?"blur":"change"}]},{default:n(()=>[e.type==="input"?(l(),c(q,d({key:0,modelValue:o.form[e.prop],"onUpdate:modelValue":a=>o.form[e.prop]=a},e.comProps,{placeholder:e.placeholder,clearable:!e.required,onKeyup:t[0]||(t[0]=K(a=>b(m.value),["enter"])),onChange:e.change,class:"w100"}),null,16,["modelValue","onUpdate:modelValue","placeholder","clearable","onChange"])):e.type==="date"?(l(),c(y,d({key:1,modelValue:o.form[e.prop],"onUpdate:modelValue":a=>o.form[e.prop]=a},e.comProps,{type:"date",placeholder:e.placeholder,clearable:!e.required,onChange:e.change,class:"w100"}),null,16,["modelValue","onUpdate:modelValue","placeholder","clearable","onChange"])):e.type==="daterange"?(l(),c(y,d({key:2,modelValue:o.form[e.prop],"onUpdate:modelValue":a=>o.form[e.prop]=a},e.comProps,{type:"daterange","value-format":"YYYY/MM/DD",placeholder:e.placeholder,clearable:!e.required,onChange:e.change,class:"w100"}),null,16,["modelValue","onUpdate:modelValue","placeholder","clearable","onChange"])):e.type==="select"?(l(),c($,d({key:3,modelValue:o.form[e.prop],"onUpdate:modelValue":a=>o.form[e.prop]=a},e.comProps,{clearable:!e.required,placeholder:e.placeholder,onChange:e.change,class:"w100"}),{default:n(()=>[(l(!0),u(x,null,U(e.options,a=>(l(),c(B,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1040,["modelValue","onUpdate:modelValue","clearable","placeholder","onChange"])):e.type==="cascader"&&e.cascaderData?(l(),c(j,d({key:4,options:e.cascaderData,clearable:!e.required,filterable:"",props:e.cascaderProps?e.cascaderProps:o.cascaderProps,placeholder:e.placeholder,onChange:e.change,class:"w100"},e.comProps,{modelValue:o.form[e.prop],"onUpdate:modelValue":a=>o.form[e.prop]=a}),null,16,["options","clearable","props","placeholder","onChange","modelValue","onUpdate:modelValue"])):i("",!0)]),_:2},1032,["label","prop","rules"])):i("",!0)]),_:2},1024)),[[L,C<3||o.isToggle]])),128)),p(k,{xs:12,sm:9,md:9,lg:6,xl:4,class:"mb20"},{default:n(()=>[p(V,{class:"table-form-btn","label-width":"auto"},{label:n(()=>[f.search.length>3?(l(),u("div",J,[g("div",{class:"table-form-btn-toggle",onClick:t[1]||(t[1]=e=>o.isToggle=!o.isToggle)},[g("span",null,G(o.isToggle?"收起":"展开"),1),p(A,{name:o.isToggle?"ele-ArrowUp":"ele-ArrowDown"},null,8,["name"])])])):i("",!0)]),default:n(()=>[g("div",null,[p(w,{plain:"",type:"primary",icon:"ele-Search",onClick:t[2]||(t[2]=e=>b(m.value))},{default:n(()=>[P(" 查询 ")]),_:1}),p(w,{icon:"ele-Refresh",onClick:t[3]||(t[3]=e=>D(m.value)),style:{"margin-left":"12px"}},{default:n(()=>[P(" 重置 ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])):i("",!0)}}}),E=z(W,[["__scopeId","data-v-2ff8eaf7"]]);export{E as default};

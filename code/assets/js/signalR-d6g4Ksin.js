import{z as o}from"./index-lw7p-_pG.js";import{aC as n,aD as t,aE as i,aB as s}from"./store-mQZkmHj-.js";const e=new n().configureLogging(t.Information).withUrl(`${window.__env__.VITE_API_URL}/hubs/onlineUser?access_token=${o()}`,{transport:i.WebSockets,skipNegotiation:!0}).withAutomaticReconnect({nextRetryDelayInMilliseconds:()=>5e3}).build();e.keepAliveIntervalInMilliseconds=15*1e3;e.serverTimeoutInMilliseconds=30*60*1e3;e.start().then(()=>{console.log("启动连接")});e.onclose(async()=>{console.log("断开连接")});e.onreconnecting(()=>{s({title:"提示",message:"服务器已断线...",type:"error",position:"bottom-right"})});e.onreconnected(()=>{console.log("重连成功")});e.on("OnlineUserList",()=>{});export{e as c};

import{j as e,m as t,k as a,E as l,d as i,o as n,c as s,w as o,a as u,l as c,p as d,i as r,f as p,g as _}from"./index.6f985586.js";import{_ as m}from"./u-cell.79bf2487.js";import{r as f}from"./uni-app.es.6e64b422.js";import{_ as h}from"./u-line.05730c7c.js";import{_ as g}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as b}from"./u-icon.3c3802b5.js";import{_ as v}from"./u-gap.0e6106cb.js";const y=g({name:"u-collapse-item",mixins:[t,a,{props:{title:{type:String,default:e.collapseItem.title},value:{type:String,default:e.collapseItem.value},label:{type:String,default:e.collapseItem.label},disabled:{type:Boolean,default:e.collapseItem.disabled},isLink:{type:Boolean,default:e.collapseItem.isLink},clickable:{type:Boolean,default:e.collapseItem.clickable},border:{type:Boolean,default:e.collapseItem.border},align:{type:String,default:e.collapseItem.align},name:{type:[String,Number],default:e.collapseItem.name},icon:{type:String,default:e.collapseItem.icon},duration:{type:Number,default:e.collapseItem.duration}}}],data:()=>({elId:uni.$u.guid(),animationData:{},expanded:!1,showBorder:!1,animating:!1,parentData:{accordion:!1,border:!1}}),watch:{expanded(e){clearTimeout(this.timer),this.timer=null,this.timer=setTimeout((()=>{this.showBorder=e}),e?10:290)}},mounted(){this.init()},methods:{async init(){if(this.updateParentData(),!this.parent)return uni.$u.error("u-collapse-item必须要搭配u-collapse组件使用");const{value:e,accordion:t,children:a=[]}=this.parent;if(t){if(uni.$u.test.array(e))return uni.$u.error("手风琴模式下，u-collapse组件的value参数不能为数组");this.expanded=this.name==e}else{if(!uni.$u.test.array(e)&&null!==e)return uni.$u.error("非手风琴模式下，u-collapse组件的value参数必须为数组");this.expanded=(e||[]).some((e=>e==this.name))}await l(),this.setContentAnimate()},updateParentData(){this.getParentData("u-collapse")},async setContentAnimate(){const e=await this.queryRect(),t=this.expanded?e.height:0;this.animating=!0;const a=uni.createAnimation({timingFunction:"ease-in-out"});a.height(t).step({duration:this.duration}).step(),this.animationData=a.export(),uni.$u.sleep(this.duration).then((()=>{this.animating=!1}))},clickHandler(){this.disabled&&this.animating||this.parent&&this.parent.onChange(this)},queryRect(){return new Promise((e=>{this.$uGetRect(`#${this.elId}`).then((t=>{e(t)}))}))}}},[["render",function(e,t,a,l,p,_){const g=f(i("u-cell"),m),b=r,v=f(i("u-line"),h);return n(),s(b,{class:"u-collapse-item"},{default:o((()=>[u(g,{title:e.title,value:e.value,label:e.label,icon:e.icon,isLink:e.isLink,clickable:e.clickable,border:p.parentData.border&&p.showBorder,onClick:_.clickHandler,arrowDirection:p.expanded?"up":"down",disabled:e.disabled},{title:o((()=>[c(e.$slots,"title",{},void 0,!0)])),icon:o((()=>[c(e.$slots,"icon",{},void 0,!0)])),value:o((()=>[c(e.$slots,"value",{},void 0,!0)])),"right-icon":o((()=>[c(e.$slots,"right-icon",{},void 0,!0)])),_:3},8,["title","value","label","icon","isLink","clickable","border","onClick","arrowDirection","disabled"]),u(b,{class:"u-collapse-item__content",animation:p.animationData,ref:"animation"},{default:o((()=>[u(b,{class:"u-collapse-item__content__text content-class",id:p.elId,ref:p.elId},{default:o((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3},8,["id"])])),_:3},8,["animation"]),p.parentData.border?(n(),s(v,{key:0})):d("",!0)])),_:3})}],["__scopeId","data-v-f8208e6e"]]);const I=g({name:"u-collapse",mixins:[t,a,{props:{value:{type:[String,Number,Array,null],default:e.collapse.value},accordion:{type:Boolean,default:e.collapse.accordion},border:{type:Boolean,default:e.collapse.border}}}],watch:{needInit(){this.init()},parentData(){this.children.length&&this.children.map((e=>{"function"==typeof e.updateParentData&&e.updateParentData()}))}},created(){this.children=[]},computed:{needInit(){return[this.accordion,this.value]}},methods:{init(){this.children.map((e=>{e.init()}))},onChange(e){let t=[];this.children.map(((a,l)=>{this.accordion?(a.expanded=a===e&&!e.expanded,a.setContentAnimate()):a===e&&(a.expanded=!a.expanded,a.setContentAnimate()),t.push({name:a.name||l,status:a.expanded?"open":"close"})})),this.$emit("change",t),this.$emit(e.expanded?"open":"close",e.name)}}},[["render",function(e,t,a,l,u,p){const _=f(i("u-line"),h),m=r;return n(),s(m,{class:"u-collapse"},{default:o((()=>[e.border?(n(),s(_,{key:0})):d("",!0),c(e.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-5b22a3dd"]]);const x=g({data:()=>({}),methods:{open(e){},close(e){},change(e){}}},[["render",function(e,t,a,l,c,d){const m=_,h=f(i("u-collapse-item"),y),g=f(i("u-collapse"),I),x=r,k=f(i("u-icon"),b),$=f(i("u-gap"),v);return n(),s(x,{class:"u-page"},{default:o((()=>[u(x,{class:"u-page__item"},{default:o((()=>[u(m,{class:"u-page__item__title"},{default:o((()=>[p("基础功能")])),_:1}),u(g,{onChange:d.change,onClose:d.close,onOpen:d.open},{default:o((()=>[u(h,{title:"文档指南",name:"Docs guide"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),u(h,{title:"组件全面",name:"Variety components"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),u(h,{title:"众多利器",name:"Numerous tools"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1},8,["onChange","onClose","onOpen"])])),_:1}),u(x,{class:"u-page__item"},{default:o((()=>[u(m,{class:"u-page__item__title"},{default:o((()=>[p("展开和禁用")])),_:1}),u(g,{value:["2"]},{default:o((()=>[u(h,{title:"文档指南"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),u(h,{disabled:"",title:"组件全面"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),u(h,{name:"2",title:"众多利器"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1})])),_:1}),u(x,{class:"u-page__item"},{default:o((()=>[u(m,{class:"u-page__item__title"},{default:o((()=>[p("手风琴模式")])),_:1}),u(g,{accordion:""},{default:o((()=>[u(h,{title:"文档指南"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),u(h,{title:"组件全面"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),u(h,{title:"众多利器"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1})])),_:1}),u(x,{class:"u-page__item"},{default:o((()=>[u(m,{class:"u-page__item__title"},{default:o((()=>[p("移除下划线")])),_:1}),u(g,{accordion:"",border:!1},{default:o((()=>[u(h,{title:"文档指南"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),u(h,{title:"组件全面"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),u(h,{title:"众多利器"},{default:o((()=>[u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1})])),_:1}),u(x,{class:"u-page__item"},{default:o((()=>[u(m,{class:"u-page__item__title"},{default:o((()=>[p("自定义标题和内容")])),_:1}),u(g,{accordion:""},{default:o((()=>[u(h,null,{default:o((()=>[u(m,{slot:"title",class:"u-page__item__title__slot-title"},{default:o((()=>[p("文档指南")])),_:1}),u(m,{class:"u-collapse-content"},{default:o((()=>[p("涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川")])),_:1})])),_:1}),u(h,{title:"组件全面"},{default:o((()=>[u(k,{name:"tags-fill",size:"20",slot:"icon"}),u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用")])),_:1})])),_:1}),u(h,{title:"众多利器"},{default:o((()=>[u(m,{slot:"value",class:"u-page__item__title__slot-title"},{default:o((()=>[p("自定义内容")])),_:1}),u(m,{class:"u-collapse-content"},{default:o((()=>[p("众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨")])),_:1})])),_:1})])),_:1})])),_:1}),u($,{height:"50"})])),_:1})}],["__scopeId","data-v-d5aedb01"]]);export{x as default};

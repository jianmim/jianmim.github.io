import{j as e,m as l,k as t,o,c as a,w as u,b as d,F as n,r as s,q as i,f as c,t as r,p as m,a as p,i as h,g as _,I as f,d as b}from"./index.6f985586.js";import{_ as g}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as y}from"./uni-app.es.6e64b422.js";const x=g({name:"u-code-input",mixins:[l,t,{props:{adjustPosition:{type:Boolean,default:e.codeInput.adjustPosition},maxlength:{type:[String,Number],default:e.codeInput.maxlength},dot:{type:Boolean,default:e.codeInput.dot},mode:{type:String,default:e.codeInput.mode},hairline:{type:Boolean,default:e.codeInput.hairline},space:{type:[String,Number],default:e.codeInput.space},value:{type:[String,Number],default:e.codeInput.value},focus:{type:Boolean,default:e.codeInput.focus},bold:{type:Boolean,default:e.codeInput.bold},color:{type:String,default:e.codeInput.color},fontSize:{type:[String,Number],default:e.codeInput.fontSize},size:{type:[String,Number],default:e.codeInput.size},disabledKeyboard:{type:Boolean,default:e.codeInput.disabledKeyboard},borderColor:{type:String,default:e.codeInput.borderColor},disabledDot:{type:Boolean,default:e.codeInput.disabledDot}}}],data(){return{inputValue:"",isFocus:this.focus}},watch:{value:{immediate:!0,handler(e){this.inputValue=String(e).substring(0,this.maxlength)}}},computed:{codeLength(){return new Array(Number(this.maxlength))},itemStyle(){return e=>{const l=uni.$u.addUnit,t={width:l(this.size),height:l(this.size)};return"box"===this.mode&&(t.border=`${this.hairline?.5:1}px solid ${this.borderColor}`,0===uni.$u.getPx(this.space)&&(0===e&&(t.borderTopLeftRadius="3px",t.borderBottomLeftRadius="3px"),e===this.codeLength.length-1&&(t.borderTopRightRadius="3px",t.borderBottomRightRadius="3px"),e!==this.codeLength.length-1&&(t.borderRight="none"))),e!==this.codeLength.length-1?t.marginRight=l(this.space):t.marginRight=0,t}},codeArray(){return String(this.inputValue).split("")},lineStyle(){const e={};return e.height=this.hairline?"2px":"4px",e.width=uni.$u.addUnit(this.size),e.backgroundColor=this.borderColor,e}},methods:{inputHandler(e){const l=e.detail.value;this.inputValue=l,this.disabledDot&&this.$nextTick((()=>{this.inputValue=l.replace(".","")})),this.$emit("change",l),this.$emit("input",l),String(l).length>=Number(this.maxlength)&&this.$emit("finish",l)}}},[["render",function(e,l,t,b,g,y){const x=h,v=_,V=f;return o(),a(x,{class:"u-code-input"},{default:u((()=>[(o(!0),d(n,null,s(y.codeLength,((l,t)=>(o(),a(x,{class:"u-code-input__item",style:i([y.itemStyle(t)]),key:t},{default:u((()=>[e.dot&&y.codeArray.length>t?(o(),a(x,{key:0,class:"u-code-input__item__dot"})):(o(),a(v,{key:1,style:i({fontSize:e.$u.addUnit(e.fontSize),fontWeight:e.bold?"bold":"normal",color:e.color})},{default:u((()=>[c(r(y.codeArray[t]),1)])),_:2},1032,["style"])),"line"===e.mode?(o(),a(x,{key:2,class:"u-code-input__item__line",style:i([y.lineStyle])},null,8,["style"])):m("",!0),g.isFocus&&y.codeArray.length===t?(o(),a(x,{key:3,style:i({backgroundColor:e.color}),class:"u-code-input__item__cursor"},null,8,["style"])):m("",!0)])),_:2},1032,["style"])))),128)),p(V,{disabled:e.disabledKeyboard,type:"number",focus:e.focus,value:g.inputValue,maxlength:e.maxlength,adjustPosition:e.adjustPosition,class:"u-code-input__input",onInput:y.inputHandler,style:i({height:e.$u.addUnit(e.size)}),onFocus:l[0]||(l[0]=e=>g.isFocus=!0),onBlur:l[1]||(l[1]=e=>g.isFocus=!1)},null,8,["disabled","focus","value","maxlength","adjustPosition","onInput","style"])])),_:1})}],["__scopeId","data-v-ffe7daa3"]]);const v=g({data:()=>({value1:"",value2:"",value3:"",value4:"",value5:"",value6:"",value7:"",value8:"",value9:"123",value10:"34"}),methods:{change(e){console.log("change",e)},finish(e){console.log("finish",e)}}},[["render",function(e,l,t,d,n,s){const i=_,r=y(b("u-code-input"),x),m=h;return o(),a(m,{class:"u-page"},{default:u((()=>[p(m,{class:"u-demo-block"},{default:u((()=>[p(i,{class:"u-demo-block__title"},{default:u((()=>[c("基础使用")])),_:1}),p(m,{class:"u-demo-block__content"},{default:u((()=>[p(r,{modelValue:n.value1,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value1=e),maxlength:4,onChange:s.change,onFinish:s.finish},null,8,["modelValue","onChange","onFinish"])])),_:1})])),_:1}),p(m,{class:"u-demo-block"},{default:u((()=>[p(i,{class:"u-demo-block__title"},{default:u((()=>[c("横线模式")])),_:1}),p(m,{class:"u-demo-block__content"},{default:u((()=>[p(r,{modelValue:n.value2,"onUpdate:modelValue":l[1]||(l[1]=e=>n.value2=e),mode:"line",maxlength:4,bold:!0},null,8,["modelValue"])])),_:1})])),_:1}),p(m,{class:"u-demo-block"},{default:u((()=>[p(i,{class:"u-demo-block__title"},{default:u((()=>[c("设置长度")])),_:1}),p(m,{class:"u-demo-block__content"},{default:u((()=>[p(r,{modelValue:n.value3,"onUpdate:modelValue":l[2]||(l[2]=e=>n.value3=e),maxlength:6},null,8,["modelValue"])])),_:1})])),_:1}),p(m,{class:"u-demo-block"},{default:u((()=>[p(i,{class:"u-demo-block__title"},{default:u((()=>[c("设置间距")])),_:1}),p(m,{class:"u-demo-block__content"},{default:u((()=>[p(r,{modelValue:n.value4,"onUpdate:modelValue":l[3]||(l[3]=e=>n.value4=e),mode:"box",space:0,maxlength:4},null,8,["modelValue"])])),_:1})])),_:1}),p(m,{class:"u-demo-block"},{default:u((()=>[p(i,{class:"u-demo-block__title"},{default:u((()=>[c("细边框")])),_:1}),p(m,{class:"u-demo-block__content"},{default:u((()=>[p(r,{modelValue:n.value5,"onUpdate:modelValue":l[4]||(l[4]=e=>n.value5=e),mode:"box",space:0,maxlength:4,hairline:""},null,8,["modelValue"])])),_:1}),p(m,{class:"u-demo-block__content",style:{"margin-top":"10px"}},{default:u((()=>[p(r,{modelValue:n.value6,"onUpdate:modelValue":l[5]||(l[5]=e=>n.value6=e),mode:"line",space:10,maxlength:4,hairline:""},null,8,["modelValue"])])),_:1})])),_:1}),p(m,{class:"u-demo-block"},{default:u((()=>[p(i,{class:"u-demo-block__title"},{default:u((()=>[c("调整颜色")])),_:1}),p(m,{class:"u-demo-block__content"},{default:u((()=>[p(r,{modelValue:n.value7,"onUpdate:modelValue":l[6]||(l[6]=e=>n.value7=e),mode:"box",space:0,maxlength:4,hairline:"",color:"#f56c6c",borderColor:"#f56c6c"},null,8,["modelValue"]),p(m,{class:"u-demo-block__content",style:{"margin-top":"10px"}},{default:u((()=>[p(r,{modelValue:n.value10,"onUpdate:modelValue":l[7]||(l[7]=e=>n.value10=e),mode:"line",size:"30",maxlength:4,hairline:"",color:"#3c9cff",borderColor:"#3c9cff"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),p(m,{class:"u-demo-block"},{default:u((()=>[p(i,{class:"u-demo-block__title"},{default:u((()=>[c("点模式")])),_:1}),p(m,{class:"u-demo-block__content"},{default:u((()=>[p(r,{modelValue:n.value8,"onUpdate:modelValue":l[8]||(l[8]=e=>n.value8=e),mode:"box",dot:"",space:0,maxlength:4,hairline:""},null,8,["modelValue"])])),_:1})])),_:1}),p(m,{class:"u-demo-block"},{default:u((()=>[p(i,{class:"u-demo-block__title"},{default:u((()=>[c("预置内容")])),_:1}),p(m,{class:"u-demo-block__content"},{default:u((()=>[p(r,{modelValue:n.value9,"onUpdate:modelValue":l[9]||(l[9]=e=>n.value9=e),mode:"box",space:0,maxlength:4,hairline:"",fontSize:"17"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})}]]);export{v as default};

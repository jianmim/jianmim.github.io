import{_ as t}from"./u-loading-icon.9827ac16.js";import{m as o,k as e,d as i,o as s,c as n,w as a,a as r,n as m,q as c,p as l,f as p,t as u,g,i as f}from"./index.6f985586.js";import{r as y}from"./uni-app.es.6e64b422.js";import{_ as h}from"./u-icon.3c3802b5.js";import{_ as d}from"./u-gap.0e6106cb.js";import{_ as C}from"./u-overlay.bc348baa.js";import{_}from"./_plugin-vue_export-helper.cdc0426e.js";const b=_({name:"u-toast",mixins:[o,e],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!1,loading:!1},tmpConfig:{}}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?uni.$u.type2icon(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},loadingIconColor(){let t="rgb(255, 255, 255)";return["error","warning","success","primary"].includes(this.tmpConfig.type)&&(t=uni.$u.hexToRgb(uni.$u.color[this.tmpConfig.type])),t},contentStyle(){const t=uni.$u.sys().windowHeight,o={};let e=0;return"top"===this.tmpConfig.position?e=.25*-t:"bottom"===this.tmpConfig.position&&(e=.25*t),o.transform=`translateY(${e}px)`,o}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=o=>this.show({type:t,message:o})}))},methods:{show(t){this.tmpConfig=uni.$u.deepMerge(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},beforeDestroy(){this.clearTimer()}},[["render",function(o,e,_,b,w,x){const S=y(i("u-loading-icon"),t),j=y(i("u-icon"),h),v=y(i("u-gap"),d),T=g,$=f,k=y(i("u-overlay"),C);return s(),n($,{class:"u-toast"},{default:a((()=>[r(k,{show:w.isShow,"custom-style":x.overlayStyle},{default:a((()=>[r($,{class:m(["u-toast__content",["u-type-"+w.tmpConfig.type,"loading"===w.tmpConfig.type||w.tmpConfig.loading?"u-toast__content--loading":""]]),style:c([x.contentStyle])},{default:a((()=>["loading"===w.tmpConfig.type?(s(),n(S,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==w.tmpConfig.type&&x.iconName?(s(),n(j,{key:1,name:x.iconName,size:"17",color:w.tmpConfig.type,customStyle:x.iconStyle},null,8,["name","color","customStyle"])):l("",!0),"loading"===w.tmpConfig.type||w.tmpConfig.loading?(s(),n(v,{key:2,height:"12",bgColor:"transparent"})):l("",!0),r(T,{class:m(["u-toast__content__text",["u-toast__content__text--"+w.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:a((()=>[p(u(w.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","custom-style"])])),_:1})}],["__scopeId","data-v-b25abb65"]]);export{b as _};

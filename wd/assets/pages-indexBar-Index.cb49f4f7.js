import{d as e,r as a,q as n,m as t,o as s,c as d,w as o,x as i,b as c,t as l,n as r,u as x,y as u,i as p,J as h,T as f,a as _,R as v,e as b,F as m,f as w,a3 as T,h as y,j as g}from"./index-dce73128.js";import{g as k,x as I,l as L,h as $,G as S,t as C,H,b as j,d as B,_ as F,a as G}from"./page-wraper.5690414d.js";import{u as Y}from"./useChildren.8ed137fc.js";const q={...k,index:I([String,Number])},A={sticky:L(!1)},D=Symbol("wd-index-bar"),E=j(e({__name:"wd-index-anchor",props:q,setup(e){const f=e,{parent:_}=$(D),v=a(`indexBar${S()}`),{proxy:b}=h(),m=n((()=>_&&_.props.sticky&&_.anchorState.activeIndex===f.index));return t((()=>{C(_)&&_.anchorState.anchorList.push({top:0,index:f.index}),H(`#${v.value}`,!1,b).then((e=>{C(_)&&(_.anchorState.anchorList.find((e=>e.index===f.index)).top=e.top)}))})),(e,a)=>{const n=p;return s(),d(n,{class:r(`wd-index-anchor ${x(m)?"is-sticky":""} ${e.customClass}`),style:u(e.customStyle),id:v.value},{default:o((()=>[i(e.$slots,"default",{},(()=>[c(l(e.index),1)]),!0)])),_:3},8,["class","style","id"])}}}),[["__scopeId","data-v-7d7841aa"]]),J=j(e({__name:"wd-index-bar",props:A,setup(e){const n=e,x=a(`indexBar${S()}`),{proxy:u}=h(),y=f({activeIndex:null,anchorList:[]}),{linkChildren:g}=Y(D);g({props:n,anchorState:y});const k=a(0);let I=0,L={offsetTop:0,indexHeight:24};function $(e){const{detail:a}=e,n=y.anchorList.find(((e,n)=>!C(y.anchorList[n+1])||e.top-I<=a.scrollTop&&y.anchorList[n+1].top-I>a.scrollTop));y.activeIndex=n.index}function j(e){const a=e-L.offsetTop;let n=Math.floor(a/L.indexHeight);return n<0?n=0:n>y.anchorList.length-1&&(n=y.anchorList.length-1),y.anchorList[n]}function B(e){const a=e.touches[0].pageY;y.activeIndex!==j(a).index&&(y.activeIndex=j(a).index,k.value=j(a).top-I)}function F(e){const a=e.changedTouches[0].pageY;k.value=j(a).top-I}return t((()=>{setTimeout((()=>{var e;y.activeIndex=null==(e=y.anchorList[0])?void 0:e.index,Promise.all([H(`#${x.value}`,!1,u),H(".wd-index-bar__sidebar",!1,u),H(".wd-index-bar__index",!1,u)]).then((([e,a,n])=>{I=e.top,L.offsetTop=a.top,L.indexHeight=n.height}))}),100)})),(e,a)=>{const n=T,t=p;return s(),d(t,{class:"wd-index-bar",id:x.value},{default:o((()=>[_(n,{scrollTop:k.value,"scroll-y":!0,class:"wd-index-bar__content",onScroll:$},{default:o((()=>[i(e.$slots,"default",{},void 0,!0)])),_:3},8,["scrollTop"]),_(t,{class:"wd-index-bar__sidebar",onTouchmove:v(B,["stop","prevent"]),onTouchend:v(F,["stop","prevent"]),onTouchcancel:v(F,["stop","prevent"])},{default:o((()=>[(s(!0),b(m,null,w(y.anchorList,(e=>(s(),d(t,{class:r(["wd-index-bar__index",{"is-active":e.index===y.activeIndex}]),key:e.index},{default:o((()=>[c(l(e.index),1)])),_:2},1032,["class"])))),128))])),_:1},8,["onTouchmove","onTouchend","onTouchcancel"])])),_:3},8,["id"])}}}),[["__scopeId","data-v-3f8be1ab"]]),M=j(e({__name:"Index",setup(e){const{show:n}=B(),t=a([{index:"A",data:["阿坝","阿拉善","阿里","安康","安庆","鞍山","安顺","安阳","澳门"]},{index:"B",data:["北京","白银","保定","宝鸡","保山","包头","巴中","北海","蚌埠","本溪","毕节","滨州","百色","亳州"]},{index:"C",data:["重庆","成都","长沙","长春","沧州","常德","昌都","长治","常州","巢湖","潮州","承德","郴州","赤峰","池州","崇左","楚雄","滁州","朝阳"]},{index:"D",data:["大连","东莞","大理","丹东","大庆","大同","大兴安岭","德宏","德阳","德州","定西","迪庆","东营"]},{index:"E",data:["鄂尔多斯","恩施","鄂州"]},{index:"F",data:["福州","防城港","佛山","抚顺","抚州","阜新","阜阳"]},{index:"G",data:["广州","桂林","贵阳","甘南","赣州","甘孜","广安","广元","贵港","果洛"]},{index:"H",data:["杭州","哈尔滨","合肥","海口","呼和浩特","海北","海东","海南","海西","邯郸","汉中","鹤壁","河池","鹤岗","黑河","衡水","衡阳","河源","贺州","红河","淮安","淮北","怀化","淮南","黄冈","黄南","黄山","黄石","惠州","葫芦岛","呼伦贝尔","湖州","菏泽"]}]);return(e,a)=>{const i=y(g("wd-index-anchor"),E),c=y(g("wd-cell"),F),l=p,r=y(g("wd-index-bar"),J),x=y(g("page-wraper"),G);return s(),d(x,null,{default:o((()=>[_(l,{class:"wraper"},{default:o((()=>[_(r,{sticky:""},{default:o((()=>[(s(!0),b(m,null,w(t.value,(e=>(s(),d(l,{key:e.index},{default:o((()=>[_(i,{index:e.index},null,8,["index"]),(s(!0),b(m,null,w(e.data,(a=>(s(),d(c,{border:"",clickable:"",key:a,title:a,onClick:t=>function(e,a){n(`当前点击项：${e}，城市：${a}`)}(e.index,a)},null,8,["title","onClick"])))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-137d86cf"]]);export{M as default};

import{d as t,o as e,e as a,c as s,w as i,a as o,p as n,F as l,f as r,n as c,b as u,t as d,y as p,i as m,r as g,v,q as h,h as w,j as y,u as f,x as _,l as C,af as k,ag as x}from"./index-dce73128.js";import{g as b,m as j,i as I,l as M,b as $,w as P,s as S,v as N,a2 as z,f as F,_ as V,a as A}from"./page-wraper.5690414d.js";import{_ as E}from"./demo-block.28b3373c.js";import{_ as T}from"./wd-cell-group.3bfb1a4c.js";import{_ as U}from"./wd-button.840eab05.js";import"./useChildren.8ed137fc.js";const q=$(t({__name:"wd-swiper-nav",props:{...b,current:j(0),direction:I("horizontal"),minShowNum:j(2),indicatorPosition:I("bottom"),showControls:M(!1),total:j(0),type:I("dots")},emits:["change"],setup(t,{emit:g}){function v(t){g("change",{dir:t,source:"nav"})}return(t,g)=>{const h=m;return e(),a(l,null,[t.showControls?(e(),s(h,{key:0,class:"wd-swiper-nav__btn"},{default:i((()=>[o(h,{class:"wd-swiper-nav__btn--prev",onClick:g[0]||(g[0]=t=>v("prev"))}),o(h,{class:"wd-swiper-nav__btn--next",onClick:g[1]||(g[1]=t=>v("next"))})])),_:1})):n("",!0),t.total>=t.minShowNum?(e(),s(h,{key:1,style:p(t.customStyle),class:c(`wd-swiper-nav wd-swiper-nav--${t.direction} wd-swiper-nav--${t.type} wd-swiper-nav--${t.indicatorPosition} ${t.customClass}`)},{default:i((()=>["dots"===t.type||"dots-bar"===t.type?(e(!0),a(l,{key:0},r(t.total,((a,i)=>(e(),s(h,{key:i,class:c(`wd-swiper-nav__item--${t.type} ${t.current===i?"is-active":""} is-${t.direction}`)},null,8,["class"])))),128)):n("",!0),"fraction"===t.type?(e(),a(l,{key:1},[u(d(t.current+1)+"/"+d(t.total),1)],64)):n("",!0)])),_:1},8,["style","class"])):n("",!0)],64)}}}),[["__scopeId","data-v-f9568019"]]),B=$(t({__name:"wd-swiper",props:{...b,autoplay:M(!0),current:j(0),direction:I("horizontal"),displayMultipleItems:j(1),duration:j(300),easingFunction:I("default"),height:P("192"),interval:j(5e3),list:{type:Array,default:()=>[]},loop:M(!0),nextMargin:P("0"),indicatorPosition:I("bottom"),previousMargin:P("0"),snapToEdge:M(!1),indicator:{type:[Boolean,Object],default:!0},imageMode:I("aspectFill"),customIndicatorClass:I(""),customImageClass:I(""),customPrevImageClass:I(""),customNextImageClass:I("")},emits:["click","change","animationfinish","update:current"],setup(t,{emit:u}){const d=t,b=g(0);v((()=>d.current),(t=>{var e;t<0?d.loop?M():I():t>=d.list.length?d.loop?I():M():(e=t,b.value=e),u("update:current",b.value)}),{immediate:!0});const j=h((()=>{const{list:t,direction:e,indicatorPosition:a,indicator:s}=d,i={current:b.value||0,total:t.length||0,direction:e||"horizontal",indicatorPosition:a||"bottom"};return S(s)&&(i.type=s.type||"dots",i.minShowNum=s.minShowNum||2,i.showControls=s.showControls||!1),i}));function I(){b.value=0}function M(){b.value=d.list.length-1}function $(t,e,a){let s="";return function(t,e,a){return(t-1+a.length)%a.length===e}(t,e,a)&&(s=d.customPrevImageClass),function(t,e,a){return(t+1+a.length)%a.length===e}(t,e,a)&&(s=d.customNextImageClass),s}function P(t){const{current:e,source:a}=t.detail;b.value=e,u("change",{current:e,source:a})}function z(t){const{current:e,source:a}=t.detail;u("animationfinish",{current:e,source:a})}function F(t){const{dir:e,source:a}=t;!function(t,e){const{list:a,loop:s}=d,i=a.length;let o="next"===t?b.value+1:b.value-1;o=s?"next"===t?(b.value+1)%i:(b.value-1+i)%i:o<0||o>=i?b.value:o;if(o===b.value)return;b.value=o,u("change",{current:o,source:e})}(e,a)}return(t,d)=>{const g=C,v=k,h=x,I=w(y("wd-swiper-nav"),q),M=m;return e(),s(M,{class:c(`wd-swiper ${t.customClass}`),style:p(t.customStyle)},{default:i((()=>[o(h,{class:"wd-swiper__track",autoplay:t.autoplay,current:b.value,interval:t.interval,duration:t.duration,circular:t.loop,vertical:"vertical"==t.direction,"easing-function":t.easingFunction,"previous-margin":t.previousMargin,"next-margin":t.nextMargin,"snap-to-edge":t.snapToEdge,"display-multiple-items":t.displayMultipleItems,style:p({height:f(N)(t.height)}),onChange:P,onAnimationfinish:z},{default:i((()=>[(e(!0),a(l,null,r(t.list,((a,n)=>(e(),s(v,{key:n,class:"wd-swiper__item",onClick:t=>function(t){u("click",{index:t})}(n)},{default:i((()=>[o(g,{src:f(S)(a)?a.value:a,class:c(`wd-swiper__image ${t.customImageClass} ${$(b.value,n,t.list)}`),style:p({height:f(N)(t.height)}),mode:t.imageMode},null,8,["src","class","style","mode"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["autoplay","current","interval","duration","circular","vertical","easing-function","previous-margin","next-margin","snap-to-edge","display-multiple-items","style"]),t.indicator?(e(),a(l,{key:0},[_(t.$slots,"indicator",{current:b.value,total:t.list.length},void 0,!0),t.$slots.indicator?n("",!0):(e(),s(I,{key:0,"custom-class":t.customIndicatorClass,type:f(j).type,current:f(j).current,total:f(j).total,direction:f(j).direction,"indicator-position":f(j).indicatorPosition,"min-show-num":f(j).minShowNum,"show-controls":f(j).showControls,onChange:F},null,8,["custom-class","type","current","total","direction","indicator-position","min-show-num","show-controls"]))],64)):n("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-7081a139"]]),O=$(t({__name:"Index",setup(t){const a=g(["https://unpkg.com/wot-design-uni-assets/redpanda.jpg","https://unpkg.com/wot-design-uni-assets/capybara.jpg","https://unpkg.com/wot-design-uni-assets/panda.jpg","https://img.yzcdn.cn/vant/cat.jpeg","https://unpkg.com/wot-design-uni-assets/meng.jpg"]),n=g(0),l=g(!1);function r(t){console.log(t)}function c(t){console.log(t)}return(t,p)=>{const g=w(y("wd-swiper"),B),v=w(y("demo-block"),E),h=m,f=w(y("wd-gap"),z),_=w(y("wd-switch"),F),C=w(y("wd-cell"),V),k=w(y("wd-cell-group"),T),x=w(y("wd-button"),U),b=w(y("page-wraper"),A);return e(),s(b,null,{default:i((()=>[o(v,{title:"点状指示器"},{default:i((()=>[o(g,{list:a.value,autoplay:"",current:0,indicator:{type:"dots"},onClick:r,onChange:c},null,8,["list"])])),_:1}),o(v,{title:"点条状指示器"},{default:i((()=>[o(g,{list:a.value,autoplay:"",current:1,indicator:{type:"dots-bar"},onClick:r,onChange:c},null,8,["list"])])),_:1}),o(v,{title:"数字指示器"},{default:i((()=>[o(g,{list:a.value,autoplay:"",current:2,indicator:{type:"fraction"},"indicator-position":"bottom-right",onClick:r,onChange:c},null,8,["list"])])),_:1}),o(v,{title:"手动切换"},{default:i((()=>[o(g,{list:a.value,autoplay:!1,current:3,indicator:{showControls:!0},loop:!1,onClick:r,onChange:c},null,8,["list"])])),_:1}),o(v,{title:"卡片样式"},{default:i((()=>[o(h,{class:"card-swiper"},{default:i((()=>[o(g,{autoplay:"",current:4,"custom-indicator-class":"custom-indicator-class","custom-image-class":"custom-image","custom-next-image-class":"custom-image-prev","custom-prev-image-class":"custom-image-prev",indicator:{type:"dots"},list:a.value,previousMargin:"24px",nextMargin:"24px"},null,8,["list"])])),_:1})])),_:1}),o(v,{title:"同时展示2个滑块"},{default:i((()=>[o(h,{class:"card-swiper"},{default:i((()=>[o(g,{autoplay:"",current:4,"display-multiple-items":2,"custom-indicator-class":"custom-indicator-class","custom-image-class":"custom-image","custom-next-image-class":"custom-image-prev","custom-prev-image-class":"custom-image-prev",indicator:{type:"dots"},list:a.value,previousMargin:"24px",nextMargin:"24px"},null,8,["list"])])),_:1})])),_:1}),o(v,{title:"垂直方向"},{default:i((()=>[o(g,{list:a.value,direction:"vertical","indicator-position":"right",autoplay:"",current:1,indicator:{type:"dots-bar"},onClick:r,onChange:c},null,8,["list"])])),_:1}),o(v,{title:"自定义指示器"},{default:i((()=>[o(g,{list:a.value,direction:"vertical","indicator-position":"right",autoplay:"",current:1,onClick:r,onChange:c},{indicator:i((({current:t,total:e})=>[o(h,{class:"custom-indicator",style:{position:"absolute",bottom:"24rpx",right:"24rpx"}},{default:i((()=>[u(d(t+1)+"/"+d(e),1)])),_:2},1024)])),_:1},8,["list"])])),_:1}),o(v,{title:"属性控制切换"},{default:i((()=>[o(g,{loop:l.value,autoplay:!1,list:a.value,current:n.value,"onUpdate:current":p[0]||(p[0]=t=>n.value=t)},null,8,["loop","list","current"]),o(f),o(k,null,{default:i((()=>[o(C,{title:"loop"},{default:i((()=>[o(_,{modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=t=>l.value=t),size:"24px"},null,8,["modelValue"])])),_:1}),o(C,{title:"current",value:n.value.toString()},null,8,["value"])])),_:1}),o(h,{style:{display:"flex","justify-content":"space-between"}},{default:i((()=>[o(x,{onClick:p[2]||(p[2]=t=>n.value--)},{default:i((()=>[u("prev")])),_:1}),o(x,{type:"success",onClick:p[3]||(p[3]=t=>n.value++)},{default:i((()=>[u("next")])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-4cc9cdc1"]]);export{O as default};
